function s_grid_onCellLink(reportId,rowIndex,colName){var report=window._sigmaReports[reportId],col=report.getColByName(colName),ss=rowIndex.split("."),row=null,index=null;1==ss.length?row=report.rows[rowIndex]:(row=report.rows[ss[0]],index=ss[1],row=row.childRows[ss[1]]),eval(col.href)}function SigmaReport(a,b,c,d,e,f,g,h){this.cols=c,this.rows=[],this.scrollTop=0,this.scrollLeft=0,this.context=b,this.printClassName=d,this.printTable_title=e,void 0===b.locked&&(b.locked=0);var i=null;i="string"==typeof a?document.getElementById(a):a,this.id=i.id;var j=window._sigmaReports;null==j&&(j={},window._sigmaReports=j),j[this.id]=this,i.innerHTML="",i.style.overflow="hidden",this.headWide=null,this.headDeep=null,this.headHeight=null,this.bodyHeight=null,this.colsWidth=null,this.cellHeight=20,this.renders={},this.registerRender("string",sgrid_StringRender),this.registerRender("boolean",sgrid_BoolRender),this.registerRender("number",sgrid_NumberRender),this.registerRender("link",sgrid_LinkRender),this.registerRender("select",sgrid_SelectRender),this.registerRender("date",sgrid_DateRender),("undefined"==typeof f||""==f||null==f)&&(f=document.title),g=0!=g?'<a href="javascript:;" class="print" title="打印"></a></div>':"";var k=[];"undefined"==typeof e||""==e||null==e?k[k.length]='<div class="table_title" id="title_'+this.id+'">'+f+"报表"+g+"</div>":k[k.length]='<div class="printTable_title" id="title_'+this.id+'">'+f+"报表"+g+"</div>",k[k.length]='<div id="tableWrap"><div id="head_'+this.id+'"  class="head" style="">',k[k.length]="表头区域",k[k.length]="</div>",k[k.length]='<div id="body_'+this.id+'"  class="body" style="">',k[k.length]="数据加载中，请稍候...",k[k.length]="</div></div>","undefined"==typeof d||""==d||null==d?i.printClassName="SigmaReport":i.printClassName=d,i.innerHTML=k.join(""),i.style.padding="0px",i.style.margin="0px",i.style.padding="0px;",this.getColWidth=function(a){return null!=a.width?a.width:100},this.countHeadDeep(),this.countHeadWide(),this.calcRowSpan(),this.getHeadBox().innerHTML=this.paintHeader();var l=$(".ui-layout-north").outerHeight()+$(".thisCrumbs").outerHeight()+$(".btnbanner").outerHeight()+$(".ui-tabs-nav").outerHeight()+$(".table_title").outerHeight()+41;"SigmaReport"==i.printClassName&&($(".SigmaReport").height($("body").height()-l-15),$(".SigmaReport #tableWrap").height($(".SigmaReport .body").height()+($("body").height()-$(".SigmaReport .head").height()-l-50)),$(".SigmaReport .body,.SigmaReport #body_gridbox table").width($("#tHead_gridbox").width())),$.loadingComp("close"),h&&($("#head_"+this.id).find("td").append('<a href="javascript:;" class="sort desc"></a>'),$("#head_"+this.id).find("td[colname=general]").find("a").remove(),$("#head_"+this.id).find("td[colname='organization.orgName']").find("a").remove(),$("#head_"+this.id).find("td[colname='orgName']").find("a").remove(),$("#head_"+this.id).find(".sort").click(function(){var a=$(this).closest("td").attr("colname"),b=$(this).closest("td").attr("caption"),c=$(this).hasClass("desc")?"asc":"desc";$(this).removeClass("asc desc").addClass(c),h(a,b,c)}))}function SigmaReportRow(a,b){this.data=a,this._index=b,this._selected=!1,this.report=null,this.childRows=[],this.indexOfChildren=0}function getTwinIntStr(a){return a>=10?""+a:"0"+a}Ext={},window.undefined=window.undefined,Ext.apply=function(a,b,c){if(c&&Ext.apply(a,c),a&&b&&"object"==typeof b)for(var d in b)a[d]=b[d];return a},function(){var idSeed=0,ua=navigator.userAgent.toLowerCase(),isStrict="CSS1Compat"==document.compatMode,isOpera=ua.indexOf("opera")>-1,isSafari=/webkit|khtml/.test(ua),isIE=ua.indexOf("msie")>-1,isIE7=ua.indexOf("msie 7")>-1,isGecko=!isSafari&&ua.indexOf("gecko")>-1,isBorderBox=isIE&&!isStrict,isWindows=-1!=ua.indexOf("windows")||-1!=ua.indexOf("win32"),isMac=-1!=ua.indexOf("macintosh")||-1!=ua.indexOf("mac os x"),isLinux=-1!=ua.indexOf("linux"),isSecure=0===window.location.href.toLowerCase().indexOf("https");if(isIE&&!isIE7)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}Ext.apply(Ext,{isStrict:isStrict,isSecure:isSecure,isReady:!1,enableGarbageCollector:!0,enableListenerCollection:!1,SSL_SECURE_URL:"javascript:false",BLANK_IMAGE_URL:RESOURCE_PATH+"/resource/external/ext/s.gif",emptyFn:function(){},applyIf:function(a,b){if(a&&b)for(var c in b)"undefined"==typeof a[c]&&(a[c]=b[c]);return a},addBehaviors:function(a){if(!Ext.isReady)return void Ext.onReady(function(){Ext.addBehaviors(a)});var b={};for(var c in a){var d=c.split("@");if(d[1]){var e=d[0];b[e]||(b[e]=Ext.select(e)),b[e].on(d[1],a[c])}}b=null},id:function(a,b){b=b||"ext-gen",a=Ext.getDom(a);var c=b+ ++idSeed;return a?a.id?a.id:a.id=c:c},extend:function(){var a=function(a){for(var b in a)this[b]=a[b]};return function(b,c,d){"object"==typeof c&&(d=c,c=b,b=function(){c.apply(this,arguments)});var e,f=function(){},g=c.prototype;return f.prototype=g,e=b.prototype=new f,e.constructor=b,b.superclass=g,g.constructor==Object.prototype.constructor&&(g.constructor=c),b.override=function(a){Ext.override(b,a)},e.override=a,Ext.override(b,d),b}}(),override:function(a,b){if(b){var c=a.prototype;for(var d in b)c[d]=b[d]}},namespace:function(){var a=arguments,o=null,i,j,d,rt;for(i=0;i<a.length;++i)for(d=a[i].split("."),rt=d[0],eval("if (typeof "+rt+' == "undefined"){'+rt+" = {};} o = "+rt+";"),j=1;j<d.length;++j)o[d[j]]=o[d[j]]||{},o=o[d[j]]},urlEncode:function(a){if(!a)return"";var b=[];for(var c in a){var d=a[c],e=encodeURIComponent(c),f=typeof d;if("undefined"==f)b.push(e,"=&");else if("function"!=f&&"object"!=f)b.push(e,"=",encodeURIComponent(d),"&");else if(d instanceof Array)if(d.length)for(var g=0,h=d.length;h>g;g++)b.push(e,"=",encodeURIComponent(void 0===d[g]?"":d[g]),"&");else b.push(e,"=&")}return b.pop(),b.join("")},urlDecode:function(a,b){if(!a||!a.length)return{};for(var c,d,e,f={},g=a.split("&"),h=0,i=g.length;i>h;h++)c=g[h].split("="),d=decodeURIComponent(c[0]),e=decodeURIComponent(c[1]),b!==!0?"undefined"==typeof f[d]?f[d]=e:"string"==typeof f[d]?(f[d]=[f[d]],f[d].push(e)):f[d].push(e):f[d]=e;return f},each:function(a,b,c){("undefined"==typeof a.length||"string"==typeof a)&&(a=[a]);for(var d=0,e=a.length;e>d;d++)if(b.call(c||a[d],a[d],d,a)===!1)return d},combine:function(){for(var a=arguments,b=a.length,c=[],d=0;b>d;d++){var e=a[d];e instanceof Array?c=c.concat(e):void 0===e.length||e.substr?c.push(e):c=c.concat(Array.prototype.slice.call(e,0))}return c},escapeRe:function(a){return a.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},callback:function(a,b,c,d){"function"==typeof a&&(d?a.defer(d,b,c||[]):a.apply(b,c||[]))},getDom:function(a){return a?a.dom?a.dom:"string"==typeof a?document.getElementById(a):a:null},getCmp:function(a){return Ext.ComponentMgr.get(a)},num:function(a,b){return"number"!=typeof a?b:a},destroy:function(){for(var a=0,b=arguments,c=b.length;c>a;a++){var d=b[a];if(d){if(d.dom){d.removeAllListeners(),d.remove();continue}"function"==typeof d.purgeListeners&&d.purgeListeners(),"function"==typeof d.destroy&&d.destroy()}}},type:function(a){if(void 0===a||null===a)return!1;if(a.htmlElement)return"element";var b=typeof a;if("object"==b&&a.nodeName)switch(a.nodeType){case 1:return"element";case 3:return/\S/.test(a.nodeValue)?"textnode":"whitespace"}if("object"==b||"function"==b){switch(a.constructor){case Array:return"array";case RegExp:return"regexp"}if("number"==typeof a.length&&"function"==typeof a.item)return"nodelist"}return b},isEmpty:function(a,b){return null===a||void 0===a||(b?!1:""===a)},isOpera:isOpera,isSafari:isSafari,isIE:isIE,isIE7:isIE7,isGecko:isGecko,isBorderBox:isBorderBox,isWindows:isWindows,isLinux:isLinux,isMac:isMac,useShims:isIE&&!isIE7||isGecko&&isMac})}(),Ext.namespace("Ext","Ext.util","Ext.grid","Ext.dd","Ext.tree","Ext.data","Ext.form","Ext.menu","Ext.state","Ext.lib","Ext.layout","Ext.app","Ext.ux"),Ext.apply(Function.prototype,{createCallback:function(){var a=arguments,b=this;return function(){return b.apply(window,a)}},createDelegate:function(a,b,c){var d=this;return function(){var e=b||arguments;if(c===!0)e=Array.prototype.slice.call(arguments,0),e=e.concat(b);else if("number"==typeof c){e=Array.prototype.slice.call(arguments,0);var f=[c,0].concat(b);Array.prototype.splice.apply(e,f)}return d.apply(a||window,e)}},defer:function(a,b,c,d){var e=this.createDelegate(b,c,d);return a?setTimeout(e,a):(e(),0)},createSequence:function(a,b){if("function"!=typeof a)return this;var c=this;return function(){var d=c.apply(this||window,arguments);return a.apply(b||this||window,arguments),d}},createInterceptor:function(a,b){if("function"!=typeof a)return this;var c=this;return function(){return a.target=this,a.method=c,a.apply(b||this||window,arguments)!==!1?c.apply(this||window,arguments):void 0}}}),Ext.applyIf(String,{escape:function(a){return a.replace(/('|\\)/g,"\\$1")},leftPad:function(a,b,c){var d=new String(a);for((null===c||void 0===c||""===c)&&(c=" ");d.length<b;)d=c+d;return d},format:function(a){var b=Array.prototype.slice.call(arguments,1);return a.replace(/\{(\d+)\}/g,function(a,c){return b[c]})}}),String.prototype.toggle=function(a,b){return this==a?b:a},Ext.applyIf(Number.prototype,{constrain:function(a,b){return Math.min(Math.max(this,a),b)}}),Ext.applyIf(Array.prototype,{indexOf:function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]==a)return b;return-1},remove:function(a){var b=this.indexOf(a);-1!=b&&this.splice(b,1)}}),Date.prototype.getElapsed=function(a){return Math.abs((a||new Date).getTime()-this.getTime())},function(){function a(a){return c||(c=new Ext.Element.Flyweight),c.dom=a,c}function b(){var a=Function.prototype;delete a.createSequence,delete a.defer,delete a.createDelegate,delete a.createCallback,delete a.createInterceptor,window.detachEvent("onunload",b)}var c;Ext.lib.Dom={getViewWidth:function(a){return a?this.getDocumentWidth():this.getViewportWidth()},getViewHeight:function(a){return a?this.getDocumentHeight():this.getViewportHeight()},getDocumentHeight:function(){var a="CSS1Compat"!=document.compatMode?document.body.scrollHeight:document.documentElement.scrollHeight;return Math.max(a,this.getViewportHeight())},getDocumentWidth:function(){var a="CSS1Compat"!=document.compatMode?document.body.scrollWidth:document.documentElement.scrollWidth;return Math.max(a,this.getViewportWidth())},getViewportHeight:function(){var a=self.innerHeight,b=document.compatMode;return!b&&!Ext.isIE||Ext.isOpera||(a="CSS1Compat"==b?document.documentElement.clientHeight:document.body.clientHeight),a},getViewportWidth:function(){var a=self.innerWidth,b=document.compatMode;return(b||Ext.isIE)&&(a="CSS1Compat"==b?document.documentElement.clientWidth:document.body.clientWidth),a},isAncestor:function(a,b){if(a=Ext.getDom(a),b=Ext.getDom(b),!a||!b)return!1;if(a.contains&&!Ext.isSafari)return a.contains(b);if(a.compareDocumentPosition)return!!(16&a.compareDocumentPosition(b));for(var c=b.parentNode;c;){if(c==a)return!0;if(!c.tagName||"HTML"==c.tagName.toUpperCase())return!1;c=c.parentNode}return!1},getRegion:function(a){return Ext.lib.Region.getRegion(a)},getY:function(a){return this.getXY(a)[1]},getX:function(a){return this.getXY(a)[0]},getXY:function(b){var c,d,e,f,g=document.body;if(b=Ext.getDom(b),b.getBoundingClientRect)return e=b.getBoundingClientRect(),f=a(document).getScroll(),[e.left+f.left,e.top+f.top];var h=0,i=0;c=b;for(var j="absolute"==a(b).getStyle("position");c;){if(h+=c.offsetLeft,i+=c.offsetTop,j||"absolute"!=a(c).getStyle("position")||(j=!0),Ext.isGecko){d=a(c);var k=parseInt(d.getStyle("borderTopWidth"),10)||0,l=parseInt(d.getStyle("borderLeftWidth"),10)||0;h+=l,i+=k,c!=b&&"visible"!=d.getStyle("overflow")&&(h+=l,i+=k)}c=c.offsetParent}if(Ext.isSafari&&j&&(h-=g.offsetLeft,i-=g.offsetTop),Ext.isGecko&&!j){var m=a(g);h+=parseInt(m.getStyle("borderLeftWidth"),10)||0,i+=parseInt(m.getStyle("borderTopWidth"),10)||0}for(c=b.parentNode;c&&c!=g;)(!Ext.isOpera||"TR"!=c.tagName&&"inline"!=a(c).getStyle("display"))&&(h-=c.scrollLeft,i-=c.scrollTop),c=c.parentNode;return[h,i]},setXY:function(a,b){a=Ext.fly(a,"_setXY"),a.position();var c=a.translatePoints(b);b[0]!==!1&&(a.dom.style.left=c.left+"px"),b[1]!==!1&&(a.dom.style.top=c.top+"px")},setX:function(a,b){this.setXY(a,[b,!1])},setY:function(a,b){this.setXY(a,[!1,b])}},Ext.lib.Event=function(){var a=!1,b=[],c=[],d=0,e=[];return{POLL_RETRYS:200,POLL_INTERVAL:20,EL:0,TYPE:1,FN:2,WFN:3,OBJ:3,ADJ_SCOPE:4,_interval:null,startInterval:function(){if(!this._interval){var a=this,b=function(){a._tryPreloadAttach()};this._interval=setInterval(b,this.POLL_INTERVAL)}},onAvailable:function(a,b,c,f){e.push({id:a,fn:b,obj:c,override:f,checkReady:!1}),d=this.POLL_RETRYS,this.startInterval()},addListener:function(a,d,e){if(a=Ext.getDom(a),!a||!e)return!1;if("unload"==d)return c[c.length]=[a,d,e],!0;var f=function(a){return e(Ext.lib.Event.getEvent(a))},g=[a,d,e,f],h=b.length;return b[h]=g,this.doAdd(a,d,f,!1),!0},removeListener:function(a,d,e){var f,g;if(a=Ext.getDom(a),!e)return this.purgeElement(a,!1,d);if("unload"==d){for(f=0,g=c.length;g>f;f++){var h=c[f];if(h&&h[0]==a&&h[1]==d&&h[2]==e)return c.splice(f,1),!0}return!1}var i=null,j=arguments[3];return"undefined"==typeof j&&(j=this._getCacheIndex(a,d,e)),j>=0&&(i=b[j]),a&&i?(this.doRemove(a,d,i[this.WFN],!1),delete b[j][this.WFN],delete b[j][this.FN],b.splice(j,1),!0):!1},getTarget:function(a,b){a=a.browserEvent||a;var c=a.target||a.srcElement;return this.resolveTextNode(c)},resolveTextNode:function(a){return Ext.isSafari&&a&&3==a.nodeType?a.parentNode:a},getPageX:function(a){a=a.browserEvent||a;var b=a.pageX;return b||0===b||(b=a.clientX||0,Ext.isIE&&(b+=this.getScroll()[1])),b},getPageY:function(a){a=a.browserEvent||a;var b=a.pageY;return b||0===b||(b=a.clientY||0,Ext.isIE&&(b+=this.getScroll()[0])),b},getXY:function(a){return a=a.browserEvent||a,[this.getPageX(a),this.getPageY(a)]},getRelatedTarget:function(a){a=a.browserEvent||a;var b=a.relatedTarget;return b||("mouseout"==a.type?b=a.toElement:"mouseover"==a.type&&(b=a.fromElement)),this.resolveTextNode(b)},getTime:function(a){if(a=a.browserEvent||a,!a.time){var b=(new Date).getTime();try{a.time=b}catch(c){return this.lastError=c,b}}return a.time},stopEvent:function(a){this.stopPropagation(a),this.preventDefault(a)},stopPropagation:function(a){a=a.browserEvent||a,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},preventDefault:function(a){a=a.browserEvent||a,a.preventDefault?a.preventDefault():a.returnValue=!1},getEvent:function(a){var b=a||window.event;if(!b)for(var c=this.getEvent.caller;c&&(b=c.arguments[0],!b||Event!=b.constructor);)c=c.caller;return b},getCharCode:function(a){return a=a.browserEvent||a,a.charCode||a.keyCode||0},_getCacheIndex:function(a,c,d){for(var e=0,f=b.length;f>e;++e){var g=b[e];if(g&&g[this.FN]==d&&g[this.EL]==a&&g[this.TYPE]==c)return e}return-1},elCache:{},getEl:function(a){return document.getElementById(a)},clearCache:function(){},_load:function(b){a=!0;var c=Ext.lib.Event;Ext.isIE&&c.doRemove(window,"load",c._load)},_tryPreloadAttach:function(){if(this.locked)return!1;this.locked=!0;var b=!a;b||(b=d>0);for(var c=[],f=0,g=e.length;g>f;++f){var h=e[f];if(h){var i=this.getEl(h.id);if(i){if(!h.checkReady||a||i.nextSibling||document&&document.body){var j=i;h.override&&(j=h.override===!0?h.obj:h.override),h.fn.call(j,h.obj),e[f]=null}}else c.push(h)}}return d=0===c.length?0:d-1,b?this.startInterval():(clearInterval(this._interval),this._interval=null),this.locked=!1,!0},purgeElement:function(a,b,c){var d=this.getListeners(a,c);if(d)for(var e=0,f=d.length;f>e;++e){var g=d[e];this.removeListener(a,g.type,g.fn)}if(b&&a&&a.childNodes)for(e=0,f=a.childNodes.length;f>e;++e)this.purgeElement(a.childNodes[e],b,c)},getListeners:function(a,d){var e,f=[];e=d?"unload"==d?[c]:[b]:[b,c];for(var g=0;g<e.length;++g){var h=e[g];if(h&&h.length>0)for(var i=0,j=h.length;j>i;++i){var k=h[i];!k||k[this.EL]!==a||d&&d!==k[this.TYPE]||f.push({type:k[this.TYPE],fn:k[this.FN],obj:k[this.OBJ],adjust:k[this.ADJ_SCOPE],index:i})}}return f.length?f:null},_unload:function(a){var d,e,f,g,h,i=Ext.lib.Event;for(d=0,g=c.length;g>d;++d)if(f=c[d]){var j=window;f[i.ADJ_SCOPE]&&(j=f[i.ADJ_SCOPE]===!0?f[i.OBJ]:f[i.ADJ_SCOPE]),f[i.FN].call(j,i.getEvent(a),f[i.OBJ]),c[d]=null,f=null,j=null}if(c=null,b&&b.length>0){for(e=b.length;e;)h=e-1,f=b[h],f&&i.removeListener(f[i.EL],f[i.TYPE],f[i.FN],h),e-=1;f=null,i.clearCache()}i.doRemove(window,"unload",i._unload)},getScroll:function(){var a=document.documentElement,b=document.body;return a&&(a.scrollTop||a.scrollLeft)?[a.scrollTop,a.scrollLeft]:b?[b.scrollTop,b.scrollLeft]:[0,0]},doAdd:function(){return window.addEventListener?function(a,b,c,d){a.addEventListener(b,c,d)}:window.attachEvent?function(a,b,c,d){a.attachEvent("on"+b,c)}:function(){}}(),doRemove:function(){return window.removeEventListener?function(a,b,c,d){a.removeEventListener(b,c,d)}:window.detachEvent?function(a,b,c){a.detachEvent("on"+b,c)}:function(){}}()}}();var d=Ext.lib.Event;d.on=d.addListener,d.un=d.removeListener,document&&document.body?d._load():d.doAdd(window,"load",d._load),d.doAdd(window,"unload",d._unload),d._tryPreloadAttach(),Ext.lib.Ajax={request:function(a,b,c,d,e){if(e){var f=e.headers;if(f)for(var g in f)f.hasOwnProperty(g)&&this.initHeader(g,f[g],!1);e.xmlData&&(this.initHeader("Content-Type","text/xml",!1),a="POST",d=e.xmlData)}return this.asyncRequest(a,b,c,d)},serializeForm:function(a){"string"==typeof a&&(a=document.getElementById(a)||document.forms[a]);for(var b,c,d,e,f="",g=!1,h=0;h<a.elements.length;h++)if(b=a.elements[h],e=a.elements[h].disabled,c=a.elements[h].name,d=a.elements[h].value,!e&&c)switch(b.type){case"select-one":case"select-multiple":for(var i=0;i<b.options.length;i++)b.options[i].selected&&(f+=Ext.isIE?encodeURIComponent(c)+"="+encodeURIComponent(b.options[i].attributes.value.specified?b.options[i].value:b.options[i].text)+"&":encodeURIComponent(c)+"="+encodeURIComponent(b.options[i].hasAttribute("value")?b.options[i].value:b.options[i].text)+"&");break;case"radio":case"checkbox":b.checked&&(f+=encodeURIComponent(c)+"="+encodeURIComponent(d)+"&");break;case"file":case void 0:case"reset":case"button":break;case"submit":0==g&&(f+=encodeURIComponent(c)+"="+encodeURIComponent(d)+"&",g=!0);break;default:f+=encodeURIComponent(c)+"="+encodeURIComponent(d)+"&"}return f=f.substr(0,f.length-1)},headers:{},hasHeaders:!1,useDefaultHeader:!0,defaultPostHeader:"application/x-www-form-urlencoded",useDefaultXhrHeader:!0,defaultXhrHeader:"XMLHttpRequest",hasDefaultHeaders:!0,defaultHeaders:{},poll:{},timeout:{},pollInterval:50,transactionId:0,setProgId:function(a){this.activeX.unshift(a)},setDefaultPostHeader:function(a){this.useDefaultHeader=a},setDefaultXhrHeader:function(a){this.useDefaultXhrHeader=a},setPollingInterval:function(a){"number"==typeof a&&isFinite(a)&&(this.pollInterval=a)},createXhrObject:function(a){var b,c;try{c=new XMLHttpRequest,b={conn:c,tId:a}}catch(d){for(var e=0;e<this.activeX.length;++e)try{c=new ActiveXObject(this.activeX[e]),b={conn:c,tId:a};break}catch(d){}}finally{return b}},getConnectionObject:function(){var a,b=this.transactionId;try{a=this.createXhrObject(b),a&&this.transactionId++}catch(c){}finally{return a}},asyncRequest:function(a,b,c,d){var e=this.getConnectionObject();return e?(e.conn.open(a,b,!0),this.useDefaultXhrHeader&&(this.defaultHeaders["X-Requested-With"]||this.initHeader("X-Requested-With",this.defaultXhrHeader,!0)),d&&this.useDefaultHeader&&this.initHeader("Content-Type",this.defaultPostHeader),(this.hasDefaultHeaders||this.hasHeaders)&&this.setHeader(e),this.handleReadyState(e,c),e.conn.send(d||null),e):null},handleReadyState:function(a,b){var c=this;b&&b.timeout&&(this.timeout[a.tId]=window.setTimeout(function(){c.abort(a,b,!0)},b.timeout)),this.poll[a.tId]=window.setInterval(function(){a.conn&&4==a.conn.readyState&&(window.clearInterval(c.poll[a.tId]),delete c.poll[a.tId],b&&b.timeout&&(window.clearTimeout(c.timeout[a.tId]),delete c.timeout[a.tId]),c.handleTransactionResponse(a,b))},this.pollInterval)},handleTransactionResponse:function(a,b,c){if(!b)return void this.releaseObject(a);var d,e;try{d=void 0!==a.conn.status&&0!=a.conn.status?a.conn.status:13030}catch(f){d=13030}if(d>=200&&300>d)e=this.createResponseObject(a,b.argument),b.success&&(b.scope?b.success.apply(b.scope,[e]):b.success(e));else switch(d){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:e=this.createExceptionObject(a.tId,b.argument,c?c:!1),b.failure&&(b.scope?b.failure.apply(b.scope,[e]):b.failure(e));break;default:e=this.createResponseObject(a,b.argument),b.failure&&(b.scope?b.failure.apply(b.scope,[e]):b.failure(e))}this.releaseObject(a),e=null},createResponseObject:function(a,b){var c={},d={};try{for(var e=a.conn.getAllResponseHeaders(),f=e.split("\n"),g=0;g<f.length;g++){var h=f[g].indexOf(":");-1!=h&&(d[f[g].substring(0,h)]=f[g].substring(h+2))}}catch(i){}return c.tId=a.tId,c.status=a.conn.status,c.statusText=a.conn.statusText,c.getResponseHeader=d,c.getAllResponseHeaders=e,c.responseText=a.conn.responseText,c.responseXML=a.conn.responseXML,void 0!==typeof b&&(c.argument=b),c},createExceptionObject:function(a,b,c){var d=0,e="communication failure",f=-1,g="transaction aborted",h={};return h.tId=a,c?(h.status=f,h.statusText=g):(h.status=d,h.statusText=e),b&&(h.argument=b),h},initHeader:function(a,b,c){var d=c?this.defaultHeaders:this.headers;void 0===d[a]?d[a]=b:d[a]=b+","+d[a],c?this.hasDefaultHeaders=!0:this.hasHeaders=!0},setHeader:function(a){if(this.hasDefaultHeaders)for(var b in this.defaultHeaders)this.defaultHeaders.hasOwnProperty(b)&&a.conn.setRequestHeader(b,this.defaultHeaders[b]);if(this.hasHeaders){for(var b in this.headers)this.headers.hasOwnProperty(b)&&a.conn.setRequestHeader(b,this.headers[b]);this.headers={},this.hasHeaders=!1}},resetDefaultHeaders:function(){delete this.defaultHeaders,this.defaultHeaders={},this.hasDefaultHeaders=!1},abort:function(a,b,c){return this.isCallInProgress(a)?(a.conn.abort(),window.clearInterval(this.poll[a.tId]),delete this.poll[a.tId],c&&delete this.timeout[a.tId],this.handleTransactionResponse(a,b,!0),!0):!1},isCallInProgress:function(a){return a&&a.conn?4!=a.conn.readyState&&0!=a.conn.readyState:!1},releaseObject:function(a){a.conn=null,a=null},activeX:["MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"]},Ext.lib.Region=function(a,b,c,d){this.top=a,this[1]=a,this.right=b,this.bottom=c,this.left=d,this[0]=d},Ext.lib.Region.prototype={contains:function(a){return a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom},getArea:function(){return(this.bottom-this.top)*(this.right-this.left)},intersect:function(a){var b=Math.max(this.top,a.top),c=Math.min(this.right,a.right),d=Math.min(this.bottom,a.bottom),e=Math.max(this.left,a.left);return d>=b&&c>=e?new Ext.lib.Region(b,c,d,e):null},union:function(a){var b=Math.min(this.top,a.top),c=Math.max(this.right,a.right),d=Math.max(this.bottom,a.bottom),e=Math.min(this.left,a.left);return new Ext.lib.Region(b,c,d,e)},adjust:function(a,b,c,d){return this.top+=a,this.left+=b,this.right+=d,this.bottom+=c,this}},Ext.lib.Region.getRegion=function(a){var b=Ext.lib.Dom.getXY(a),c=b[1],d=b[0]+a.offsetWidth,e=b[1]+a.offsetHeight,f=b[0];return new Ext.lib.Region(c,d,e,f)},Ext.lib.Point=function(a,b){a instanceof Array&&(b=a[1],a=a[0]),this.x=this.right=this.left=this[0]=a,this.y=this.top=this.bottom=this[1]=b},Ext.lib.Point.prototype=new Ext.lib.Region,Ext.lib.Anim={scroll:function(a,b,c,d,e,f){this.run(a,b,c,d,e,f,Ext.lib.Scroll)},motion:function(a,b,c,d,e,f){this.run(a,b,c,d,e,f,Ext.lib.Motion)},color:function(a,b,c,d,e,f){this.run(a,b,c,d,e,f,Ext.lib.ColorAnim)},run:function(a,b,c,d,e,f,g){g=g||Ext.lib.AnimBase,"string"==typeof d&&(d=Ext.lib.Easing[d]);var h=new g(a,b,c,d);return h.animateX(function(){Ext.callback(e,f)}),h}},Ext.isIE&&window.attachEvent("onunload",b),Ext.lib.AnimBase=function(a,b,c,d){a&&this.init(a,b,c,d)},Ext.lib.AnimBase.prototype={toString:function(){var a=this.getEl(),b=a.id||a.tagName;return"Anim "+b},patterns:{noNegatives:/width|height|opacity|padding/i,offsetAttribute:/^((width|height)|(top|left))$/,defaultUnit:/width|height|top$|bottom$|left$|right$/i,offsetUnit:/\d+(em|%|en|ex|pt|in|cm|mm|pc)$/i},doMethod:function(a,b,c){return this.method(this.currentFrame,b,c-b,this.totalFrames)},setAttribute:function(a,b,c){this.patterns.noNegatives.test(a)&&(b=b>0?b:0),Ext.fly(this.getEl(),"_anim").setStyle(a,b+c)},getAttribute:function(b){var c=this.getEl(),d=a(c).getStyle(b);if("auto"!==d&&!this.patterns.offsetUnit.test(d))return parseFloat(d);var e=this.patterns.offsetAttribute.exec(b)||[],f=!!e[3],g=!!e[2];return d=g||"absolute"==a(c).getStyle("position")&&f?c["offset"+e[0].charAt(0).toUpperCase()+e[0].substr(1)]:0},getDefaultUnit:function(a){return this.patterns.defaultUnit.test(a)?"px":""},animateX:function(a,b){var c=function(){this.onComplete.removeListener(c),"function"==typeof a&&a.call(b||this,this)};this.onComplete.addListener(c,this),this.animate()},setRuntimeAttribute:function(a){var b,c,d=this.attributes;this.runtimeAttributes[a]={};var e=function(a){return"undefined"!=typeof a};if(!e(d[a].to)&&!e(d[a].by))return!1;if(b=e(d[a].from)?d[a].from:this.getAttribute(a),e(d[a].to))c=d[a].to;else if(e(d[a].by))if(b.constructor==Array){c=[];for(var f=0,g=b.length;g>f;++f)c[f]=b[f]+d[a].by[f]}else c=b+d[a].by;this.runtimeAttributes[a].start=b,this.runtimeAttributes[a].end=c,this.runtimeAttributes[a].unit=e(d[a].unit)?d[a].unit:this.getDefaultUnit(a)},init:function(a,b,c,d){var e=!1,f=null,g=0;a=Ext.getDom(a),this.attributes=b||{},this.duration=c||1,this.method=d||Ext.lib.Easing.easeNone,this.useSeconds=!0,this.currentFrame=0,this.totalFrames=Ext.lib.AnimMgr.fps,this.getEl=function(){return a},this.isAnimated=function(){return e},this.getStartTime=function(){return f},this.runtimeAttributes={},this.animate=function(){return this.isAnimated()?!1:(this.currentFrame=0,this.totalFrames=this.useSeconds?Math.ceil(Ext.lib.AnimMgr.fps*this.duration):this.duration,void Ext.lib.AnimMgr.registerElement(this))},this.stop=function(a){a&&(this.currentFrame=this.totalFrames,this._onTween.fire()),Ext.lib.AnimMgr.stop(this)};var h=function(){this.onStart.fire(),this.runtimeAttributes={};for(var a in this.attributes)this.setRuntimeAttribute(a);e=!0,g=0,f=new Date},i=function(){var a={duration:new Date-this.getStartTime(),currentFrame:this.currentFrame};a.toString=function(){return"duration: "+a.duration+", currentFrame: "+a.currentFrame},this.onTween.fire(a);var b=this.runtimeAttributes;for(var c in b)this.setAttribute(c,this.doMethod(c,b[c].start,b[c].end),b[c].unit);g+=1},j=function(){var a=(new Date-f)/1e3,b={duration:a,frames:g,fps:g/a};b.toString=function(){return"duration: "+b.duration+", frames: "+b.frames+", fps: "+b.fps},e=!1,g=0,this.onComplete.fire(b)};this._onStart=new Ext.util.Event(this),this.onStart=new Ext.util.Event(this),this.onTween=new Ext.util.Event(this),this._onTween=new Ext.util.Event(this),this.onComplete=new Ext.util.Event(this),this._onComplete=new Ext.util.Event(this),this._onStart.addListener(h),this._onTween.addListener(i),this._onComplete.addListener(j)}},Ext.lib.AnimMgr=new function(){var a=null,b=[],c=0;this.fps=1e3,this.delay=1,this.registerElement=function(a){b[b.length]=a,c+=1,a._onStart.fire(),this.start()},this.unRegister=function(a,e){a._onComplete.fire(),e=e||d(a),-1!=e&&b.splice(e,1),c-=1,0>=c&&this.stop()},this.start=function(){null===a&&(a=setInterval(this.run,this.delay))},this.stop=function(d){if(d)this.unRegister(d);else{clearInterval(a);for(var e=0,f=b.length;f>e;++e)b[0].isAnimated()&&this.unRegister(b[0],0);b=[],a=null,c=0}},this.run=function(){for(var a=0,c=b.length;c>a;++a){var d=b[a];d&&d.isAnimated()&&(d.currentFrame<d.totalFrames||null===d.totalFrames?(d.currentFrame+=1,d.useSeconds&&e(d),d._onTween.fire()):Ext.lib.AnimMgr.stop(d,a))}};var d=function(a){for(var c=0,d=b.length;d>c;++c)if(b[c]==a)return c;return-1},e=function(a){var b=a.totalFrames,c=a.currentFrame,d=a.currentFrame*a.duration*1e3/a.totalFrames,e=new Date-a.getStartTime(),f=0;f=e<1e3*a.duration?Math.round((e/d-1)*a.currentFrame):b-(c+1),f>0&&isFinite(f)&&(a.currentFrame+f>=b&&(f=b-(c+1)),a.currentFrame+=f)}},Ext.lib.Bezier=new function(){this.getPosition=function(a,b){for(var c=a.length,d=[],e=0;c>e;++e)d[e]=[a[e][0],a[e][1]];for(var f=1;c>f;++f)for(e=0;c-f>e;++e)d[e][0]=(1-b)*d[e][0]+b*d[parseInt(e+1,10)][0],d[e][1]=(1-b)*d[e][1]+b*d[parseInt(e+1,10)][1];return[d[0][0],d[0][1]]}},function(){Ext.lib.ColorAnim=function(a,b,c,d){Ext.lib.ColorAnim.superclass.constructor.call(this,a,b,c,d)},Ext.extend(Ext.lib.ColorAnim,Ext.lib.AnimBase);var b=Ext.lib,c=b.ColorAnim.superclass,d=b.ColorAnim.prototype;d.toString=function(){var a=this.getEl(),b=a.id||a.tagName;return"ColorAnim "+b},d.patterns.color=/color$/i,d.patterns.rgb=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,d.patterns.hex=/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,d.patterns.hex3=/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,d.patterns.transparent=/^transparent|rgba\(0, 0, 0, 0\)$/,d.parseColor=function(a){if(3==a.length)return a;var b=this.patterns.hex.exec(a);return b&&4==b.length?[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16)]:(b=this.patterns.rgb.exec(a),b&&4==b.length?[parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3],10)]:(b=this.patterns.hex3.exec(a),b&&4==b.length?[parseInt(b[1]+b[1],16),parseInt(b[2]+b[2],16),parseInt(b[3]+b[3],16)]:null))},d.getAttribute=function(b){var d=this.getEl();if(this.patterns.color.test(b)){var e=a(d).getStyle(b);if(this.patterns.transparent.test(e)){var f=d.parentNode;for(e=a(f).getStyle(b);f&&this.patterns.transparent.test(e);)f=f.parentNode,e=a(f).getStyle(b),"HTML"==f.tagName.toUpperCase()&&(e="#fff")}}else e=c.getAttribute.call(this,b);return e},d.doMethod=function(a,b,d){var e;if(this.patterns.color.test(a)){e=[];for(var f=0,g=b.length;g>f;++f)e[f]=c.doMethod.call(this,a,b[f],d[f]);e="rgb("+Math.floor(e[0])+","+Math.floor(e[1])+","+Math.floor(e[2])+")"}else e=c.doMethod.call(this,a,b,d);return e},d.setRuntimeAttribute=function(a){if(c.setRuntimeAttribute.call(this,a),this.patterns.color.test(a)){var b=this.attributes,d=this.parseColor(this.runtimeAttributes[a].start),e=this.parseColor(this.runtimeAttributes[a].end);if("undefined"==typeof b[a].to&&"undefined"!=typeof b[a].by){e=this.parseColor(b[a].by);for(var f=0,g=d.length;g>f;++f)e[f]=d[f]+e[f]}this.runtimeAttributes[a].start=d,this.runtimeAttributes[a].end=e}}}(),Ext.lib.Easing={easeNone:function(a,b,c,d){return c*a/d+b},easeIn:function(a,b,c,d){return c*(a/=d)*a+b},easeOut:function(a,b,c,d){return-c*(a/=d)*(a-2)+b},easeBoth:function(a,b,c,d){return(a/=d/2)<1?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b},easeInStrong:function(a,b,c,d){return c*(a/=d)*a*a*a+b},easeOutStrong:function(a,b,c,d){return-c*((a=a/d-1)*a*a*a-1)+b},easeBothStrong:function(a,b,c,d){return(a/=d/2)<1?c/2*a*a*a*a+b:-c/2*((a-=2)*a*a*a-2)+b},elasticIn:function(a,b,c,d,e,f){if(0==a)return b;if(1==(a/=d))return b+c;if(f||(f=.3*d),!e||e<Math.abs(c)){e=c;var g=f/4}else var g=f/(2*Math.PI)*Math.asin(c/e);return-(e*Math.pow(2,10*(a-=1))*Math.sin((a*d-g)*(2*Math.PI)/f))+b},elasticOut:function(a,b,c,d,e,f){if(0==a)return b;if(1==(a/=d))return b+c;if(f||(f=.3*d),!e||e<Math.abs(c)){e=c;var g=f/4}else var g=f/(2*Math.PI)*Math.asin(c/e);return e*Math.pow(2,-10*a)*Math.sin((a*d-g)*(2*Math.PI)/f)+c+b},elasticBoth:function(a,b,c,d,e,f){if(0==a)return b;if(2==(a/=d/2))return b+c;if(f||(f=d*(.3*1.5)),!e||e<Math.abs(c)){e=c;var g=f/4}else var g=f/(2*Math.PI)*Math.asin(c/e);return 1>a?-.5*(e*Math.pow(2,10*(a-=1))*Math.sin((a*d-g)*(2*Math.PI)/f))+b:e*Math.pow(2,-10*(a-=1))*Math.sin((a*d-g)*(2*Math.PI)/f)*.5+c+b},backIn:function(a,b,c,d,e){return"undefined"==typeof e&&(e=1.70158),c*(a/=d)*a*((e+1)*a-e)+b},backOut:function(a,b,c,d,e){return"undefined"==typeof e&&(e=1.70158),c*((a=a/d-1)*a*((e+1)*a+e)+1)+b},backBoth:function(a,b,c,d,e){return"undefined"==typeof e&&(e=1.70158),(a/=d/2)<1?c/2*(a*a*(((e*=1.525)+1)*a-e))+b:c/2*((a-=2)*a*(((e*=1.525)+1)*a+e)+2)+b},bounceIn:function(a,b,c,d){return c-Ext.lib.Easing.bounceOut(d-a,0,c,d)+b;
},bounceOut:function(a,b,c,d){return(a/=d)<1/2.75?c*(7.5625*a*a)+b:2/2.75>a?c*(7.5625*(a-=1.5/2.75)*a+.75)+b:2.5/2.75>a?c*(7.5625*(a-=2.25/2.75)*a+.9375)+b:c*(7.5625*(a-=2.625/2.75)*a+.984375)+b},bounceBoth:function(a,b,c,d){return d/2>a?.5*Ext.lib.Easing.bounceIn(2*a,0,c,d)+b:.5*Ext.lib.Easing.bounceOut(2*a-d,0,c,d)+.5*c+b}},function(){Ext.lib.Motion=function(a,b,c,d){a&&Ext.lib.Motion.superclass.constructor.call(this,a,b,c,d)},Ext.extend(Ext.lib.Motion,Ext.lib.ColorAnim);var a=Ext.lib,b=a.Motion.superclass,c=a.Motion.prototype;c.toString=function(){var a=this.getEl(),b=a.id||a.tagName;return"Motion "+b},c.patterns.points=/^points$/i,c.setAttribute=function(a,c,d){this.patterns.points.test(a)?(d=d||"px",b.setAttribute.call(this,"left",c[0],d),b.setAttribute.call(this,"top",c[1],d)):b.setAttribute.call(this,a,c,d)},c.getAttribute=function(a){if(this.patterns.points.test(a))var c=[b.getAttribute.call(this,"left"),b.getAttribute.call(this,"top")];else c=b.getAttribute.call(this,a);return c},c.doMethod=function(c,d,e){var f=null;if(this.patterns.points.test(c)){var g=this.method(this.currentFrame,0,100,this.totalFrames)/100;f=a.Bezier.getPosition(this.runtimeAttributes[c],g)}else f=b.doMethod.call(this,c,d,e);return f},c.setRuntimeAttribute=function(a){if(this.patterns.points.test(a)){var c,f,g,h,i=this.getEl(),j=this.attributes,k=j.points.control||[];if(k.length>0&&!(k[0]instanceof Array))k=[k];else{var l=[];for(g=0,h=k.length;h>g;++g)l[g]=k[g];k=l}if(Ext.fly(i).position(),e(j.points.from)?Ext.lib.Dom.setXY(i,j.points.from):Ext.lib.Dom.setXY(i,Ext.lib.Dom.getXY(i)),c=this.getAttribute("points"),e(j.points.to)){f=d.call(this,j.points.to,c);Ext.lib.Dom.getXY(this.getEl());for(g=0,h=k.length;h>g;++g)k[g]=d.call(this,k[g],c)}else if(e(j.points.by))for(f=[c[0]+j.points.by[0],c[1]+j.points.by[1]],g=0,h=k.length;h>g;++g)k[g]=[c[0]+k[g][0],c[1]+k[g][1]];this.runtimeAttributes[a]=[c],k.length>0&&(this.runtimeAttributes[a]=this.runtimeAttributes[a].concat(k)),this.runtimeAttributes[a][this.runtimeAttributes[a].length]=f}else b.setRuntimeAttribute.call(this,a)};var d=function(a,b){var c=Ext.lib.Dom.getXY(this.getEl());return a=[a[0]-c[0]+b[0],a[1]-c[1]+b[1]]},e=function(a){return"undefined"!=typeof a}}(),function(){Ext.lib.Scroll=function(a,b,c,d){a&&Ext.lib.Scroll.superclass.constructor.call(this,a,b,c,d)},Ext.extend(Ext.lib.Scroll,Ext.lib.ColorAnim);var a=Ext.lib,b=a.Scroll.superclass,c=a.Scroll.prototype;c.toString=function(){var a=this.getEl(),b=a.id||a.tagName;return"Scroll "+b},c.doMethod=function(a,c,d){var e=null;return e="scroll"==a?[this.method(this.currentFrame,c[0],d[0]-c[0],this.totalFrames),this.method(this.currentFrame,c[1],d[1]-c[1],this.totalFrames)]:b.doMethod.call(this,a,c,d)},c.getAttribute=function(a){var c=null,d=this.getEl();return c="scroll"==a?[d.scrollLeft,d.scrollTop]:b.getAttribute.call(this,a)},c.setAttribute=function(a,c,d){var e=this.getEl();"scroll"==a?(e.scrollLeft=c[0],e.scrollTop=c[1]):b.setAttribute.call(this,a,c,d)}}()}(),Ext.DomHelper=function(){var a=null,b=/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,c=/^table|tbody|tr|td$/i,d=function(a){if("string"==typeof a)return a;var c="";a.tag||(a.tag="div"),c+="<"+a.tag;for(var e in a)if("tag"!=e&&"children"!=e&&"cn"!=e&&"html"!=e&&"function"!=typeof a[e])if("style"==e){var f=a.style;if("function"==typeof f&&(f=f.call()),"string"==typeof f)c+=' style="'+f+'"';else if("object"==typeof f){c+=' style="';for(var g in f)"function"!=typeof f[g]&&(c+=g+":"+f[g]+";");c+='"'}}else c+="cls"==e?' class="'+a.cls+'"':"htmlFor"==e?' for="'+a.htmlFor+'"':" "+e+'="'+a[e]+'"';if(b.test(a.tag))c+="/>";else{c+=">";var h=a.children||a.cn;if(h)if(h instanceof Array)for(var i=0,j=h.length;j>i;i++)c+=d(h[i],c);else c+=d(h,c);a.html&&(c+=a.html),c+="</"+a.tag+">"}return c},e=function(a,b){var c=document.createElement(a.tag||"div"),d=c.setAttribute?!0:!1;for(var f in a)"tag"!=f&&"children"!=f&&"cn"!=f&&"html"!=f&&"style"!=f&&"function"!=typeof a[f]&&("cls"==f?c.className=a.cls:d?c.setAttribute(f,a[f]):c[f]=a[f]);Ext.DomHelper.applyStyles(c,a.style);var g=a.children||a.cn;if(g)if(g instanceof Array)for(var h=0,i=g.length;i>h;h++)e(g[h],c);else e(g,c);return a.html&&(c.innerHTML=a.html),b&&b.appendChild(c),c},f=function(b,c,d,e){a.innerHTML=[c,d,e].join("");for(var f=-1,g=a;++f<b;)g=g.firstChild;return g},g="<table>",h="</table>",i=g+"<tbody>",j="</tbody>"+h,k=i+"<tr>",l="</tr>"+j,m=function(b,c,d,e){a||(a=document.createElement("div"));var m,n=null;if("td"==b){if("afterbegin"==c||"beforeend"==c)return;"beforebegin"==c?(n=d,d=d.parentNode):(n=d.nextSibling,d=d.parentNode),m=f(4,k,e,l)}else if("tr"==b)"beforebegin"==c?(n=d,d=d.parentNode,m=f(3,i,e,j)):"afterend"==c?(n=d.nextSibling,d=d.parentNode,m=f(3,i,e,j)):("afterbegin"==c&&(n=d.firstChild),m=f(4,k,e,l));else if("tbody"==b)"beforebegin"==c?(n=d,d=d.parentNode,m=f(2,g,e,h)):"afterend"==c?(n=d.nextSibling,d=d.parentNode,m=f(2,g,e,h)):("afterbegin"==c&&(n=d.firstChild),m=f(3,i,e,j));else{if("beforebegin"==c||"afterend"==c)return;"afterbegin"==c&&(n=d.firstChild),m=f(2,g,e,h)}return d.insertBefore(m,n),m};return{useDom:!1,markup:function(a){return d(a)},applyStyles:function(a,b){if(b)if(a=Ext.fly(a),"string"==typeof b)for(var c,d=/\s?([a-z\-]*)\:\s?([^;]*);?/gi;null!=(c=d.exec(b));)a.setStyle(c[1],c[2]);else if("object"==typeof b)for(var e in b)a.setStyle(e,b[e]);else"function"==typeof b&&Ext.DomHelper.applyStyles(a,b.call())},insertHtml:function(a,b,d){if(a=a.toLowerCase(),b.insertAdjacentHTML){if(c.test(b.tagName)){var e;if(e=m(b.tagName.toLowerCase(),a,b,d))return e}switch(a){case"beforebegin":return b.insertAdjacentHTML("BeforeBegin",d),b.previousSibling;case"afterbegin":return b.insertAdjacentHTML("AfterBegin",d),b.firstChild;case"beforeend":return b.insertAdjacentHTML("BeforeEnd",d),b.lastChild;case"afterend":return b.insertAdjacentHTML("AfterEnd",d),b.nextSibling}throw'Illegal insertion point -> "'+a+'"'}var f,g=b.ownerDocument.createRange();switch(a){case"beforebegin":return g.setStartBefore(b),f=g.createContextualFragment(d),b.parentNode.insertBefore(f,b),b.previousSibling;case"afterbegin":return b.firstChild?(g.setStartBefore(b.firstChild),f=g.createContextualFragment(d),b.insertBefore(f,b.firstChild),b.firstChild):(b.innerHTML=d,b.firstChild);case"beforeend":return b.lastChild?(g.setStartAfter(b.lastChild),f=g.createContextualFragment(d),b.appendChild(f),b.lastChild):(b.innerHTML=d,b.lastChild);case"afterend":return g.setStartAfter(b),f=g.createContextualFragment(d),b.parentNode.insertBefore(f,b.nextSibling),b.nextSibling}throw'Illegal insertion point -> "'+a+'"'},insertBefore:function(a,b,c){return this.doInsert(a,b,c,"beforeBegin")},insertAfter:function(a,b,c){return this.doInsert(a,b,c,"afterEnd","nextSibling")},insertFirst:function(a,b,c){return this.doInsert(a,b,c,"afterBegin")},doInsert:function(a,b,c,f,g){a=Ext.getDom(a);var h;if(this.useDom)h=e(b,null),a.parentNode.insertBefore(h,g?a[g]:a);else{var i=d(b);h=this.insertHtml(f,a,i)}return c?Ext.get(h,!0):h},append:function(a,b,c){a=Ext.getDom(a);var f;if(this.useDom)f=e(b,null),a.appendChild(f);else{var g=d(b);f=this.insertHtml("beforeEnd",a,g)}return c?Ext.get(f,!0):f},overwrite:function(a,b,c){return a=Ext.getDom(a),a.innerHTML=d(b),c?Ext.get(a.firstChild,!0):a.firstChild},createTemplate:function(a){var b=d(a);return new Ext.Template(b)}}}(),Ext.Template=function(a){a instanceof Array?a=a.join(""):arguments.length>1&&(a=Array.prototype.join.call(arguments,"")),this.html=a},Ext.Template.prototype={applyTemplate:function(a){if(this.compiled)return this.compiled(a);var b=this.disableFormats!==!0,c=Ext.util.Format,d=this,e=function(e,f,g,h){if(g&&b){if("this."==g.substr(0,5))return d.call(g.substr(5),a[f],a);if(h){var i=/^\s*['"](.*)["']\s*$/;h=h.split(",");for(var j=0,k=h.length;k>j;j++)h[j]=h[j].replace(i,"$1");h=[a[f]].concat(h)}else h=[a[f]];return c[g].apply(c,h)}return void 0!==a[f]?a[f]:""};return this.html.replace(this.re,e)},set:function(a,b){return this.html=a,this.compiled=null,b&&this.compile(),this},disableFormats:!1,re:/\{([\w-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,compile:function(){var fm=Ext.util.Format,useF=this.disableFormats!==!0,sep=Ext.isGecko?"+":",",fn=function(a,b,c,d){return c&&useF?(d=d?","+d:"","this."!=c.substr(0,5)?c="fm."+c+"(":(c='this.call("'+c.substr(5)+'", ',d=", values")):(d="",c="(values['"+b+"'] == undefined ? '' : "),"'"+sep+c+"values['"+b+"']"+d+")"+sep+"'"},body;return Ext.isGecko?body="this.compiled = function(values){ return '"+this.html.replace(/\\/g,"\\\\").replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn)+"';};":(body=["this.compiled = function(values){ return ['"],body.push(this.html.replace(/\\/g,"\\\\").replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn)),body.push("'].join('');};"),body=body.join("")),eval(body),this},call:function(a,b,c){return this[a](b,c)},insertFirst:function(a,b,c){return this.doInsert("afterBegin",a,b,c)},insertBefore:function(a,b,c){return this.doInsert("beforeBegin",a,b,c)},insertAfter:function(a,b,c){return this.doInsert("afterEnd",a,b,c)},append:function(a,b,c){return this.doInsert("beforeEnd",a,b,c)},doInsert:function(a,b,c,d){b=Ext.getDom(b);var e=Ext.DomHelper.insertHtml(a,b,this.applyTemplate(c));return d?Ext.get(e,!0):e},overwrite:function(a,b,c){return a=Ext.getDom(a),a.innerHTML=this.applyTemplate(b),c?Ext.get(a.firstChild,!0):a.firstChild}},Ext.Template.prototype.apply=Ext.Template.prototype.applyTemplate,Ext.DomHelper.Template=Ext.Template,Ext.Template.from=function(a){return a=Ext.getDom(a),new Ext.Template(a.value||a.innerHTML)},Ext.DomQuery=function(){function child(a,b){for(var c=0,d=a.firstChild;d;){if(1==d.nodeType&&++c==b)return d;d=d.nextSibling}return null}function next(a){for(;(a=a.nextSibling)&&1!=a.nodeType;);return a}function prev(a){for(;(a=a.previousSibling)&&1!=a.nodeType;);return a}function children(a){for(var b=a.firstChild,c=-1;b;){var d=b.nextSibling;3!=b.nodeType||nonSpace.test(b.nodeValue)?b.nodeIndex=++c:a.removeChild(b),b=d}return this}function byClassName(a,b,c){if(!c)return a;for(var d,e=[],f=-1,g=0;d=a[g];g++)-1!=(" "+d.className+" ").indexOf(c)&&(e[++f]=d);return e}function attrValue(a,b){return a.tagName||"undefined"==typeof a.length||(a=a[0]),a?"for"==b?a.htmlFor:"class"==b||"className"==b?a.className:a.getAttribute(b)||a[b]:null}function getNodes(a,b,c){var d,e=[],f=-1;if(!a)return e;if(c=c||"*","undefined"!=typeof a.getElementsByTagName&&(a=[a]),b){if("/"==b||">"==b)for(var g,h,i=c.toUpperCase(),j=0;g=a[j];j++){h=g.children||g.childNodes;for(var k,l=0;k=h[l];l++)(k.nodeName==i||k.nodeName==c||"*"==c)&&(e[++f]=k)}else if("+"==b)for(var m,i=c.toUpperCase(),j=0;m=a[j];j++){for(;(m=m.nextSibling)&&1!=m.nodeType;);!m||m.nodeName!=i&&m.nodeName!=c&&"*"!=c||(e[++f]=m)}else if("~"==b)for(var m,j=0;m=a[j];j++){for(;(m=m.nextSibling)&&(1!=m.nodeType||"*"==c||m.tagName.toLowerCase()!=c););m&&(e[++f]=m)}}else for(var g,j=0;g=a[j];j++){d=g.getElementsByTagName(c);for(var n,l=0;n=d[l];l++)e[++f]=n}return e}function concat(a,b){if(b.slice)return a.concat(b);for(var c=0,d=b.length;d>c;c++)a[a.length]=b[c];return a}function byTag(a,b){if((a.tagName||a==document)&&(a=[a]),!b)return a;var c=[],d=-1;b=b.toLowerCase();for(var e,f=0;e=a[f];f++)1==e.nodeType&&e.tagName.toLowerCase()==b&&(c[++d]=e);return c}function byId(a,b,c){if((a.tagName||a==document)&&(a=[a]),!c)return a;for(var d,e=[],f=-1,g=0;d=a[g];g++)if(d&&d.id==c)return e[++f]=d,e;return e}function byAttribute(a,b,c,d,e){for(var f,g=[],h=-1,i="{"==e,j=Ext.DomQuery.operators[d],k=0;f=a[k];k++){var l;l=i?Ext.DomQuery.getStyle(f,b):"class"==b||"className"==b?f.className:"for"==b?f.htmlFor:"href"==b?f.getAttribute("href",2):f.getAttribute(b),(j&&j(l,c)||!j&&l)&&(g[++h]=f)}return g}function byPseudo(a,b,c){return Ext.DomQuery.pseudos[b](a,c)}function nodupIEXml(a){var b=++key;a[0].setAttribute("_nodup",b);for(var c=[a[0]],d=1,e=a.length;e>d;d++){var f=a[d];!f.getAttribute("_nodup")!=b&&(f.setAttribute("_nodup",b),c[c.length]=f)}for(var d=0,e=a.length;e>d;d++)a[d].removeAttribute("_nodup");return c}function nodup(a){if(!a)return[];var b,c,d,e=a.length,f=a,g=-1;if(!e||"undefined"!=typeof a.nodeType||1==e)return a;if(isIE&&"undefined"!=typeof a[0].selectSingleNode)return nodupIEXml(a);var h=++key;for(a[0]._nodup=h,c=1;b=a[c];c++){if(b._nodup==h){f=[];for(var i=0;c>i;i++)f[++g]=a[i];for(i=c+1;d=a[i];i++)d._nodup!=h&&(d._nodup=h,f[++g]=d);return f}b._nodup=h}return f}function quickDiffIEXml(a,b){for(var c=++key,d=0,e=a.length;e>d;d++)a[d].setAttribute("_qdiff",c);for(var f=[],d=0,e=b.length;e>d;d++)b[d].getAttribute("_qdiff")!=c&&(f[f.length]=b[d]);for(var d=0,e=a.length;e>d;d++)a[d].removeAttribute("_qdiff");return f}function quickDiff(a,b){var c=a.length;if(!c)return b;if(isIE&&a[0].selectSingleNode)return quickDiffIEXml(a,b);for(var d=++key,e=0;c>e;e++)a[e]._qdiff=d;for(var f=[],e=0,g=b.length;g>e;e++)b[e]._qdiff!=d&&(f[f.length]=b[e]);return f}function quickId(a,b,c,d){if(a==c){var e=c.ownerDocument||c;return e.getElementById(d)}return a=getNodes(a,b,"*"),byId(a,null,d)}var cache={},simpleCache={},valueCache={},nonSpace=/\S/,trimRe=/^\s+|\s+$/g,tplRe=/\{(\d+)\}/g,modeRe=/^(\s?[\/>+~]\s?|\s|$)/,tagTokenRe=/^(#)?([\w-\*]+)/,nthRe=/(\d*)n\+?(\d*)/,nthRe2=/\D/,isIE=window.ActiveXObject?!0:!1;eval("var batch = 30803;");var key=30803;return{getStyle:function(a,b){return Ext.fly(a).getStyle(b)},compile:function(path,type){type=type||"select";var fn=["var f = function(root){\n var mode; ++batch; var n = root || document;\n"],q=path,mode,lq,tk=Ext.DomQuery.matchers,tklen=tk.length,mm,lmode=q.match(modeRe);for(lmode&&lmode[1]&&(fn[fn.length]='mode="'+lmode[1].replace(trimRe,"")+'";',q=q.replace(lmode[1],""));"/"==path.substr(0,1);)path=path.substr(1);for(;q&&lq!=q;){lq=q;var tm=q.match(tagTokenRe);for("select"==type?tm?("#"==tm[1]?fn[fn.length]='n = quickId(n, mode, root, "'+tm[2]+'");':fn[fn.length]='n = getNodes(n, mode, "'+tm[2]+'");',q=q.replace(tm[0],"")):"@"!=q.substr(0,1)&&(fn[fn.length]='n = getNodes(n, mode, "*");'):tm&&("#"==tm[1]?fn[fn.length]='n = byId(n, null, "'+tm[2]+'");':fn[fn.length]='n = byTag(n, "'+tm[2]+'");',q=q.replace(tm[0],""));!(mm=q.match(modeRe));){for(var matched=!1,j=0;tklen>j;j++){var t=tk[j],m=q.match(t.re);if(m){fn[fn.length]=t.select.replace(tplRe,function(a,b){return m[b]}),q=q.replace(m[0],""),matched=!0;break}}if(!matched)throw'Error parsing selector, parsing failed at "'+q+'"'}mm[1]&&(fn[fn.length]='mode="'+mm[1].replace(trimRe,"")+'";',q=q.replace(mm[1],""))}return fn[fn.length]="return nodup(n);\n}",eval(fn.join("")),f},select:function(a,b,c){b&&b!=document||(b=document),"string"==typeof b&&(b=document.getElementById(b));for(var d=a.split(","),e=[],f=0,g=d.length;g>f;f++){var h=d[f].replace(trimRe,"");if(!cache[h]&&(cache[h]=Ext.DomQuery.compile(h),!cache[h]))throw h+" is not a valid selector";var i=cache[h](b);i&&i!=document&&(e=e.concat(i))}return d.length>1?nodup(e):e},selectNode:function(a,b){return Ext.DomQuery.select(a,b)[0]},selectValue:function(a,b,c){a=a.replace(trimRe,""),valueCache[a]||(valueCache[a]=Ext.DomQuery.compile(a,"select"));var d=valueCache[a](b);d=d[0]?d[0]:d;var e=d&&d.firstChild?d.firstChild.nodeValue:null;return null===e||void 0===e||""===e?c:e},selectNumber:function(a,b,c){var d=Ext.DomQuery.selectValue(a,b,c||0);return parseFloat(d)},is:function(a,b){"string"==typeof a&&(a=document.getElementById(a));var c=a instanceof Array,d=Ext.DomQuery.filter(c?a:[a],b);return c?d.length==a.length:d.length>0},filter:function(a,b,c){b=b.replace(trimRe,""),simpleCache[b]||(simpleCache[b]=Ext.DomQuery.compile(b,"simple"));var d=simpleCache[b](a);return c?quickDiff(d,a):d},matchers:[{re:/^\.([\w-]+)/,select:'n = byClassName(n, null, " {1} ");'},{re:/^\:([\w-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},{re:/^(?:([\[\{])(?:@)?([\w-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,select:'n = byAttribute(n, "{2}", "{4}", "{3}", "{1}");'},{re:/^#([\w-]+)/,select:'n = byId(n, null, "{1}");'},{re:/^@([\w-]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],operators:{"=":function(a,b){return a==b},"!=":function(a,b){return a!=b},"^=":function(a,b){return a&&a.substr(0,b.length)==b},"$=":function(a,b){return a&&a.substr(a.length-b.length)==b},"*=":function(a,b){return a&&-1!==a.indexOf(b)},"%=":function(a,b){return a%b==0},"|=":function(a,b){return a&&(a==b||a.substr(0,b.length+1)==b+"-")},"~=":function(a,b){return a&&-1!=(" "+a+" ").indexOf(" "+b+" ")}},pseudos:{"first-child":function(a){for(var b,c,d=[],e=-1,f=0;c=b=a[f];f++){for(;(b=b.previousSibling)&&1!=b.nodeType;);b||(d[++e]=c)}return d},"last-child":function(a){for(var b,c,d=[],e=-1,f=0;c=b=a[f];f++){for(;(b=b.nextSibling)&&1!=b.nodeType;);b||(d[++e]=c)}return d},"nth-child":function(a,b){for(var c,d=[],e=-1,f=nthRe.exec("even"==b&&"2n"||"odd"==b&&"2n+1"||!nthRe2.test(b)&&"n+"+b||b),g=(f[1]||1)-0,h=f[2]-0,i=0;c=a[i];i++){var j=c.parentNode;if(batch!=j._batch){for(var k=0,l=j.firstChild;l;l=l.nextSibling)1==l.nodeType&&(l.nodeIndex=++k);j._batch=batch}1==g?(0==h||c.nodeIndex==h)&&(d[++e]=c):(c.nodeIndex+h)%g==0&&(d[++e]=c)}return d},"only-child":function(a){for(var b,c=[],d=-1,e=0;b=a[e];e++)prev(b)||next(b)||(c[++d]=b);return c},empty:function(a){for(var b,c=[],d=-1,e=0;b=a[e];e++){for(var f,g=b.childNodes,h=0,i=!0;f=g[h];)if(++h,1==f.nodeType||3==f.nodeType){i=!1;break}i&&(c[++d]=b)}return c},contains:function(a,b){for(var c,d=[],e=-1,f=0;c=a[f];f++)-1!=(c.textContent||c.innerText||"").indexOf(b)&&(d[++e]=c);return d},nodeValue:function(a,b){for(var c,d=[],e=-1,f=0;c=a[f];f++)c.firstChild&&c.firstChild.nodeValue==b&&(d[++e]=c);return d},checked:function(a){for(var b,c=[],d=-1,e=0;b=a[e];e++)1==b.checked&&(c[++d]=b);return c},not:function(a,b){return Ext.DomQuery.filter(a,b,!0)},odd:function(a){return this["nth-child"](a,"odd")},even:function(a){return this["nth-child"](a,"even")},nth:function(a,b){return a[b-1]||[]},first:function(a){return a[0]||[]},last:function(a){return a[a.length-1]||[]},has:function(a,b){for(var c,d=Ext.DomQuery.select,e=[],f=-1,g=0;c=a[g];g++)d(b,c).length>0&&(e[++f]=c);return e},next:function(a,b){for(var c,d=Ext.DomQuery.is,e=[],f=-1,g=0;c=a[g];g++){var h=next(c);h&&d(h,b)&&(e[++f]=c)}return e},prev:function(a,b){for(var c,d=Ext.DomQuery.is,e=[],f=-1,g=0;c=a[g];g++){var h=prev(c);h&&d(h,b)&&(e[++f]=c)}return e}}}}(),Ext.query=Ext.DomQuery.select,Ext.util.Observable=function(){this.listeners&&(this.on(this.listeners),delete this.listeners)},Ext.util.Observable.prototype={fireEvent:function(){var a=this.events[arguments[0].toLowerCase()];return"object"==typeof a?a.fire.apply(a,Array.prototype.slice.call(arguments,1)):!0},filterOptRe:/^(?:scope|delay|buffer|single)$/,addListener:function(a,b,c,d){if("object"!=typeof a){d=d&&"boolean"!=typeof d?d:{},a=a.toLowerCase();var e=this.events[a]||!0;"boolean"==typeof e&&(e=new Ext.util.Event(this,a),this.events[a]=e),e.addListener(b,c,d)}else{d=a;for(var f in d)this.filterOptRe.test(f)||("function"==typeof d[f]?this.addListener(f,d[f],d.scope,d):this.addListener(f,d[f].fn,d[f].scope,d[f]))}},removeListener:function(a,b,c){var d=this.events[a.toLowerCase()];"object"==typeof d&&d.removeListener(b,c)},purgeListeners:function(){for(var a in this.events)"object"==typeof this.events[a]&&this.events[a].clearListeners()},relayEvents:function(a,b){for(var c=function(a){return function(){return this.fireEvent.apply(this,Ext.combine(a,Array.prototype.slice.call(arguments,0)))}},d=0,e=b.length;e>d;d++){var f=b[d];this.events[f]||(this.events[f]=!0),a.on(f,c(f),this)}},addEvents:function(a){this.events||(this.events={}),Ext.applyIf(this.events,a)},hasListener:function(a){var b=this.events[a];return"object"==typeof b&&b.listeners.length>0}},Ext.util.Observable.prototype.on=Ext.util.Observable.prototype.addListener,Ext.util.Observable.prototype.un=Ext.util.Observable.prototype.removeListener,Ext.util.Observable.capture=function(a,b,c){a.fireEvent=a.fireEvent.createInterceptor(b,c)},Ext.util.Observable.releaseCapture=function(a){a.fireEvent=Ext.util.Observable.prototype.fireEvent},function(){var a=function(a,b,c){var d=new Ext.util.DelayedTask;return function(){d.delay(b.buffer,a,c,Array.prototype.slice.call(arguments,0))}},b=function(a,b,c,d){return function(){return b.removeListener(c,d),a.apply(d,arguments)}},c=function(a,b,c){return function(){var d=Array.prototype.slice.call(arguments,0);setTimeout(function(){a.apply(c,d)},b.delay||10)}};Ext.util.Event=function(a,b){this.name=b,this.obj=a,this.listeners=[]},Ext.util.Event.prototype={addListener:function(d,e,f){var g=f||{};if(e=e||this.obj,!this.isListening(d,e)){var h={fn:d,scope:e,options:g},i=d;g.delay&&(i=c(i,g,e)),g.single&&(i=b(i,this,d,e)),g.buffer&&(i=a(i,g,e)),h.fireFn=i,this.firing?(this.listeners=this.listeners.slice(0),this.listeners.push(h)):this.listeners.push(h)}},findListener:function(a,b){b=b||this.obj;for(var c=this.listeners,d=0,e=c.length;e>d;d++){var f=c[d];if(f.fn==a&&f.scope==b)return d}return-1},isListening:function(a,b){return-1!=this.findListener(a,b)},removeListener:function(a,b){var c;return-1!=(c=this.findListener(a,b))?(this.firing?(this.listeners=this.listeners.slice(0),this.listeners.splice(c,1)):this.listeners.splice(c,1),!0):!1},clearListeners:function(){this.listeners=[]},fire:function(){var a=this.listeners,b=a.length;if(b>0){this.firing=!0;for(var c=(Array.prototype.slice.call(arguments,0),0);b>c;c++){var d=a[c];if(d.fireFn.apply(d.scope||this.obj||window,arguments)===!1)return this.firing=!1,!1}this.firing=!1}return!0}}}(),Ext.EventManager=function(){var a,b,c,d,e,f,g=!1,h=Ext.lib.Event,i=Ext.lib.Dom,j=function(){if(!g){if(g=!0,Ext.isReady=!0,b&&clearInterval(b),(Ext.isGecko||Ext.isOpera)&&document.removeEventListener("DOMContentLoaded",j,!1),Ext.isIE){var c=document.getElementById("ie-deferred-loader");c&&(c.onreadystatechange=null,c.parentNode.removeChild(c))}a&&(a.fire(),a.clearListeners())}},k=function(){if(a=new Ext.util.Event,Ext.isGecko||Ext.isOpera)document.addEventListener("DOMContentLoaded",j,!1);else if(Ext.isIE){document.write('<script id="ie-deferred-loader" defer="defer" src="//:"></script>');var c=document.getElementById("ie-deferred-loader");c.onreadystatechange=function(){"complete"==this.readyState&&j()}}else Ext.isSafari&&(b=setInterval(function(){var a=document.readyState;"complete"==a&&j()},10));h.on(window,"load",j)},l=function(a,b){var c=new Ext.util.DelayedTask(a);return function(d){d=new Ext.EventObjectImpl(d),c.delay(b.buffer,a,null,[d])}},m=function(a,b,c,d){return function(e){Ext.EventManager.removeListener(b,c,d),a(e)}},n=function(a,b){return function(c){c=new Ext.EventObjectImpl(c),setTimeout(function(){a(c)},b.delay||10)}},o=function(a,b,c,d,e){var f=c&&"boolean"!=typeof c?c:{};d=d||f.fn,e=e||f.scope;var g=Ext.getDom(a);if(!g)throw'Error listening for "'+b+'". Element "'+a+"\" doesn't exist.";var i=function(a){a=Ext.EventObject.setEvent(a);var b;if(f.delegate){if(b=a.getTarget(f.delegate,g),!b)return}else b=a.target;f.stopEvent===!0&&a.stopEvent(),f.preventDefault===!0&&a.preventDefault(),f.stopPropagation===!0&&a.stopPropagation(),f.normalized===!1&&(a=a.browserEvent),d.call(e||g,a,b,f)};return f.delay&&(i=n(i,f)),f.single&&(i=m(i,g,b,d)),f.buffer&&(i=l(i,f)),d._handlers=d._handlers||[],d._handlers.push([Ext.id(g),b,i]),h.on(g,b,i),"mousewheel"==b&&g.addEventListener&&(g.addEventListener("DOMMouseScroll",i,!1),h.on(window,"unload",function(){g.removeEventListener("DOMMouseScroll",i,!1)})),"mousedown"==b&&g==document&&Ext.EventManager.stoppedMouseDownEvent.addListener(i),i},p=function(a,b,c){var d=Ext.id(a),e=c._handlers,f=c;if(e)for(var g=0,i=e.length;i>g;g++){var j=e[g];if(j[0]==d&&j[1]==b){f=j[2],e.splice(g,1);break}}h.un(a,b,f),a=Ext.getDom(a),"mousewheel"==b&&a.addEventListener&&a.removeEventListener("DOMMouseScroll",f,!1),"mousedown"==b&&a==document&&Ext.EventManager.stoppedMouseDownEvent.removeListener(f)},q=/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate)$/,r={wrap:function(a,b,c){return function(d){Ext.EventObject.setEvent(d),a.call(c?b||window:window,Ext.EventObject,b)}},addListener:function(a,b,c,d,e){if("object"!=typeof b)return o(a,b,e,c,d);var f=b;for(var g in f)q.test(g)||("function"==typeof f[g]?o(a,g,f,f[g],f.scope):o(a,g,f[g]))},removeListener:function(a,b,c){return p(a,b,c)},onDocumentReady:function(b,c,d){return g?(a.addListener(b,c,d),a.fire(),void a.clearListeners()):(a||k(),void a.addListener(b,c,d))},onWindowResize:function(a,b,e){c||(c=new Ext.util.Event,d=new Ext.util.DelayedTask(function(){c.fire(i.getViewWidth(),i.getViewHeight())}),h.on(window,"resize",function(){Ext.isIE?d.delay(50):c.fire(i.getViewWidth(),i.getViewHeight())})),c.addListener(a,b,e)},onTextResize:function(a,b,c){if(!e){e=new Ext.util.Event;var d=new Ext.Element(document.createElement("div"));d.dom.className="x-text-resize",d.dom.innerHTML="X",d.appendTo(document.body),f=d.dom.offsetHeight,setInterval(function(){d.dom.offsetHeight!=f&&e.fire(f,f=d.dom.offsetHeight)},this.textResizeInterval)}e.addListener(a,b,c)},removeResizeListener:function(a,b){c&&c.removeListener(a,b)},fireResize:function(){c&&c.fire(i.getViewWidth(),i.getViewHeight())},ieDeferSrc:!1,textResizeInterval:50};return r.on=r.addListener,r.un=r.removeListener,r.stoppedMouseDownEvent=new Ext.util.Event,r}(),Ext.onReady=Ext.EventManager.onDocumentReady,Ext.onReady(function(){var a=Ext.get(document.body);if(a){var b=[Ext.isIE?"ext-ie":Ext.isGecko?"ext-gecko":Ext.isOpera?"ext-opera":Ext.isSafari?"ext-safari":""];if(Ext.isMac&&b.push("ext-mac"),Ext.isLinux&&b.push("ext-linux"),Ext.isBorderBox&&b.push("ext-border-box"),Ext.isStrict){var c=a.dom.parentNode;c&&(c.className+=" ext-strict")}a.addClass(b.join(" "))}}),Ext.EventObject=function(){var a=Ext.lib.Event,b={63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35},c=Ext.isIE?{1:0,4:1,2:2}:Ext.isSafari?{1:0,2:1,3:2}:{0:0,1:1,2:2};return Ext.EventObjectImpl=function(a){a&&this.setEvent(a.browserEvent||a)},Ext.EventObjectImpl.prototype={browserEvent:null,button:-1,shiftKey:!1,ctrlKey:!1,altKey:!1,BACKSPACE:8,TAB:9,RETURN:13,ENTER:13,SHIFT:16,CONTROL:17,ESC:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,F5:116,setEvent:function(b){return b==this||b&&b.browserEvent?b:(this.browserEvent=b,b?(this.button=b.button?c[b.button]:b.which?b.which-1:-1,"click"==b.type&&-1==this.button&&(this.button=0),this.type=b.type,this.shiftKey=b.shiftKey,this.ctrlKey=b.ctrlKey||b.metaKey,this.altKey=b.altKey,this.keyCode=b.keyCode,this.charCode=b.charCode,this.target=a.getTarget(b),this.xy=a.getXY(b)):(this.button=-1,this.shiftKey=!1,this.ctrlKey=!1,this.altKey=!1,this.keyCode=0,this.charCode=0,this.target=null,this.xy=[0,0]),this)},stopEvent:function(){this.browserEvent&&("mousedown"==this.browserEvent.type&&Ext.EventManager.stoppedMouseDownEvent.fire(this),a.stopEvent(this.browserEvent))},preventDefault:function(){this.browserEvent&&a.preventDefault(this.browserEvent)},isNavKeyPress:function(){var a=this.keyCode;return a=Ext.isSafari?b[a]||a:a,a>=33&&40>=a||a==this.RETURN||a==this.TAB||a==this.ESC},isSpecialKey:function(){var a=this.keyCode;return"keypress"==this.type&&this.ctrlKey||9==a||13==a||40==a||27==a||16==a||17==a||a>=18&&20>=a||a>=33&&35>=a||a>=36&&39>=a||a>=44&&45>=a},stopPropagation:function(){this.browserEvent&&("mousedown"==this.type&&Ext.EventManager.stoppedMouseDownEvent.fire(this),a.stopPropagation(this.browserEvent))},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){var a=this.keyCode||this.charCode;return Ext.isSafari?b[a]||a:a},getPageX:function(){return this.xy[0]},getPageY:function(){return this.xy[1]},getTime:function(){return this.browserEvent?a.getTime(this.browserEvent):null},getXY:function(){return this.xy},getTarget:function(a,b,c){return a?Ext.fly(this.target).findParent(a,b,c):this.target},getRelatedTarget:function(){return this.browserEvent?a.getRelatedTarget(this.browserEvent):null},getWheelDelta:function(){var a=this.browserEvent,b=0;return a.wheelDelta?b=a.wheelDelta/120:a.detail&&(b=-a.detail/3),b},hasModifier:function(){return!!(this.ctrlKey||this.altKey||this.shiftKey)},within:function(a,b){var c=this[b?"getRelatedTarget":"getTarget"]();return c&&Ext.fly(a).contains(c)},getPoint:function(){return new Ext.lib.Point(this.xy[0],this.xy[1])}},new Ext.EventObjectImpl}(),function(){var a=Ext.lib.Dom,b=Ext.lib.Event,c=Ext.lib.Anim,d={},e=/(-[a-z])/gi,f=function(a,b){return b.charAt(1).toUpperCase()},g=document.defaultView;Ext.Element=function(a,b){var c="string"==typeof a?document.getElementById(a):a;if(!c)return null;var d=c.id;return b!==!0&&d&&Ext.Element.cache[d]?Ext.Element.cache[d]:(this.dom=c,void(this.id=d||Ext.id(c)))};var h=Ext.Element;h.prototype={originalDisplay:"",visibilityMode:1,defaultUnit:"px",setVisibilityMode:function(a){return this.visibilityMode=a,this},enableDisplayMode:function(a){return this.setVisibilityMode(h.DISPLAY),"undefined"!=typeof a&&(this.originalDisplay=a),this},findParent:function(a,b,c){var d,e=this.dom,f=document.body,g=0,h=Ext.DomQuery;for(b=b||50,"number"!=typeof b&&(d=Ext.getDom(b),b=10);e&&1==e.nodeType&&b>g&&e!=f&&e!=d;){if(h.is(e,a))return c?Ext.get(e):e;g++,e=e.parentNode}return null},findParentNode:function(a,b,c){var d=Ext.fly(this.dom.parentNode,"_internal");return d?d.findParent(a,b,c):null},up:function(a,b){return this.findParentNode(a,b,!0)},is:function(a){return Ext.DomQuery.is(this.dom,a)},animate:function(a,b,c,d,e){return this.anim(a,{duration:b,callback:c,easing:d},e),this},anim:function(a,b,c,d,e,f){c=c||"run",b=b||{};var g=Ext.lib.Anim[c](this.dom,a,b.duration||d||.35,b.easing||e||"easeOut",function(){Ext.callback(f,this),Ext.callback(b.callback,b.scope||this,[this,b])},this);return b.anim=g,g},preanim:function(a,b){return a[b]?"object"==typeof a[b]?a[b]:{duration:a[b+1],callback:a[b+2],easing:a[b+3]}:!1},clean:function(a){if(this.isCleaned&&a!==!0)return this;for(var b=/\S/,c=this.dom,d=c.firstChild,e=-1;d;){var f=d.nextSibling;3!=d.nodeType||b.test(d.nodeValue)?d.nodeIndex=++e:c.removeChild(d),d=f}return this.isCleaned=!0,this},calcOffsetsTo:function(a){a=Ext.get(a);var b=a.dom,c=!1;"static"==a.getStyle("position")&&(a.position("relative"),c=!0);for(var d=0,e=0,f=this.dom;f&&f!=b&&"HTML"!=f.tagName;)d+=f.offsetLeft,e+=f.offsetTop,f=f.offsetParent;return c&&a.position("static"),[d,e]},scrollIntoView:function(a,b){var c=Ext.getDom(a)||document.body,d=this.dom,e=this.calcOffsetsTo(c),f=e[0],g=e[1],h=g+d.offsetHeight,i=f+d.offsetWidth,j=c.clientHeight,k=parseInt(c.scrollTop,10),l=parseInt(c.scrollLeft,10),m=k+j,n=l+c.clientWidth;return k>g?c.scrollTop=g:h>m&&(c.scrollTop=h-j),b!==!1&&(l>f?c.scrollLeft=f:i>n&&(c.scrollLeft=i-c.clientWidth)),this},scrollChildIntoView:function(a,b){Ext.fly(a,"_scrollChildIntoView").scrollIntoView(this,b)},autoHeight:function(a,b,c,d){var e=this.getHeight();return this.clip(),this.setHeight(1),setTimeout(function(){var f=parseInt(this.dom.scrollHeight,10);a?(this.setHeight(e),this.setHeight(f,a,b,function(){this.unclip(),"function"==typeof c&&c()}.createDelegate(this),d)):(this.setHeight(f),this.unclip(),"function"==typeof c&&c())}.createDelegate(this),0),this},contains:function(b){return b?a.isAncestor(this.dom,b.dom?b.dom:b):!1},isVisible:function(a){var b=!("hidden"==this.getStyle("visibility")||"none"==this.getStyle("display"));if(a!==!0||!b)return b;for(var c=this.dom.parentNode;c&&"body"!=c.tagName.toLowerCase();){if(!Ext.fly(c,"_isVisible").isVisible())return!1;c=c.parentNode}return!0},select:function(a,b){return h.select(a,b,this.dom)},query:function(a,b){return Ext.DomQuery.select(a,this.dom)},child:function(a,b){var c=Ext.DomQuery.selectNode(a,this.dom);return b?c:Ext.get(c)},down:function(a,b){var c=Ext.DomQuery.selectNode(" > "+a,this.dom);return b?c:Ext.get(c)},initDD:function(a,b,c){var d=new Ext.dd.DD(Ext.id(this.dom),a,b);return Ext.apply(d,c)},initDDProxy:function(a,b,c){
var d=new Ext.dd.DDProxy(Ext.id(this.dom),a,b);return Ext.apply(d,c)},initDDTarget:function(a,b,c){var d=new Ext.dd.DDTarget(Ext.id(this.dom),a,b);return Ext.apply(d,c)},setVisible:function(a,b){if(b&&c){var d=this.dom,e=this.visibilityMode;a&&(this.setOpacity(.01),this.setVisible(!0)),this.anim({opacity:{to:a?1:0}},this.preanim(arguments,1),null,.35,"easeIn",function(){a||(e==h.DISPLAY?d.style.display="none":d.style.visibility="hidden",Ext.get(d).setOpacity(1))})}else this.visibilityMode==h.DISPLAY?this.setDisplayed(a):(this.fixDisplay(),this.dom.style.visibility=a?"visible":"hidden");return this},isDisplayed:function(){return"none"!=this.getStyle("display")},toggle:function(a){return this.setVisible(!this.isVisible(),this.preanim(arguments,0)),this},setDisplayed:function(a){return"boolean"==typeof a&&(a=a?this.originalDisplay:"none"),this.setStyle("display",a),this},focus:function(){try{this.dom.focus()}catch(a){}return this},blur:function(){try{this.dom.blur()}catch(a){}return this},addClass:function(a){if(a instanceof Array)for(var b=0,c=a.length;c>b;b++)this.addClass(a[b]);else a&&!this.hasClass(a)&&(this.dom.className=this.dom.className+" "+a);return this},radioClass:function(a){for(var b=this.dom.parentNode.childNodes,c=0;c<b.length;c++){var d=b[c];1==d.nodeType&&Ext.get(d).removeClass(a)}return this.addClass(a),this},removeClass:function(a){if(!a||!this.dom.className)return this;if(a instanceof Array)for(var b=0,c=a.length;c>b;b++)this.removeClass(a[b]);else if(this.hasClass(a)){var d=this.classReCache[a];d||(d=new RegExp("(?:^|\\s+)"+a+"(?:\\s+|$)","g"),this.classReCache[a]=d),this.dom.className=this.dom.className.replace(d," ")}return this},classReCache:{},toggleClass:function(a){return this.hasClass(a)?this.removeClass(a):this.addClass(a),this},hasClass:function(a){return a&&-1!=(" "+this.dom.className+" ").indexOf(" "+a+" ")},replaceClass:function(a,b){return this.removeClass(a),this.addClass(b),this},getStyles:function(){for(var a=arguments,b=a.length,c={},d=0;b>d;d++)c[a[d]]=this.getStyle(a[d]);return c},getStyle:function(){return g&&g.getComputedStyle?function(a){var b,c,h,i=this.dom;return"float"==a&&(a="cssFloat"),(b=i.style[a])?b:(c=g.getComputedStyle(i,""))?((h=d[a])||(h=d[a]=a.replace(e,f)),c[h]):null}:function(a){var b,c,g,h=this.dom;if("opacity"==a){if("string"==typeof h.style.filter){var i=h.style.filter.match(/alpha\(opacity=(.*)\)/i);if(i){var j=parseFloat(i[1]);if(!isNaN(j))return j?j/100:0}}return 1}return"float"==a&&(a="styleFloat"),(g=d[a])||(g=d[a]=a.replace(e,f)),(b=h.style[g])?b:(c=h.currentStyle)?c[g]:null}}(),setStyle:function(a,b){if("string"==typeof a){var c;(c=d[a])||(c=d[a]=a.replace(e,f)),"opacity"==c?this.setOpacity(b):this.dom.style[c]=b}else for(var g in a)"function"!=typeof a[g]&&this.setStyle(g,a[g]);return this},applyStyles:function(a){return Ext.DomHelper.applyStyles(this.dom,a),this},getX:function(){return a.getX(this.dom)},getY:function(){return a.getY(this.dom)},getXY:function(){return a.getXY(this.dom)},setX:function(b,d){return d&&c?this.setXY([b,this.getY()],this.preanim(arguments,1)):a.setX(this.dom,b),this},setY:function(b,d){return d&&c?this.setXY([this.getX(),b],this.preanim(arguments,1)):a.setY(this.dom,b),this},setLeft:function(a){return this.setStyle("left",this.addUnits(a)),this},setTop:function(a){return this.setStyle("top",this.addUnits(a)),this},setRight:function(a){return this.setStyle("right",this.addUnits(a)),this},setBottom:function(a){return this.setStyle("bottom",this.addUnits(a)),this},setXY:function(b,d){return d&&c?this.anim({points:{to:b}},this.preanim(arguments,1),"motion"):a.setXY(this.dom,b),this},setLocation:function(a,b,c){return this.setXY([a,b],this.preanim(arguments,2)),this},moveTo:function(a,b,c){return this.setXY([a,b],this.preanim(arguments,2)),this},getRegion:function(){return a.getRegion(this.dom)},getHeight:function(a){var b=this.dom.offsetHeight||0;return a!==!0?b:b-this.getBorderWidth("tb")-this.getPadding("tb")},getWidth:function(a){var b=this.dom.offsetWidth||0;return a!==!0?b:b-this.getBorderWidth("lr")-this.getPadding("lr")},getComputedHeight:function(){var a=Math.max(this.dom.offsetHeight,this.dom.clientHeight);return a||(a=parseInt(this.getStyle("height"),10)||0,this.isBorderBox()||(a+=this.getFrameWidth("tb"))),a},getComputedWidth:function(){var a=Math.max(this.dom.offsetWidth,this.dom.clientWidth);return a||(a=parseInt(this.getStyle("width"),10)||0,this.isBorderBox()||(a+=this.getFrameWidth("lr"))),a},getSize:function(a){return{width:this.getWidth(a),height:this.getHeight(a)}},getViewSize:function(){var b=this.dom,c=document;return b==c||b==c.body?{width:a.getViewWidth(),height:a.getViewHeight()}:{width:b.clientWidth,height:b.clientHeight}},getValue:function(a){return a?parseInt(this.dom.value,10):this.dom.value},adjustWidth:function(a){return"number"==typeof a&&(this.autoBoxAdjust&&!this.isBorderBox()&&(a-=this.getBorderWidth("lr")+this.getPadding("lr")),0>a&&(a=0)),a},adjustHeight:function(a){return"number"==typeof a&&(this.autoBoxAdjust&&!this.isBorderBox()&&(a-=this.getBorderWidth("tb")+this.getPadding("tb")),0>a&&(a=0)),a},setWidth:function(a,b){return a=this.adjustWidth(a),b&&c?this.anim({width:{to:a}},this.preanim(arguments,1)):this.dom.style.width=this.addUnits(a),this},setHeight:function(a,b){return a=this.adjustHeight(a),b&&c?this.anim({height:{to:a}},this.preanim(arguments,1)):this.dom.style.height=this.addUnits(a),this},setSize:function(a,b,d){return"object"==typeof a&&(b=a.height,a=a.width),a=this.adjustWidth(a),b=this.adjustHeight(b),d&&c?this.anim({width:{to:a},height:{to:b}},this.preanim(arguments,2)):(this.dom.style.width=this.addUnits(a),this.dom.style.height=this.addUnits(b)),this},setBounds:function(a,b,d,e,f){return f&&c?(d=this.adjustWidth(d),e=this.adjustHeight(e),this.anim({points:{to:[a,b]},width:{to:d},height:{to:e}},this.preanim(arguments,4),"motion")):(this.setSize(d,e),this.setLocation(a,b)),this},setRegion:function(a,b){return this.setBounds(a.left,a.top,a.right-a.left,a.bottom-a.top,this.preanim(arguments,1)),this},addListener:function(a,b,c,d){Ext.EventManager.on(this.dom,a,b,c||this,d)},removeListener:function(a,b){return Ext.EventManager.removeListener(this.dom,a,b),this},removeAllListeners:function(){return b.purgeElement(this.dom),this},relayEvent:function(a,b){this.on(a,function(c){b.fireEvent(a,c)})},setOpacity:function(a,b){if(b&&c)this.anim({opacity:{to:a}},this.preanim(arguments,1),null,.35,"easeIn");else{var d=this.dom.style;Ext.isIE?(d.zoom=1,d.filter=(d.filter||"").replace(/alpha\([^\)]*\)/gi,"")+(1==a?"":"alpha(opacity="+100*a+")")):d.opacity=a}return this},getLeft:function(a){return a?parseInt(this.getStyle("left"),10)||0:this.getX()},getRight:function(a){return a?this.getLeft(!0)+this.getWidth()||0:this.getX()+this.getWidth()},getTop:function(a){return a?parseInt(this.getStyle("top"),10)||0:this.getY()},getBottom:function(a){return a?this.getTop(!0)+this.getHeight()||0:this.getY()+this.getHeight()},position:function(a,b,c,d){a?this.setStyle("position",a):"static"==this.getStyle("position")&&this.setStyle("position","relative"),b&&this.setStyle("z-index",b),void 0!==c&&void 0!==d?this.setXY([c,d]):void 0!==c?this.setX(c):void 0!==d&&this.setY(d)},clearPositioning:function(a){return a=a||"",this.setStyle({left:a,right:a,top:a,bottom:a,"z-index":"",position:"static"}),this},getPositioning:function(){var a=this.getStyle("left"),b=this.getStyle("top");return{position:this.getStyle("position"),left:a,right:a?"":this.getStyle("right"),top:b,bottom:b?"":this.getStyle("bottom"),"z-index":this.getStyle("z-index")}},getBorderWidth:function(a){return this.addStyles(a,h.borders)},getPadding:function(a){return this.addStyles(a,h.paddings)},setPositioning:function(a){return this.applyStyles(a),"auto"==a.right&&(this.dom.style.right=""),"auto"==a.bottom&&(this.dom.style.bottom=""),this},fixDisplay:function(){"none"==this.getStyle("display")&&(this.setStyle("visibility","hidden"),this.setStyle("display",this.originalDisplay),"none"==this.getStyle("display")&&this.setStyle("display","block"))},setLeftTop:function(a,b){return this.dom.style.left=this.addUnits(a),this.dom.style.top=this.addUnits(b),this},move:function(a,b,c){var d=this.getXY();switch(a=a.toLowerCase()){case"l":case"left":this.moveTo(d[0]-b,d[1],this.preanim(arguments,2));break;case"r":case"right":this.moveTo(d[0]+b,d[1],this.preanim(arguments,2));break;case"t":case"top":case"up":this.moveTo(d[0],d[1]-b,this.preanim(arguments,2));break;case"b":case"bottom":case"down":this.moveTo(d[0],d[1]+b,this.preanim(arguments,2))}return this},clip:function(){return this.isClipped||(this.isClipped=!0,this.originalClip={o:this.getStyle("overflow"),x:this.getStyle("overflow-x"),y:this.getStyle("overflow-y")},this.setStyle("overflow","hidden"),this.setStyle("overflow-x","hidden"),this.setStyle("overflow-y","hidden")),this},unclip:function(){if(this.isClipped){this.isClipped=!1;var a=this.originalClip;a.o&&this.setStyle("overflow",a.o),a.x&&this.setStyle("overflow-x",a.x),a.y&&this.setStyle("overflow-y",a.y)}return this},getAnchorXY:function(b,c,d){var e,f,g=!1;if(d)e=d.width,f=d.height;else{var h=this.dom;h==document.body||h==document?(g=!0,e=a.getViewWidth(),f=a.getViewHeight()):(e=this.getWidth(),f=this.getHeight())}var i=0,j=0,k=Math.round;switch((b||"tl").toLowerCase()){case"c":i=k(.5*e),j=k(.5*f);break;case"t":i=k(.5*e),j=0;break;case"l":i=0,j=k(.5*f);break;case"r":i=e,j=k(.5*f);break;case"b":i=k(.5*e),j=f;break;case"tl":i=0,j=0;break;case"bl":i=0,j=f;break;case"br":i=e,j=f;break;case"tr":i=e,j=0}if(c===!0)return[i,j];if(g){var l=this.getScroll();return[i+l.left,j+l.top]}var m=this.getXY();return[i+m[0],j+m[1]]},getAlignToXY:function(b,c,d){b=Ext.get(b);this.dom;if(!b.dom)throw"Element.alignTo with an element that doesn't exist";var e=!1,f="",g="";d=d||[0,0],c?"?"==c?c="tl-bl?":-1==c.indexOf("-")&&(c="tl-"+c):c="tl-bl",c=c.toLowerCase();var h=c.match(/^([a-z]+)-([a-z]+)(\?)?$/);if(!h)throw"Element.alignTo with an invalid alignment "+c;f=h[1],g=h[2],e=!!h[3];var i=this.getAnchorXY(f,!0),j=b.getAnchorXY(g,!1),k=j[0]-i[0]+d[0],l=j[1]-i[1]+d[1];if(e){var m=this.getWidth(),n=this.getHeight(),o=b.getRegion(),p=a.getViewWidth()-5,q=a.getViewHeight()-5,r=f.charAt(0),s=f.charAt(f.length-1),t=g.charAt(0),u=g.charAt(g.length-1),v="t"==r&&"b"==t||"b"==r&&"t"==t,w="r"==s&&"l"==u||"l"==s&&"r"==u,x=document,y=(x.documentElement.scrollLeft||x.body.scrollLeft||0)+5,z=(x.documentElement.scrollTop||x.body.scrollTop||0)+5;k+m>p+y&&(k=w?o.left-m:p+y-m),y>k&&(k=w?o.right:y),l+n>q+z&&(l=v?o.top-n:q+z-n),z>l&&(l=v?o.bottom:z)}return[k,l]},getConstrainToXY:function(){var a={top:0,left:0,bottom:0,right:0};return function(b,c,d,e){b=Ext.get(b),d=d?Ext.applyIf(d,a):a;var f,g,h=0,i=0;if(b.dom==document.body||b.dom==document)f=Ext.lib.Dom.getViewWidth(),g=Ext.lib.Dom.getViewHeight();else if(f=b.dom.clientWidth,g=b.dom.clientHeight,!c){var j=b.getXY();h=j[0],i=j[1]}var k=b.getScroll();h+=d.left+k.left,i+=d.top+k.top,f-=d.right,g-=d.bottom;var l=h+f,m=i+g,n=e||(c?[this.getLeft(!0),this.getTop(!0)]:this.getXY()),o=n[0],p=n[1],q=this.dom.offsetWidth,r=this.dom.offsetHeight,s=!1;return o+q>l&&(o=l-q,s=!0),p+r>m&&(p=m-r,s=!0),h>o&&(o=h,s=!0),i>p&&(p=i,s=!0),s?[o,p]:!1}}(),adjustForConstraints:function(a,b,c){return this.getConstrainToXY(b||document,!1,c,a)||a},alignTo:function(a,b,c,d){var e=this.getAlignToXY(a,b,c);return this.setXY(e,this.preanim(arguments,3)),this},anchorTo:function(a,b,c,d,e,f){var g=function(){this.alignTo(a,b,c,d),Ext.callback(f,this)};Ext.EventManager.onWindowResize(g,this);var h=typeof e;return"undefined"!=h&&Ext.EventManager.on(window,"scroll",g,this,{buffer:"number"==h?e:50}),g.call(this),this},clearOpacity:function(){return window.ActiveXObject?"string"==typeof this.dom.style.filter&&/alpha/i.test(this.dom.style.filter)&&(this.dom.style.filter=""):(this.dom.style.opacity="",this.dom.style["-moz-opacity"]="",this.dom.style["-khtml-opacity"]=""),this},hide:function(a){return this.setVisible(!1,this.preanim(arguments,0)),this},show:function(a){return this.setVisible(!0,this.preanim(arguments,0)),this},addUnits:function(a){return Ext.Element.addUnits(a,this.defaultUnit)},beginMeasure:function(){var a=this.dom;if(a.offsetWidth||a.offsetHeight)return this;for(var b=[],c=this.dom,d=document.body;!a.offsetWidth&&!a.offsetHeight&&c&&c.tagName&&c!=d;){var e=Ext.get(c);"none"==e.getStyle("display")&&(b.push({el:c,visibility:e.getStyle("visibility")}),c.style.visibility="hidden",c.style.display="block"),c=c.parentNode}return this._measureChanged=b,this},endMeasure:function(){var a=this._measureChanged;if(a){for(var b=0,c=a.length;c>b;b++){var d=a[b];d.el.style.visibility=d.visibility,d.el.style.display="none"}this._measureChanged=null}return this},update:function(a,c,d){if("undefined"==typeof a&&(a=""),c!==!0)return this.dom.innerHTML=a,"function"==typeof d&&d(),this;var e=Ext.id(),f=this.dom;return a+='<span id="'+e+'"></span>',b.onAvailable(e,function(){for(var b,c=document.getElementsByTagName("head")[0],f=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/gi,g=/\ssrc=([\'\"])(.*?)\1/i,h=/\stype=([\'\"])(.*?)\1/i;b=f.exec(a);){var i=b[1],j=i?i.match(g):!1;if(j&&j[2]){var k=document.createElement("script");k.src=j[2];var l=i.match(h);l&&l[2]&&(k.type=l[2]),c.appendChild(k)}else b[2]&&b[2].length>0&&(window.execScript?window.execScript(b[2]):window.eval(b[2]))}var m=document.getElementById(e);m&&m.parentNode.removeChild(m),"function"==typeof d&&d()}),f.innerHTML=a.replace(/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/gi,""),this},load:function(){var a=this.getUpdateManager();return a.update.apply(a,arguments),this},getUpdateManager:function(){return this.updateManager||(this.updateManager=new Ext.UpdateManager(this)),this.updateManager},unselectable:function(){return this.dom.unselectable="on",this.swallowEvent("selectstart",!0),this.applyStyles("-moz-user-select:none;-khtml-user-select:none;"),this.addClass("x-unselectable"),this},getCenterXY:function(){return this.getAlignToXY(document,"c-c")},center:function(a){return this.alignTo(a||document,"c-c"),this},isBorderBox:function(){return k[this.dom.tagName.toLowerCase()]||Ext.isBorderBox},getBox:function(a,b){var c;if(b){var d=parseInt(this.getStyle("left"),10)||0,e=parseInt(this.getStyle("top"),10)||0;c=[d,e]}else c=this.getXY();var f,g=this.dom,h=g.offsetWidth,i=g.offsetHeight;if(a){var j=this.getBorderWidth("l")+this.getPadding("l"),k=this.getBorderWidth("r")+this.getPadding("r"),l=this.getBorderWidth("t")+this.getPadding("t"),m=this.getBorderWidth("b")+this.getPadding("b");f={x:c[0]+j,y:c[1]+l,0:c[0]+j,1:c[1]+l,width:h-(j+k),height:i-(l+m)}}else f={x:c[0],y:c[1],0:c[0],1:c[1],width:h,height:i};return f.right=f.x+f.width,f.bottom=f.y+f.height,f},getFrameWidth:function(a,b){return b&&Ext.isBorderBox?0:this.getPadding(a)+this.getBorderWidth(a)},setBox:function(a,b,c){var d=a.width,e=a.height;return!b||this.autoBoxAdjust||this.isBorderBox()||(d-=this.getBorderWidth("lr")+this.getPadding("lr"),e-=this.getBorderWidth("tb")+this.getPadding("tb")),this.setBounds(a.x,a.y,d,e,this.preanim(arguments,2)),this},repaint:function(){var a=this.dom;return this.addClass("x-repaint"),setTimeout(function(){Ext.get(a).removeClass("x-repaint")},1),this},getMargins:function(a){return a?this.addStyles(a,h.margins):{top:parseInt(this.getStyle("margin-top"),10)||0,left:parseInt(this.getStyle("margin-left"),10)||0,bottom:parseInt(this.getStyle("margin-bottom"),10)||0,right:parseInt(this.getStyle("margin-right"),10)||0}},addStyles:function(a,b){for(var c,d,e=0,f=0,g=a.length;g>f;f++)c=this.getStyle(b[a.charAt(f)]),c&&(d=parseInt(c,10),d&&(e+=d));return e},createProxy:function(a,b,c){b=b?Ext.getDom(b):document.body,a="object"==typeof a?a:{tag:"div",cls:a};var d=Ext.DomHelper.append(b,a,!0);return c&&d.setBox(this.getBox()),d},mask:function(a,b){if("static"==this.getStyle("position")&&this.setStyle("position","relative"),this._mask||(this._mask=Ext.DomHelper.append(this.dom,{cls:"ext-el-mask"},!0)),this.addClass("x-masked"),this._mask.setDisplayed(!0),"string"==typeof a){this._maskMsg||(this._maskMsg=Ext.DomHelper.append(this.dom,{cls:"ext-el-mask-msg",cn:{tag:"div"}},!0));var c=this._maskMsg;c.dom.className=b?"ext-el-mask-msg "+b:"ext-el-mask-msg",c.dom.firstChild.innerHTML=a,c.setDisplayed(!0),c.center(this)}return!Ext.isIE||Ext.isIE7&&Ext.isStrict||"auto"!=this.getStyle("height")||this._mask.setHeight(this.getHeight()),this._mask},unmask:function(a){this._mask&&(a===!0?(this._mask.remove(),delete this._mask,this._maskMsg&&(this._maskMsg.remove(),delete this._maskMsg)):(this._mask.setDisplayed(!1),this._maskMsg&&this._maskMsg.setDisplayed(!1))),this.removeClass("x-masked")},isMasked:function(){return this._mask&&this._mask.isVisible()},createShim:function(){var a=document.createElement("iframe");a.frameBorder="no",a.className="ext-shim",Ext.isIE&&Ext.isSecure&&(a.src=Ext.SSL_SECURE_URL);var b=Ext.get(this.dom.parentNode.insertBefore(a,this.dom));return b.autoBoxAdjust=!1,b},remove:function(){this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),delete h.cache[this.dom.id]},addClassOnOver:function(a,b){this.on("mouseover",function(){Ext.fly(this,"_internal").addClass(a)},this.dom);var c=function(c){b===!0&&c.within(this,!0)||Ext.fly(this,"_internal").removeClass(a)};return this.on("mouseout",c,this.dom),this},addClassOnFocus:function(a){return this.on("focus",function(){Ext.fly(this,"_internal").addClass(a)},this.dom),this.on("blur",function(){Ext.fly(this,"_internal").removeClass(a)},this.dom),this},addClassOnClick:function(a){var b=this.dom;return this.on("mousedown",function(){Ext.fly(b,"_internal").addClass(a);var c=Ext.get(document),d=function(){Ext.fly(b,"_internal").removeClass(a),c.removeListener("mouseup",d)};c.on("mouseup",d)}),this},swallowEvent:function(a,b){var c=function(a){a.stopPropagation(),b&&a.preventDefault()};if(a instanceof Array){for(var d=0,e=a.length;e>d;d++)this.on(a[d],c);return this}return this.on(a,c),this},fitToParentDelegate:Ext.emptyFn,fitToParent:function(a,b){if(Ext.EventManager.removeResizeListener(this.fitToParentDelegate),this.fitToParentDelegate=Ext.emptyFn,a!==!0||this.dom.parentNode){var c=Ext.get(b||this.dom.parentNode);return this.setSize(c.getComputedWidth()-c.getFrameWidth("lr"),c.getComputedHeight()-c.getFrameWidth("tb")),a===!0&&(this.fitToParentDelegate=this.fitToParent.createDelegate(this,[!0,b]),Ext.EventManager.onWindowResize(this.fitToParentDelegate)),this}},getNextSibling:function(){for(var a=this.dom.nextSibling;a&&1!=a.nodeType;)a=a.nextSibling;return a},getPrevSibling:function(){for(var a=this.dom.previousSibling;a&&1!=a.nodeType;)a=a.previousSibling;return a},appendChild:function(a){return a=Ext.get(a),a.appendTo(this),this},createChild:function(a,b,c){return a=a||{tag:"div"},b?Ext.DomHelper.insertBefore(b,a,c!==!0):Ext.DomHelper[this.dom.firstChild?"append":"overwrite"](this.dom,a,c!==!0)},appendTo:function(a){return a=Ext.getDom(a),a.appendChild(this.dom),this},insertBefore:function(a){return a=Ext.getDom(a),a.parentNode.insertBefore(this.dom,a),this},insertAfter:function(a){return a=Ext.getDom(a),a.parentNode.insertBefore(this.dom,a.nextSibling),this},insertFirst:function(a,b){return a=a||{},"object"!=typeof a||a.nodeType?(a=Ext.getDom(a),this.dom.insertBefore(a,this.dom.firstChild),b?a:Ext.get(a)):this.createChild(a,this.dom.firstChild,b)},insertSibling:function(a,b,c){b=b?b.toLowerCase():"before",a=a||{};var d;"before"==b?this.dom:this.dom.nextSibling;return"object"!=typeof a||a.nodeType?(d=this.dom.parentNode.insertBefore(Ext.getDom(a),"before"==b?this.dom:this.dom.nextSibling),c||(d=Ext.get(d))):d="after"!=b||this.dom.nextSibling?Ext.DomHelper["after"==b?"insertAfter":"insertBefore"](this.dom,a,!c):Ext.DomHelper.append(this.dom.parentNode,a,!c),d},wrap:function(a,b){a||(a={tag:"div"});var c=Ext.DomHelper.insertBefore(this.dom,a,!b);return c.dom?c.dom.appendChild(this.dom):c.appendChild(this.dom),c},replace:function(a){return a=Ext.get(a),this.insertBefore(a),a.remove(),this},insertHtml:function(a,b,c){var d=Ext.DomHelper.insertHtml(a,this.dom,b);return c?Ext.get(d):d},set:function(a,b){var c=this.dom;b="undefined"==typeof b?c.setAttribute?!0:!1:b;for(var d in a)"style"!=d&&"function"!=typeof a[d]&&("cls"==d?c.className=a.cls:b?c.setAttribute(d,a[d]):c[d]=a[d]);return a.style&&Ext.DomHelper.applyStyles(c,a.style),this},addKeyListener:function(a,b,c){var d;return d="object"!=typeof a||a instanceof Array?{key:a,fn:b,scope:c}:{key:a.key,shift:a.shift,ctrl:a.ctrl,alt:a.alt,fn:b,scope:c},new Ext.KeyMap(this,d)},addKeyMap:function(a){return new Ext.KeyMap(this,a)},isScrollable:function(){var a=this.dom;return a.scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth},scrollTo:function(a,b,d){var e="left"==a.toLowerCase()?"scrollLeft":"scrollTop";if(d&&c){var f="scrollLeft"==e?[b,this.dom.scrollTop]:[this.dom.scrollLeft,b];this.anim({scroll:{to:f}},this.preanim(arguments,2),"scroll")}else this.dom[e]=b;return this},scroll:function(a,b,c){if(this.isScrollable()){var d=this.dom,e=d.scrollLeft,f=d.scrollTop,g=d.scrollWidth,h=d.scrollHeight,i=d.clientWidth,j=d.clientHeight;a=a.toLowerCase();var k=!1,l=this.preanim(arguments,2);switch(a){case"l":case"left":if(g-e>i){var m=Math.min(e+b,g-i);this.scrollTo("left",m,l),k=!0}break;case"r":case"right":if(e>0){var m=Math.max(e-b,0);this.scrollTo("left",m,l),k=!0}break;case"t":case"top":case"up":if(f>0){var m=Math.max(f-b,0);this.scrollTo("top",m,l),k=!0}break;case"b":case"bottom":case"down":if(h-f>j){var m=Math.min(f+b,h-j);this.scrollTo("top",m,l),k=!0}}return k}},translatePoints:function(a,b){("object"==typeof a||a instanceof Array)&&(b=a[1],a=a[0]);var c=this.getStyle("position"),d=this.getXY(),e=parseInt(this.getStyle("left"),10),f=parseInt(this.getStyle("top"),10);return isNaN(e)&&(e="relative"==c?0:this.dom.offsetLeft),isNaN(f)&&(f="relative"==c?0:this.dom.offsetTop),{left:a-d[0]+e,top:b-d[1]+f}},getScroll:function(){var a=this.dom,b=document;if(a==b||a==b.body){var c=window.pageXOffset||b.documentElement.scrollLeft||b.body.scrollLeft||0,d=window.pageYOffset||b.documentElement.scrollTop||b.body.scrollTop||0;return{left:c,top:d}}return{left:a.scrollLeft,top:a.scrollTop}},getColor:function(a,b,c){var d=this.getStyle(a);if(!d||"transparent"==d||"inherit"==d)return b;var e="undefined"==typeof c?"#":c;if("rgb("==d.substr(0,4))for(var f=d.slice(4,d.length-1).split(","),g=0;3>g;g++){var h=parseInt(f[g]).toString(16);16>h&&(h="0"+h),e+=h}else if("#"==d.substr(0,1))if(4==d.length)for(var g=1;4>g;g++){var i=d.charAt(g);e+=i+i}else 7==d.length&&(e+=d.substr(1));return e.length>5?e.toLowerCase():b},boxWrap:function(a){a=a||"x-box";var b=Ext.get(this.insertHtml("beforeBegin",String.format('<div class="{0}">'+h.boxMarkup+"</div>",a)));return b.child("."+a+"-mc").dom.appendChild(this.dom),b},getAttributeNS:Ext.isIE?function(a,b){var c=this.dom,d=typeof c[a+":"+b];return"undefined"!=d&&"unknown"!=d?c[a+":"+b]:c[b]}:function(a,b){var c=this.dom;return c.getAttributeNS(a,b)||c.getAttribute(a+":"+b)||c.getAttribute(b)||c[b]}};var i=h.prototype;i.on=i.addListener,i.mon=i.addListener,i.un=i.removeListener,i.autoBoxAdjust=!0,h.unitPattern=/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,h.addUnits=function(a,b){return""===a||"auto"==a?a:void 0===a?"":"number"!=typeof a&&h.unitPattern.test(a)?a:a+(b||"px")},h.boxMarkup='<div class="{0}-tl"><div class="{0}-tr"><div class="{0}-tc"></div></div></div><div class="{0}-ml"><div class="{0}-mr"><div class="{0}-mc"></div></div></div><div class="{0}-bl"><div class="{0}-br"><div class="{0}-bc"></div></div></div>',h.VISIBILITY=1,h.DISPLAY=2,h.borders={l:"border-left-width",r:"border-right-width",t:"border-top-width",b:"border-bottom-width"},h.paddings={l:"padding-left",r:"padding-right",t:"padding-top",b:"padding-bottom"},h.margins={l:"margin-left",r:"margin-right",t:"margin-top",b:"margin-bottom"},h.cache={};var j;h.get=function(a){var b,c,d;if(!a)return null;if("string"==typeof a)return(c=document.getElementById(a))?((b=h.cache[a])?b.dom=c:b=h.cache[a]=new h(c),b):null;if(a.tagName)return(d=a.id)||(d=Ext.id(a)),(b=h.cache[d])?b.dom=a:b=h.cache[d]=new h(a),b;if(a instanceof h)return a!=j&&(a.dom=document.getElementById(a.id)||a.dom,h.cache[a.id]=a),a;if(a.isComposite)return a;if(a instanceof Array)return h.select(a);if(a==document){if(!j){var e=function(){};e.prototype=h.prototype,j=new e,j.dom=document}return j}return null},h.uncache=function(a){for(var b=0,c=arguments,d=c.length;d>b;b++)c[b]&&delete h.cache[c[b].id||c[b]]},h.garbageCollect=function(){if(!Ext.enableGarbageCollector)return void clearInterval(h.collectorThread);for(var a in h.cache){var c=h.cache[a],d=c.dom;d&&d.parentNode&&(d.offsetParent||document.getElementById(a))||(delete h.cache[a],d&&Ext.enableListenerCollection&&b.purgeElement(d))}},h.collectorThreadId=setInterval(h.garbageCollect,3e4),h.Flyweight=function(a){this.dom=a},h.Flyweight.prototype=h.prototype,h._flyweights={},h.fly=function(a,b){return b=b||"_global",(a=Ext.getDom(a))?(h._flyweights[b]||(h._flyweights[b]=new h.Flyweight),h._flyweights[b].dom=a,h._flyweights[b]):null},Ext.get=h.get,Ext.fly=h.fly;var k=Ext.isStrict?{select:1}:{input:1,select:1,textarea:1};(Ext.isIE||Ext.isGecko)&&(k.button=1),Ext.EventManager.on(window,"unload",function(){delete h.cache,delete h._flyweights})}(),Ext.enableFx=!0,Ext.Fx={slideIn:function(a,b){var c=this.getFxEl();return b=b||{},c.queueFx(b,function(){a=a||"t",this.fixDisplay();var d=this.getFxRestore(),e=this.getBox();this.setSize(e);var f=this.fxWrap(d.pos,b,"hidden"),g=this.dom.style;g.visibility="visible",g.position="absolute";var h,i=function(){c.fxUnwrap(f,d.pos,b),g.width=d.width,g.height=d.height,c.afterFx(b)},j={to:[e.x,e.y]},k={to:e.width},l={to:e.height};switch(a.toLowerCase()){case"t":f.setSize(e.width,0),g.left=g.bottom="0",h={height:l};break;case"l":f.setSize(0,e.height),g.right=g.top="0",h={width:k};break;case"r":f.setSize(0,e.height),f.setX(e.right),g.left=g.top="0",h={width:k,points:j};break;case"b":f.setSize(e.width,0),f.setY(e.bottom),g.left=g.top="0",h={height:l,points:j};break;case"tl":f.setSize(0,0),g.right=g.bottom="0",h={width:k,height:l};break;case"bl":f.setSize(0,0),f.setY(e.y+e.height),g.right=g.top="0",h={width:k,height:l,points:j};break;case"br":f.setSize(0,0),f.setXY([e.right,e.bottom]),g.left=g.top="0",h={width:k,height:l,points:j};break;case"tr":f.setSize(0,0),f.setX(e.x+e.width),g.left=g.bottom="0",h={width:k,height:l,points:j}}this.dom.style.visibility="visible",f.show(),arguments.callee.anim=f.fxanim(h,b,"motion",.5,"easeOut",i)}),this},slideOut:function(a,b){var c=this.getFxEl();return b=b||{},c.queueFx(b,function(){a=a||"t";var d=this.getFxRestore(),e=this.getBox();this.setSize(e);var f=this.fxWrap(d.pos,b,"visible"),g=this.dom.style;g.visibility="visible",g.position="absolute",f.setSize(e);var h,i=function(){b.useDisplay?c.setDisplayed(!1):c.hide(),c.fxUnwrap(f,d.pos,b),g.width=d.width,g.height=d.height,c.afterFx(b)},j={to:0};switch(a.toLowerCase()){case"t":g.left=g.bottom="0",h={height:j};break;case"l":g.right=g.top="0",h={width:j};break;case"r":g.left=g.top="0",h={width:j,points:{to:[e.right,e.y]}};break;case"b":g.left=g.top="0",h={height:j,points:{to:[e.x,e.bottom]}};break;case"tl":g.right=g.bottom="0",h={width:j,height:j};break;case"bl":g.right=g.top="0",h={width:j,height:j,points:{to:[e.x,e.bottom]}};break;case"br":g.left=g.top="0",h={width:j,height:j,points:{to:[e.x+e.width,e.bottom]}};break;case"tr":g.left=g.bottom="0",h={width:j,height:j,points:{to:[e.right,e.y]}}}arguments.callee.anim=f.fxanim(h,b,"motion",.5,"easeOut",i)}),this},puff:function(a){var b=this.getFxEl();return a=a||{},b.queueFx(a,function(){this.clearOpacity(),this.show();var c=this.getFxRestore(),d=this.dom.style,e=function(){a.useDisplay?b.setDisplayed(!1):b.hide(),b.clearOpacity(),b.setPositioning(c.pos),d.width=c.width,d.height=c.height,d.fontSize="",b.afterFx(a)},f=this.getWidth(),g=this.getHeight();arguments.callee.anim=this.fxanim({width:{to:this.adjustWidth(2*f)},height:{to:this.adjustHeight(2*g)},points:{by:[-(.5*f),-(.5*g)]},opacity:{to:0},fontSize:{to:200,unit:"%"}},a,"motion",.5,"easeOut",e)}),this},switchOff:function(a){var b=this.getFxEl();return a=a||{},b.queueFx(a,function(){this.clearOpacity(),this.clip();var c=this.getFxRestore(),d=this.dom.style,e=function(){a.useDisplay?b.setDisplayed(!1):b.hide(),b.clearOpacity(),b.setPositioning(c.pos),d.width=c.width,d.height=c.height,b.afterFx(a)};this.fxanim({opacity:{to:.3}},null,null,.1,null,function(){this.clearOpacity(),function(){this.fxanim({height:{to:1},points:{by:[0,.5*this.getHeight()]}},a,"motion",.3,"easeIn",e)}.defer(100,this)})}),this},highlight:function(a,b){var c=this.getFxEl();return b=b||{},c.queueFx(b,function(){a=a||"ffff9c",attr=b.attr||"backgroundColor",this.clearOpacity(),this.show();var d=this.getColor(attr),e=this.dom.style[attr];endColor=b.endColor||d||"ffffff";var f=function(){c.dom.style[attr]=e,c.afterFx(b)},g={};g[attr]={from:a,to:endColor},arguments.callee.anim=this.fxanim(g,b,"color",1,"easeIn",f)}),this},frame:function(a,b,c){var d=this.getFxEl();return c=c||{},d.queueFx(c,function(){a=a||"#C3DAF9",6==a.length&&(a="#"+a),b=b||1,duration=c.duration||1,this.show();var e=this.getBox(),f=function(){var g=this.createProxy({style:{visbility:"hidden",position:"absolute","z-index":"35000",border:"0px solid "+a}}),h=Ext.isBorderBox?2:1;g.animate({top:{from:e.y,to:e.y-20},left:{from:e.x,to:e.x-20},borderWidth:{from:0,to:10},opacity:{from:1,to:0},height:{from:e.height,to:e.height+20*h},width:{from:e.width,to:e.width+20*h}},duration,function(){g.remove()}),--b>0?f.defer(duration/2*1e3,this):d.afterFx(c)};f.call(this)}),this},pause:function(a){var b=this.getFxEl(),c={};return b.queueFx(c,function(){setTimeout(function(){b.afterFx(c)},1e3*a)}),this},fadeIn:function(a){var b=this.getFxEl();return a=a||{},b.queueFx(a,function(){this.setOpacity(0),this.fixDisplay(),this.dom.style.visibility="visible";var c=a.endOpacity||1;arguments.callee.anim=this.fxanim({opacity:{to:c}},a,null,.5,"easeOut",function(){1==c&&this.clearOpacity(),b.afterFx(a)})}),this},fadeOut:function(a){var b=this.getFxEl();return a=a||{},b.queueFx(a,function(){arguments.callee.anim=this.fxanim({opacity:{to:a.endOpacity||0}},a,null,.5,"easeOut",function(){this.visibilityMode==Ext.Element.DISPLAY||a.useDisplay?this.dom.style.display="none":this.dom.style.visibility="hidden",this.clearOpacity(),b.afterFx(a)})}),this},scale:function(a,b,c){return this.shift(Ext.apply({},c,{width:a,height:b})),this},shift:function(a){var b=this.getFxEl();return a=a||{},b.queueFx(a,function(){var c={},d=a.width,e=a.height,f=a.x,g=a.y,h=a.opacity;void 0!==d&&(c.width={to:this.adjustWidth(d)}),void 0!==e&&(c.height={to:this.adjustHeight(e)}),(void 0!==f||void 0!==g)&&(c.points={to:[void 0!==f?f:this.getX(),void 0!==g?g:this.getY()]}),void 0!==h&&(c.opacity={to:h}),void 0!==a.xy&&(c.points={to:a.xy}),arguments.callee.anim=this.fxanim(c,a,"motion",.35,"easeOut",function(){b.afterFx(a)})}),this},ghost:function(a,b){var c=this.getFxEl();return b=b||{},c.queueFx(b,function(){a=a||"b";var d=this.getFxRestore(),e=this.getWidth(),f=this.getHeight(),g=this.dom.style,h=function(){b.useDisplay?c.setDisplayed(!1):c.hide(),c.clearOpacity(),c.setPositioning(d.pos),g.width=d.width,g.height=d.height,c.afterFx(b)},i={opacity:{to:0},points:{}},j=i.points;switch(a.toLowerCase()){case"t":j.by=[0,-f];break;case"l":j.by=[-e,0];break;case"r":j.by=[e,0];break;case"b":j.by=[0,f];break;case"tl":j.by=[-e,-f];break;case"bl":j.by=[-e,f];break;case"br":j.by=[e,f];break;case"tr":j.by=[e,-f]}arguments.callee.anim=this.fxanim(i,b,"motion",.5,"easeOut",h)}),this},syncFx:function(){return this.fxDefaults=Ext.apply(this.fxDefaults||{},{block:!1,concurrent:!0,stopFx:!1}),this},sequenceFx:function(){return this.fxDefaults=Ext.apply(this.fxDefaults||{},{block:!1,concurrent:!1,stopFx:!1}),this},nextFx:function(){var a=this.fxQueue[0];a&&a.call(this)},hasActiveFx:function(){return this.fxQueue&&this.fxQueue[0]},stopFx:function(){if(this.hasActiveFx()){
var a=this.fxQueue[0];a&&a.anim&&a.anim.isAnimated()&&(this.fxQueue=[a],a.anim.stop(!0))}return this},beforeFx:function(a){return this.hasActiveFx()&&!a.concurrent?a.stopFx?(this.stopFx(),!0):!1:!0},hasFxBlock:function(){var a=this.fxQueue;return a&&a[0]&&a[0].block},queueFx:function(a,b){if(this.fxQueue||(this.fxQueue=[]),!this.hasFxBlock())if(Ext.applyIf(a,this.fxDefaults),a.concurrent)b.call(this);else{var c=this.beforeFx(a);b.block=a.block,this.fxQueue.push(b),c&&this.nextFx()}return this},fxWrap:function(a,b,c){var d;if(!b.wrap||!(d=Ext.get(b.wrap))){var e;b.fixPosition&&(e=this.getXY());var f=document.createElement("div");f.style.visibility=c,d=Ext.get(this.dom.parentNode.insertBefore(f,this.dom)),d.setPositioning(a),"static"==d.getStyle("position")&&d.position("relative"),this.clearPositioning("auto"),d.clip(),d.dom.appendChild(this.dom),e&&d.setXY(e)}return d},fxUnwrap:function(a,b,c){this.clearPositioning(),this.setPositioning(b),c.wrap||(a.dom.parentNode.insertBefore(this.dom,a.dom),a.remove())},getFxRestore:function(){var a=this.dom.style;return{pos:this.getPositioning(),width:a.width,height:a.height}},afterFx:function(a){a.afterStyle&&this.applyStyles(a.afterStyle),a.afterCls&&this.addClass(a.afterCls),a.remove===!0&&this.remove(),Ext.callback(a.callback,a.scope,[this]),a.concurrent||(this.fxQueue.shift(),this.nextFx())},getFxEl:function(){return Ext.get(this.dom)},fxanim:function(a,b,c,d,e,f){c=c||"run",b=b||{};var g=Ext.lib.Anim[c](this.dom,a,b.duration||d||.35,b.easing||e||"easeOut",function(){Ext.callback(f,this)},this);return b.anim=g,g}},Ext.Fx.resize=Ext.Fx.scale,Ext.apply(Ext.Element.prototype,Ext.Fx),Ext.CompositeElement=function(a){this.elements=[],this.addElements(a)},Ext.CompositeElement.prototype={isComposite:!0,addElements:function(a){if(!a)return this;"string"==typeof a&&(a=Ext.Element.selectorFunction(a));for(var b=this.elements,c=b.length-1,d=0,e=a.length;e>d;d++)b[++c]=Ext.get(a[d]);return this},fill:function(a){return this.elements=[],this.add(a),this},filter:function(a){var b=[];return this.each(function(c){c.is(a)&&(b[b.length]=c.dom)}),this.fill(b),this},invoke:function(a,b){for(var c=this.elements,d=0,e=c.length;e>d;d++)Ext.Element.prototype[a].apply(c[d],b);return this},add:function(a){return"string"==typeof a?this.addElements(Ext.Element.selectorFunction(a)):void 0!==a.length?this.addElements(a):this.addElements([a]),this},each:function(a,b){for(var c=this.elements,d=0,e=c.length;e>d&&a.call(b||c[d],c[d],this,d)!==!1;d++);return this},item:function(a){return this.elements[a]||null},first:function(){return this.item(0)},last:function(){return this.item(this.elements.length-1)},getCount:function(){return this.elements.length},contains:function(a){return-1!==this.indexOf(a)},indexOf:function(a){return this.elements.indexOf(Ext.get(a))},removeElement:function(a,b){if(a instanceof Array){for(var c=0,d=a.length;d>c;c++)this.removeElement(a[c]);return this}var e="number"==typeof a?a:this.indexOf(a);if(-1!==e){if(b){var f=this.elements[e];f.dom?f.remove():f.parentNode.removeChild(f)}this.elements.splice(e,1)}return this},replaceElement:function(a,b,c){var d="number"==typeof a?a:this.indexOf(a);return-1!==d&&(c?this.elements[d].replaceWith(b):this.elements.splice(d,1,Ext.get(b))),this},clear:function(){this.elements=[]}},function(){Ext.CompositeElement.createCall=function(a,b){a[b]||(a[b]=function(){return this.invoke(b,arguments)})};for(var a in Ext.Element.prototype)"function"==typeof Ext.Element.prototype[a]&&Ext.CompositeElement.createCall(Ext.CompositeElement.prototype,a)}(),Ext.CompositeElementLite=function(a){Ext.CompositeElementLite.superclass.constructor.call(this,a),this.el=new Ext.Element.Flyweight},Ext.extend(Ext.CompositeElementLite,Ext.CompositeElement,{addElements:function(a){if(a)if(a instanceof Array)this.elements=this.elements.concat(a);else for(var b=this.elements,c=b.length-1,d=0,e=a.length;e>d;d++)b[++c]=a[d];return this},invoke:function(a,b){for(var c=this.elements,d=this.el,e=0,f=c.length;f>e;e++)d.dom=c[e],Ext.Element.prototype[a].apply(d,b);return this},item:function(a){return this.elements[a]?(this.el.dom=this.elements[a],this.el):null},addListener:function(a,b,c,d){for(var e=this.elements,f=0,g=e.length;g>f;f++)Ext.EventManager.on(e[f],a,b,c||e[f],d);return this},each:function(a,b){for(var c=this.elements,d=this.el,e=0,f=c.length;f>e&&(d.dom=c[e],a.call(b||d,d,this,e)!==!1);e++);return this},indexOf:function(a){return this.elements.indexOf(Ext.getDom(a))},replaceElement:function(a,b,c){var d="number"==typeof a?a:this.indexOf(a);if(-1!==d){if(b=Ext.getDom(b),c){var e=this.elements[d];e.parentNode.insertBefore(b,e),e.parentNode.removeChild(e)}this.elements.splice(d,1,b)}return this}}),Ext.CompositeElementLite.prototype.on=Ext.CompositeElementLite.prototype.addListener,Ext.DomQuery&&(Ext.Element.selectorFunction=Ext.DomQuery.select),Ext.Element.select=function(a,b,c){var d;if("string"==typeof a)d=Ext.Element.selectorFunction(a,c);else{if(void 0===a.length)throw"Invalid selector";d=a}return b===!0?new Ext.CompositeElement(d):new Ext.CompositeElementLite(d)},Ext.select=Ext.Element.select,Ext.data.Connection=function(a){Ext.apply(this,a),this.addEvents({beforerequest:!0,requestcomplete:!0,requestexception:!0}),Ext.data.Connection.superclass.constructor.call(this)},Ext.extend(Ext.data.Connection,Ext.util.Observable,{timeout:3e4,autoAbort:!1,disableCaching:!0,request:function(a){if(this.fireEvent("beforerequest",this,a)!==!1){var b=a.params;if("function"==typeof b&&(b=b.call(a.scope||window,a)),"object"==typeof b&&(b=Ext.urlEncode(a.params)),this.extraParams){var c=Ext.urlEncode(this.extraParams);b=b?b+"&"+c:c}var d=a.url||this.url;if("function"==typeof d&&(d=d.call(a.scope||window,a)),a.form){var e=Ext.getDom(a.form);d=d||e.action;var f=e.getAttribute("enctype");if(a.isUpload||f&&"multipart/form-data"==f.toLowerCase())return this.doFormUpload(a,b,d);var g=Ext.lib.Ajax.serializeForm(e);b=b?b+"&"+g:g}var h=a.headers;this.defaultHeaders&&(h=Ext.apply(h||{},this.defaultHeaders),a.headers||(a.headers=h));var i={success:this.handleResponse,failure:this.handleFailure,scope:this,argument:{options:a},timeout:this.timeout},j=a.method||this.method||(b?"POST":"GET");return("GET"==j&&this.disableCaching&&a.disableCaching!==!1||a.disableCaching===!0)&&(d+=(-1!=d.indexOf("?")?"&":"?")+"_dc="+(new Date).getTime()),"boolean"==typeof a.autoAbort?a.autoAbort&&this.abort():this.autoAbort!==!1&&this.abort(),("GET"==j&&b||a.xmlData)&&(d+=(-1!=d.indexOf("?")?"&":"?")+b,b=""),this.transId=Ext.lib.Ajax.request(j,d,i,b,a),this.transId}return Ext.callback(a.callback,a.scope,[a,null,null]),null},isLoading:function(a){return a?Ext.lib.Ajax.isCallInProgress(a):this.transId?!0:!1},abort:function(a){(a||this.isLoading())&&Ext.lib.Ajax.abort(a||this.transId)},handleResponse:function(a){this.transId=!1;var b=a.argument.options;a.argument=b?b.argument:null,this.fireEvent("requestcomplete",this,a,b),Ext.callback(b.success,b.scope,[a,b]),Ext.callback(b.callback,b.scope,[b,!0,a])},handleFailure:function(a,b){this.transId=!1;var c=a.argument.options;a.argument=c?c.argument:null,this.fireEvent("requestexception",this,a,c,b),Ext.callback(c.failure,c.scope,[a,c]),Ext.callback(c.callback,c.scope,[c,!1,a])},doFormUpload:function(a,b,c){function d(){var b={responseText:"",responseXML:null};b.argument=a?a.argument:null;try{var c;c=Ext.isIE?f.contentWindow.document:f.contentDocument||window.frames[e].document,c&&c.body&&(b.responseText=c.body.innerHTML),c&&c.XMLDocument?b.responseXML=c.XMLDocument:b.responseXML=c}catch(g){}Ext.EventManager.removeListener(f,"load",d,this),this.fireEvent("requestcomplete",this,b,a),Ext.callback(a.success,a.scope,[b,a]),Ext.callback(a.callback,a.scope,[a,!0,b]),setTimeout(function(){document.body.removeChild(f)},100)}var e=Ext.id(),f=document.createElement("iframe");f.id=e,f.name=e,f.className="x-hidden",Ext.isIE&&(f.src=Ext.SSL_SECURE_URL),document.body.appendChild(f),Ext.isIE&&(document.frames[e].name=e);var g=Ext.getDom(a.form);g.target=e,g.method="POST",g.enctype=g.encoding="multipart/form-data",c&&(g.action=c);var h,i;if(b){h=[],b=Ext.urlDecode(b,!1);for(var j in b)b.hasOwnProperty(j)&&(i=document.createElement("input"),i.type="hidden",i.name=j,i.value=b[j],g.appendChild(i),h.push(i))}if(Ext.EventManager.on(f,"load",d,this),g.submit(),h)for(var k=0,l=h.length;l>k;k++)g.removeChild(h[k])}}),Ext.Ajax=new Ext.data.Connection({autoAbort:!1,serializeForm:function(a){return Ext.lib.Ajax.serializeForm(a)}}),Ext.UpdateManager=function(a,b){if(a=Ext.get(a),!b&&a.updateManager)return a.updateManager;this.el=a,this.defaultUrl=null,this.addEvents({beforeupdate:!0,update:!0,failure:!0});var c=Ext.UpdateManager.defaults;this.sslBlankUrl=c.sslBlankUrl,this.disableCaching=c.disableCaching,this.indicatorText=c.indicatorText,this.showLoadIndicator=c.showLoadIndicator,this.timeout=c.timeout,this.loadScripts=c.loadScripts,this.transaction=null,this.autoRefreshProcId=null,this.refreshDelegate=this.refresh.createDelegate(this),this.updateDelegate=this.update.createDelegate(this),this.formUpdateDelegate=this.formUpdate.createDelegate(this),this.successDelegate=this.processSuccess.createDelegate(this),this.failureDelegate=this.processFailure.createDelegate(this),this.renderer||(this.renderer=new Ext.UpdateManager.BasicRenderer),Ext.UpdateManager.superclass.constructor.call(this)},Ext.extend(Ext.UpdateManager,Ext.util.Observable,{getEl:function(){return this.el},update:function(a,b,c,d){if(this.fireEvent("beforeupdate",this.el,a,b)!==!1){var e,f=this.method;"object"==typeof a&&(e=a,a=e.url,b=b||e.params,c=c||e.callback,d=d||e.discardUrl,c&&e.scope&&(c=c.createDelegate(e.scope)),"undefined"!=typeof e.method&&(f=e.method),"undefined"!=typeof e.nocache&&(this.disableCaching=e.nocache),"undefined"!=typeof e.text&&(this.indicatorText='<div class="loading-indicator">'+e.text+"</div>"),"undefined"!=typeof e.scripts&&(this.loadScripts=e.scripts),"undefined"!=typeof e.timeout&&(this.timeout=e.timeout)),this.showLoading(),d||(this.defaultUrl=a),"function"==typeof a&&(a=a.call(this)),f=f||(b?"POST":"GET"),"GET"==f&&(a=this.prepareUrl(a));var g=Ext.apply(e||{},{url:a,params:b,success:this.successDelegate,failure:this.failureDelegate,callback:void 0,timeout:1e3*this.timeout,argument:{url:a,form:null,callback:c,params:b}});this.transaction=Ext.Ajax.request(g)}},formUpdate:function(a,b,c,d){this.fireEvent("beforeupdate",this.el,a,b)!==!1&&("function"==typeof b&&(b=b.call(this)),a=Ext.getDom(a),this.transaction=Ext.Ajax.request({form:a,url:b,success:this.successDelegate,failure:this.failureDelegate,timeout:1e3*this.timeout,argument:{url:b,form:a,callback:d,reset:c}}),this.showLoading.defer(1,this))},refresh:function(a){null!=this.defaultUrl&&this.update(this.defaultUrl,null,a,!0)},startAutoRefresh:function(a,b,c,d,e){e&&this.update(b||this.defaultUrl,c,d,!0),this.autoRefreshProcId&&clearInterval(this.autoRefreshProcId),this.autoRefreshProcId=setInterval(this.update.createDelegate(this,[b||this.defaultUrl,c,d,!0]),1e3*a)},stopAutoRefresh:function(){this.autoRefreshProcId&&(clearInterval(this.autoRefreshProcId),delete this.autoRefreshProcId)},isAutoRefreshing:function(){return this.autoRefreshProcId?!0:!1},showLoading:function(){this.showLoadIndicator&&this.el.update(this.indicatorText)},prepareUrl:function(a){if(this.disableCaching){var b="_dc="+(new Date).getTime();a+=-1!==a.indexOf("?")?"&"+b:"?"+b}return a},processSuccess:function(a){if(this.transaction=null,a.argument.form&&a.argument.reset)try{a.argument.form.reset()}catch(b){}this.loadScripts?this.renderer.render(this.el,a,this,this.updateComplete.createDelegate(this,[a])):(this.renderer.render(this.el,a,this),this.updateComplete(a))},updateComplete:function(a){this.fireEvent("update",this.el,a),"function"==typeof a.argument.callback&&a.argument.callback(this.el,!0,a)},processFailure:function(a){this.transaction=null,this.fireEvent("failure",this.el,a),"function"==typeof a.argument.callback&&a.argument.callback(this.el,!1,a)},setRenderer:function(a){this.renderer=a},getRenderer:function(){return this.renderer},setDefaultUrl:function(a){this.defaultUrl=a},abort:function(){this.transaction&&Ext.Ajax.abort(this.transaction)},isUpdating:function(){return this.transaction?Ext.Ajax.isLoading(this.transaction):!1}}),Ext.UpdateManager.defaults={timeout:30,loadScripts:!1,sslBlankUrl:Ext.SSL_SECURE_URL||"javascript:false",disableCaching:!1,showLoadIndicator:!0,indicatorText:'<div class="loading-indicator">Loading...</div>'},Ext.UpdateManager.updateElement=function(a,b,c,d){var e=Ext.get(a,!0).getUpdateManager();Ext.apply(e,d),e.update(b,c,d?d.callback:null)},Ext.UpdateManager.update=Ext.UpdateManager.updateElement,Ext.UpdateManager.BasicRenderer=function(){},Ext.UpdateManager.BasicRenderer.prototype={render:function(a,b,c,d){a.update(b.responseText,c.loadScripts,d)}},Date.parseFunctions={count:0},Date.parseRegexes=[],Date.formatFunctions={count:0},Date.prototype.dateFormat=function(a){null==Date.formatFunctions[a]&&Date.createNewFormat(a);var b=Date.formatFunctions[a];return this[b]()},Date.prototype.format=Date.prototype.dateFormat,Date.createNewFormat=function(format){var funcName="format"+Date.formatFunctions.count++;Date.formatFunctions[format]=funcName;for(var code="Date.prototype."+funcName+" = function(){return ",special=!1,ch="",i=0;i<format.length;++i)ch=format.charAt(i),special||"\\"!=ch?special?(special=!1,code+="'"+String.escape(ch)+"' + "):code+=Date.getFormatCode(ch):special=!0;eval(code.substring(0,code.length-3)+";}")},Date.getFormatCode=function(a){switch(a){case"d":return"String.leftPad(this.getDate(), 2, '0') + ";case"D":return"Date.dayNames[this.getDay()].substring(0, 3) + ";case"j":return"this.getDate() + ";case"l":return"Date.dayNames[this.getDay()] + ";case"S":return"this.getSuffix() + ";case"w":return"this.getDay() + ";case"z":return"this.getDayOfYear() + ";case"W":return"this.getWeekOfYear() + ";case"F":return"Date.monthNames[this.getMonth()] + ";case"m":return"String.leftPad(this.getMonth() + 1, 2, '0') + ";case"M":return"Date.monthNames[this.getMonth()].substring(0, 3) + ";case"n":return"(this.getMonth() + 1) + ";case"t":return"this.getDaysInMonth() + ";case"L":return"(this.isLeapYear() ? 1 : 0) + ";case"Y":return"this.getFullYear() + ";case"y":return"('' + this.getFullYear()).substring(2, 4) + ";case"a":return"(this.getHours() < 12 ? 'am' : 'pm') + ";case"A":return"(this.getHours() < 12 ? 'AM' : 'PM') + ";case"g":return"((this.getHours() % 12) ? this.getHours() % 12 : 12) + ";case"G":return"this.getHours() + ";case"h":return"String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0') + ";case"H":return"String.leftPad(this.getHours(), 2, '0') + ";case"i":return"String.leftPad(this.getMinutes(), 2, '0') + ";case"s":return"String.leftPad(this.getSeconds(), 2, '0') + ";case"O":return"this.getGMTOffset() + ";case"T":return"this.getTimezone() + ";case"Z":return"(this.getTimezoneOffset() * -60) + ";default:return"'"+String.escape(a)+"' + "}},Date.parseDate=function(a,b){null==Date.parseFunctions[b]&&Date.createParser(b);var c=Date.parseFunctions[b];return Date[c](a)},Date.createParser=function(format){var funcName="parse"+Date.parseFunctions.count++,regexNum=Date.parseRegexes.length,currentGroup=1;Date.parseFunctions[format]=funcName;for(var code="Date."+funcName+" = function(input){\nvar y = -1, m = -1, d = -1, h = -1, i = -1, s = -1, o, z, v;\nvar d = new Date();\ny = d.getFullYear();\nm = d.getMonth();\nd = d.getDate();\nvar results = input.match(Date.parseRegexes["+regexNum+"]);\nif (results && results.length > 0) {",regex="",special=!1,ch="",i=0;i<format.length;++i)if(ch=format.charAt(i),special||"\\"!=ch)if(special)special=!1,regex+=String.escape(ch);else{var obj=Date.formatCodeToRegex(ch,currentGroup);currentGroup+=obj.g,regex+=obj.s,obj.g&&obj.c&&(code+=obj.c)}else special=!0;code+="if (y >= 0 && m >= 0 && d > 0 && h >= 0 && i >= 0 && s >= 0)\n{v = new Date(y, m, d, h, i, s);}\nelse if (y >= 0 && m >= 0 && d > 0 && h >= 0 && i >= 0)\n{v = new Date(y, m, d, h, i);}\nelse if (y >= 0 && m >= 0 && d > 0 && h >= 0)\n{v = new Date(y, m, d, h);}\nelse if (y >= 0 && m >= 0 && d > 0)\n{v = new Date(y, m, d);}\nelse if (y >= 0 && m >= 0)\n{v = new Date(y, m);}\nelse if (y >= 0)\n{v = new Date(y);}\n}return (v && (z || o))?\n    ((z)? v.add(Date.SECOND, (v.getTimezoneOffset() * 60) + (z*1)) :\n        v.add(Date.HOUR, (v.getGMTOffset() / 100) + (o / -100))) : v\n;}",Date.parseRegexes[regexNum]=new RegExp("^"+regex+"$"),eval(code)},Date.formatCodeToRegex=function(a,b){switch(a){case"D":return{g:0,c:null,s:"(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)"};case"j":return{g:1,c:"d = parseInt(results["+b+"], 10);\n",s:"(\\d{1,2})"};case"d":return{g:1,c:"d = parseInt(results["+b+"], 10);\n",s:"(\\d{2})"};case"l":return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"};case"S":return{g:0,c:null,s:"(?:st|nd|rd|th)"};case"w":return{g:0,c:null,s:"\\d"};case"z":return{g:0,c:null,s:"(?:\\d{1,3})"};case"W":return{g:0,c:null,s:"(?:\\d{2})"};case"F":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+b+"].substring(0, 3)], 10);\n",s:"("+Date.monthNames.join("|")+")"};case"M":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+b+"]], 10);\n",s:"(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)"};case"n":return{g:1,c:"m = parseInt(results["+b+"], 10) - 1;\n",s:"(\\d{1,2})"};case"m":return{g:1,c:"m = parseInt(results["+b+"], 10) - 1;\n",s:"(\\d{2})"};case"t":return{g:0,c:null,s:"\\d{1,2}"};case"L":return{g:0,c:null,s:"(?:1|0)"};case"Y":return{g:1,c:"y = parseInt(results["+b+"], 10);\n",s:"(\\d{4})"};case"y":return{g:1,c:"var ty = parseInt(results["+b+"], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"};case"a":return{g:1,c:"if (results["+b+"] == 'am') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(am|pm)"};case"A":return{g:1,c:"if (results["+b+"] == 'AM') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(AM|PM)"};case"g":case"G":return{g:1,c:"h = parseInt(results["+b+"], 10);\n",s:"(\\d{1,2})"};case"h":case"H":return{g:1,c:"h = parseInt(results["+b+"], 10);\n",s:"(\\d{2})"};case"i":return{g:1,c:"i = parseInt(results["+b+"], 10);\n",s:"(\\d{2})"};case"s":return{g:1,c:"s = parseInt(results["+b+"], 10);\n",s:"(\\d{2})"};case"O":return{g:1,c:["o = results[",b,"];\n","var sn = o.substring(0,1);\n","var hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60);\n","var mn = o.substring(3,5) % 60;\n","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))?\n","    (sn + String.leftPad(hr, 2, 0) + String.leftPad(mn, 2, 0)) : null;\n"].join(""),s:"([+-]\\d{4})"};case"T":return{g:0,c:null,s:"[A-Z]{1,4}"};case"Z":return{g:1,c:"z = results["+b+"];\nz = (-43200 <= z*1 && z*1 <= 50400)? z : null;\n",s:"([+-]?\\d{1,5})"};default:return{g:0,c:null,s:String.escape(a)}}},Date.prototype.getTimezone=function(){return this.toString().replace(/^.*? ([A-Z]{1,4})[\-+][0-9]{4} .*$/,"$1")},Date.prototype.getGMTOffset=function(){return(this.getTimezoneOffset()>0?"-":"+")+String.leftPad(Math.abs(Math.floor(this.getTimezoneOffset()/60)),2,"0")+String.leftPad(this.getTimezoneOffset()%60,2,"0")},Date.prototype.getDayOfYear=function(){var a=0;Date.daysInMonth[1]=this.isLeapYear()?29:28;for(var b=0;b<this.getMonth();++b)a+=Date.daysInMonth[b];return a+this.getDate()-1},Date.prototype.getWeekOfYear=function(){var a=this.getDayOfYear()+(4-this.getDay()),b=new Date(this.getFullYear(),0,1),c=7-b.getDay()+4;return String.leftPad((a-c)/7+1,2,"0")},Date.prototype.isLeapYear=function(){var a=this.getFullYear();return 0==(3&a)&&(a%100||a%400==0&&a)},Date.prototype.getFirstDayOfMonth=function(){var a=(this.getDay()-(this.getDate()-1))%7;return 0>a?a+7:a},Date.prototype.getLastDayOfMonth=function(){var a=(this.getDay()+(Date.daysInMonth[this.getMonth()]-this.getDate()))%7;return 0>a?a+7:a},Date.prototype.getFirstDateOfMonth=function(){return new Date(this.getFullYear(),this.getMonth(),1)},Date.prototype.getLastDateOfMonth=function(){return new Date(this.getFullYear(),this.getMonth(),this.getDaysInMonth())},Date.prototype.getDaysInMonth=function(){return Date.daysInMonth[1]=this.isLeapYear()?29:28,Date.daysInMonth[this.getMonth()]},Date.prototype.getSuffix=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},Date.daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31],Date.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],Date.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Date.y2kYear=50,Date.monthNumbers={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},Date.prototype.clone=function(){return new Date(this.getTime())},Date.prototype.clearTime=function(a){return a?this.clone().clearTime():(this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.setMilliseconds(0),this)},Ext.isSafari&&(Date.brokenSetMonth=Date.prototype.setMonth,Date.prototype.setMonth=function(a){if(-1>=a){var b=Math.ceil(-a),c=Math.ceil(b/12),d=b%12?12-b%12:0;return this.setFullYear(this.getFullYear()-c),Date.brokenSetMonth.call(this,d)}return Date.brokenSetMonth.apply(this,arguments)}),Date.MILLI="ms",Date.SECOND="s",Date.MINUTE="mi",Date.HOUR="h",Date.DAY="d",Date.MONTH="mo",Date.YEAR="y",Date.prototype.add=function(a,b){var c=this.clone();if(!a||0===b)return c;switch(a.toLowerCase()){case Date.MILLI:c.setMilliseconds(this.getMilliseconds()+b);break;case Date.SECOND:c.setSeconds(this.getSeconds()+b);break;case Date.MINUTE:c.setMinutes(this.getMinutes()+b);break;case Date.HOUR:c.setHours(this.getHours()+b);break;case Date.DAY:c.setDate(this.getDate()+b);break;case Date.MONTH:var d=this.getDate();d>28&&(d=Math.min(d,this.getFirstDateOfMonth().add("mo",b).getLastDateOfMonth().getDate())),c.setDate(d),c.setMonth(this.getMonth()+b);break;case Date.YEAR:c.setFullYear(this.getFullYear()+b)}return c},Ext.util.DelayedTask=function(a,b,c){var d,e,f=null,g=function(){var g=(new Date).getTime();g-e>=d&&(clearInterval(f),f=null,a.apply(b,c||[]))};this.delay=function(h,i,j,k){f&&h!=d&&this.cancel(),d=h,e=(new Date).getTime(),a=i||a,b=j||b,c=k||c,f||(f=setInterval(g,d))},this.cancel=function(){f&&(clearInterval(f),f=null)}},Ext.util.TaskRunner=function(a){a=a||10;var b=[],c=[],d=0,e=!1,f=function(){e=!1,clearInterval(d),d=0},g=function(){e||(e=!0,d=setInterval(i,a))},h=function(a){c.push(a),a.onStop&&a.onStop()},i=function(){if(c.length>0){for(var a=0,d=c.length;d>a;a++)b.remove(c[a]);if(c=[],b.length<1)return void f()}for(var e=(new Date).getTime(),a=0,d=b.length;d>a;++a){var g=b[a],i=e-g.taskRunTime;if(g.interval<=i){var j=g.run.apply(g.scope||g,g.args||[++g.taskRunCount]);if(g.taskRunTime=e,j===!1||g.taskRunCount===g.repeat)return void h(g)}g.duration&&g.duration<=e-g.taskStartTime&&h(g)}};this.start=function(a){return b.push(a),a.taskStartTime=(new Date).getTime(),a.taskRunTime=0,a.taskRunCount=0,g(),a},this.stop=function(a){return h(a),a},this.stopAll=function(){f();for(var a=0,d=b.length;d>a;a++)b[a].onStop&&b[a].onStop();b=[],c=[]}},Ext.TaskMgr=new Ext.util.TaskRunner,Ext.util.MixedCollection=function(a,b){this.items=[],this.map={},this.keys=[],this.length=0,this.addEvents({clear:!0,add:!0,replace:!0,remove:!0,sort:!0}),this.allowFunctions=a===!0,b&&(this.getKey=b),Ext.util.MixedCollection.superclass.constructor.call(this)},Ext.extend(Ext.util.MixedCollection,Ext.util.Observable,{allowFunctions:!1,add:function(a,b){if(1==arguments.length&&(b=arguments[0],a=this.getKey(b)),"undefined"==typeof a||null===a)this.length++,this.items.push(b),this.keys.push(null);else{var c=this.map[a];if(c)return this.replace(a,b);this.length++,this.items.push(b),this.map[a]=b,this.keys.push(a)}return this.fireEvent("add",this.length-1,b,a),b},getKey:function(a){return a.id},replace:function(a,b){1==arguments.length&&(b=arguments[0],a=this.getKey(b));var c=this.item(a);if("undefined"==typeof a||null===a||"undefined"==typeof c)return this.add(a,b);var d=this.indexOfKey(a);return this.items[d]=b,this.map[a]=b,this.fireEvent("replace",a,c,b),b},addAll:function(a){if(arguments.length>1||a instanceof Array)for(var b=arguments.length>1?arguments:a,c=0,d=b.length;d>c;c++)this.add(b[c]);else for(var e in a)(this.allowFunctions||"function"!=typeof a[e])&&this.add(e,a[e])},each:function(a,b){for(var c=[].concat(this.items),d=0,e=c.length;e>d&&a.call(b||c[d],c[d],d,e)!==!1;d++);},eachKey:function(a,b){for(var c=0,d=this.keys.length;d>c;c++)a.call(b||window,this.keys[c],this.items[c],c,d)},find:function(a,b){for(var c=0,d=this.items.length;d>c;c++)if(a.call(b||window,this.items[c],this.keys[c]))return this.items[c];return null},insert:function(a,b,c){return 2==arguments.length&&(c=arguments[1],b=this.getKey(c)),a>=this.length?this.add(b,c):(this.length++,this.items.splice(a,0,c),"undefined"!=typeof b&&null!=b&&(this.map[b]=c),this.keys.splice(a,0,b),this.fireEvent("add",a,c,b),c)},remove:function(a){return this.removeAt(this.indexOf(a))},removeAt:function(a){if(a<this.length&&a>=0){this.length--;var b=this.items[a];this.items.splice(a,1);var c=this.keys[a];"undefined"!=typeof c&&delete this.map[c],this.keys.splice(a,1),this.fireEvent("remove",b,c)}},removeKey:function(a){return this.removeAt(this.indexOfKey(a))},getCount:function(){return this.length},indexOf:function(a){if(this.items.indexOf)return this.items.indexOf(a);for(var b=0,c=this.items.length;c>b;b++)if(this.items[b]==a)return b;return-1},indexOfKey:function(a){if(this.keys.indexOf)return this.keys.indexOf(a);for(var b=0,c=this.keys.length;c>b;b++)if(this.keys[b]==a)return b;return-1},item:function(a){var b="undefined"!=typeof this.map[a]?this.map[a]:this.items[a];return"function"!=typeof b||this.allowFunctions?b:null},itemAt:function(a){return this.items[a]},key:function(a){return this.map[a]},contains:function(a){return-1!=this.indexOf(a)},containsKey:function(a){return"undefined"!=typeof this.map[a]},clear:function(){this.length=0,this.items=[],this.keys=[],this.map={},this.fireEvent("clear")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},_sort:function(a,b,c){var d="DESC"==String(b).toUpperCase()?-1:1;c=c||function(a,b){return a-b};for(var e=[],f=this.keys,g=this.items,h=0,i=g.length;i>h;h++)e[e.length]={key:f[h],value:g[h],index:h};e.sort(function(b,e){var f=c(b[a],e[a])*d;return 0==f&&(f=b.index<e.index?-1:1),f});for(var h=0,i=e.length;i>h;h++)g[h]=e[h].value,f[h]=e[h].key;this.fireEvent("sort",this)},sort:function(a,b){this._sort("value",a,b)},keySort:function(a,b){this._sort("key",a,b||function(a,b){return String(a).toUpperCase()-String(b).toUpperCase()})},getRange:function(a,b){var c=this.items;if(c.length<1)return[];a=a||0,b=Math.min("undefined"==typeof b?this.length-1:b,this.length-1);var d=[];if(b>=a)for(var e=a;b>=e;e++)d[d.length]=c[e];else for(var e=a;e>=b;e--)d[d.length]=c[e];return d},filter:function(a,b){if(!b.exec){if(b=String(b),0==b.length)return this.clone();b=new RegExp("^"+Ext.escapeRe(b),"i")}return this.filterBy(function(c){return c&&b.test(c[a])})},filterBy:function(a,b){var c=new Ext.util.MixedCollection;c.getKey=this.getKey;for(var d=this.keys,e=this.items,f=0,g=e.length;g>f;f++)a.call(b||this,e[f],d[f])&&c.add(d[f],e[f]);return c},clone:function(){for(var a=new Ext.util.MixedCollection,b=this.keys,c=this.items,d=0,e=c.length;e>d;d++)a.add(b[d],c[d]);return a.getKey=this.getKey,a}}),Ext.util.MixedCollection.prototype.get=Ext.util.MixedCollection.prototype.item,Ext.util.JSON=new function(){var useHasOwn={}.hasOwnProperty?!0:!1,pad=function(a){return 10>a?"0"+a:a},m={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},encodeString=function(a){return/["\\\x00-\x1f]/.test(a)?'"'+a.replace(/([\x00-\x1f\\"])/g,function(a,b){var c=m[b];return c?c:(c=b.charCodeAt(),"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16))})+'"':'"'+a+'"'},encodeArray=function(a){var b,c,d,e=["["],f=a.length;for(c=0;f>c;c+=1)switch(d=a[c],typeof d){case"undefined":case"function":case"unknown":break;default:b&&e.push(","),e.push(null===d?"null":Ext.util.JSON.encode(d)),b=!0}return e.push("]"),e.join("")},encodeDate=function(a){return'"'+a.getFullYear()+"-"+pad(a.getMonth()+1)+"-"+pad(a.getDate())+"T"+pad(a.getHours())+":"+pad(a.getMinutes())+":"+pad(a.getSeconds())+'"'};this.encode=function(a){if("undefined"==typeof a||null===a)return"null";if(a instanceof Array)return encodeArray(a);if(a instanceof Date)return encodeDate(a);if("string"==typeof a)return encodeString(a);if("number"==typeof a)return isFinite(a)?String(a):"null";if("boolean"==typeof a)return String(a);var b,c,d,e=["{"];for(c in a)if(!useHasOwn||a.hasOwnProperty(c))switch(d=a[c],typeof d){case"undefined":case"function":case"unknown":break;default:b&&e.push(","),e.push(this.encode(c),":",null===d?"null":this.encode(d)),b=!0}return e.push("}"),e.join("")},this.decode=function(json){return eval("("+json+")")}},Ext.encode=Ext.util.JSON.encode,Ext.decode=Ext.util.JSON.decode,Ext.util.Format=function(){var trimRe=/^\s+|\s+$/g;return{ellipsis:function(a,b){return a&&a.length>b?a.substr(0,b-3)+"...":a},undef:function(a){return"undefined"!=typeof a?a:""},htmlEncode:function(a){return a?String(a).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;"):a},htmlDecode:function(a){return a?String(a).replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"'):a},trim:function(a){return String(a).replace(trimRe,"")},substr:function(a,b,c){return String(a).substr(b,c)},lowercase:function(a){return String(a).toLowerCase()},uppercase:function(a){return String(a).toUpperCase()},capitalize:function(a){return a?a.charAt(0).toUpperCase()+a.substr(1).toLowerCase():a},call:function(value,fn){if(arguments.length>2){var args=Array.prototype.slice.call(arguments,2);return args.unshift(value),eval(fn).apply(window,args)}return eval(fn).call(window,value)},usMoney:function(a){a=Math.round(100*(a-0))/100,a=a==Math.floor(a)?a+".00":10*a==Math.floor(10*a)?a+"0":a,a=String(a);for(var b=a.split("."),c=b[0],d=b[1]?"."+b[1]:".00",e=/(\d+)(\d{3})/;e.test(c);)c=c.replace(e,"$1,$2");return"$"+c+d},date:function(a,b){return a?(a instanceof Date||(a=new Date(Date.parse(a))),a.dateFormat(b||"m/d/Y")):""},dateRenderer:function(a){return function(b){return Ext.util.Format.date(b,a)}},stripTagsRE:/<\/?[^>]+>/gi,stripTags:function(a){return a?String(a).replace(this.stripTagsRE,""):a}}}(),Ext.MasterTemplate=function(){Ext.MasterTemplate.superclass.constructor.apply(this,arguments),this.originalHtml=this.html;var a,b={},c=this.subTemplateRe;c.lastIndex=0;for(var d=0;a=c.exec(this.html);){var e=a[1],f=a[2];b[d]={name:e,index:d,buffer:[],tpl:new Ext.Template(f)},e&&(b[e]=b[d]),b[d].tpl.compile(),b[d].tpl.call=this.call.createDelegate(this),d++}this.subCount=d,this.subs=b},Ext.extend(Ext.MasterTemplate,Ext.Template,{subTemplateRe:/<tpl(?:\sname="([\w-]+)")?>((?:.|\n)*?)<\/tpl>/gi,add:function(a,b){1==arguments.length&&(b=arguments[0],a=0);var c=this.subs[a];return c.buffer[c.buffer.length]=c.tpl.apply(b),this},fill:function(a,b,c){var d=arguments;(1==d.length||2==d.length&&"boolean"==typeof d[1])&&(b=d[0],a=0,c=d[1]),c&&this.reset();for(var e=0,f=b.length;f>e;e++)this.add(a,b[e]);return this},reset:function(){for(var a=this.subs,b=0;b<this.subCount;b++)a[b].buffer=[];return this},applyTemplate:function(a){var b=this.subs,c=-1;return this.html=this.originalHtml.replace(this.subTemplateRe,function(a,d){return b[++c].buffer.join("")}),Ext.MasterTemplate.superclass.applyTemplate.call(this,a)},apply:function(){return this.applyTemplate.apply(this,arguments)},compile:function(){return this}}),Ext.MasterTemplate.prototype.addAll=Ext.MasterTemplate.prototype.fill,Ext.MasterTemplate.from=function(a,b){return a=Ext.getDom(a),new Ext.MasterTemplate(a.value||a.innerHTML,b||"")},Ext.XTemplate=function(){Ext.XTemplate.superclass.constructor.apply(this,arguments);var a=this.html;a=["<tpl>",a,"</tpl>"].join("");
for(var b,c=/<tpl\b[^>]*>((?:(?=([^<]+))\2|<(?!tpl\b[^>]*>))*?)<\/tpl>/,d=/^<tpl\b[^>]*?for="(.*?)"/,e=/^<tpl\b[^>]*?if="(.*?)"/,f=/^<tpl\b[^>]*?exec="(.*?)"/,g=0,h=[];b=a.match(c);){var i=b[0].match(d),j=b[0].match(e),k=b[0].match(f),l=null,m=null,n=null,o=i&&i[1]?i[1]:"";if(j&&(l=j&&j[1]?j[1]:null,l&&(m=new Function("values","parent","with(values){ return "+Ext.util.Format.htmlDecode(l)+"; }"))),k&&(l=k&&k[1]?k[1]:null,l&&(n=new Function("values","parent","with(values){ "+Ext.util.Format.htmlDecode(l)+"; }"))),o)switch(o){case".":o=new Function("values","parent","with(values){ return values; }");break;case"..":o=new Function("values","parent","with(values){ return parent; }");break;default:o=new Function("values","parent","with(values){ return "+o+"; }")}h.push({id:g,target:o,exec:n,test:m,body:b[1]||""}),a=a.replace(b[0],"{xtpl"+g+"}"),++g}for(var p=h.length-1;p>=0;--p)this.compileTpl(h[p]);this.master=h[h.length-1],this.tpls=h},Ext.extend(Ext.XTemplate,Ext.Template,{re:/\{([\w-\.]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,applySubTemplate:function(a,b,c){var d=this.tpls[a];if(d.test&&!d.test.call(this,b,c))return"";if(d.exec&&d.exec.call(this,b,c))return"";var e=d.target?d.target.call(this,b,c):b;if(c=d.target?b:c,d.target&&e instanceof Array){for(var f=[],g=0,h=e.length;h>g;g++)f[f.length]=d.compiled.call(this,e[g],c);return f.join("")}return d.compiled.call(this,e,c)},compileTpl:function(tpl){var fm=Ext.util.Format,useF=this.disableFormats!==!0,sep=Ext.isGecko?"+":",",fn=function(a,b,c,d){if("xtpl"==b.substr(0,4))return"'"+sep+"this.applySubTemplate("+b.substr(4)+", values, parent)"+sep+"'";var e;return e=-1!=b.indexOf(".")?b:"values['"+b+"']",c&&useF?(d=d?","+d:"","this."!=c.substr(0,5)?c="fm."+c+"(":(c='this.call("'+c.substr(5)+'", ',d=", values")):(d="",c="("+e+" === undefined ? '' : "),"'"+sep+c+e+d+")"+sep+"'"},body;return Ext.isGecko?body="tpl.compiled = function(values, parent){ return '"+tpl.body.replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn)+"';};":(body=["tpl.compiled = function(values, parent){ return ['"],body.push(tpl.body.replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn)),body.push("'].join('');};"),body=body.join("")),eval(body),this},applyTemplate:function(a){return this.master.compiled.call(this,a,{})},apply:function(){return this.applyTemplate.apply(this,arguments)},compile:function(){return this}}),Ext.XTemplate.from=function(a){return a=Ext.getDom(a),new Ext.XTemplate(a.value||a.innerHTML)},Ext.util.CSS=function(){var a=null,b=document,c=/(-[a-z])/gi,d=function(a,b){return b.charAt(1).toUpperCase()};return{createStyleSheet:function(a,c){var d,e=b.getElementsByTagName("head")[0],f=b.createElement("style");if(f.setAttribute("type","text/css"),c&&f.setAttribute("id",c),Ext.isIE)e.appendChild(f),d=f.styleSheet,d.cssText=a;else{try{f.appendChild(b.createTextNode(a))}catch(g){f.cssText=a}e.appendChild(f),d=f.styleSheet?f.styleSheet:f.sheet||b.styleSheets[b.styleSheets.length-1]}return this.cacheStyleSheet(d),d},removeStyleSheet:function(a){var c=b.getElementById(a);c&&c.parentNode.removeChild(c)},swapStyleSheet:function(a,c){this.removeStyleSheet(a);var d=b.createElement("link");d.setAttribute("rel","stylesheet"),d.setAttribute("type","text/css"),d.setAttribute("id",a),d.setAttribute("href",c),b.getElementsByTagName("head")[0].appendChild(d)},refreshCache:function(){return this.getRules(!0)},cacheStyleSheet:function(b){a||(a={});try{for(var c=b.cssRules||b.rules,d=c.length-1;d>=0;--d)a[c[d].selectorText]=c[d]}catch(e){}},getRules:function(c){if(null==a||c){a={};for(var d=b.styleSheets,e=0,f=d.length;f>e;e++)try{this.cacheStyleSheet(d[e])}catch(g){}}return a},getRule:function(a,b){var c=this.getRules(b);if(!(a instanceof Array))return c[a];for(var d=0;d<a.length;d++)if(c[a[d]])return c[a[d]];return null},updateRule:function(a,b,e){if(a instanceof Array){for(var f=0;f<a.length;f++)if(this.updateRule(a[f],b,e))return!0}else{var g=this.getRule(a);if(g)return g.style[b.replace(c,d)]=e,!0}return!1}}}(),Ext.util.ClickRepeater=function(a,b){this.el=Ext.get(a),this.el.unselectable(),Ext.apply(this,b),this.addEvents({mousedown:!0,click:!0,mouseup:!0}),this.el.on("mousedown",this.handleMouseDown,this),(this.preventDefault||this.stopDefault)&&this.el.on("click",function(a){this.preventDefault&&a.preventDefault(),this.stopDefault&&a.stopEvent()},this),this.handler&&this.on("click",this.handler,this.scope||this),Ext.util.ClickRepeater.superclass.constructor.call(this)},Ext.extend(Ext.util.ClickRepeater,Ext.util.Observable,{interval:20,delay:250,preventDefault:!0,stopDefault:!1,timer:0,handleMouseDown:function(){clearTimeout(this.timer),this.el.blur(),this.pressClass&&this.el.addClass(this.pressClass),this.mousedownTime=new Date,Ext.get(document).on("mouseup",this.handleMouseUp,this),this.el.on("mouseout",this.handleMouseOut,this),this.fireEvent("mousedown",this),this.fireEvent("click",this),this.timer=this.click.defer(this.delay||this.interval,this)},click:function(){this.fireEvent("click",this),this.timer=this.click.defer(this.getInterval(),this)},getInterval:function(){if(!this.accelerate)return this.interval;var a=this.mousedownTime.getElapsed();return 500>a?400:1700>a?320:2600>a?250:3500>a?180:4400>a?140:5300>a?80:6200>a?50:10},handleMouseOut:function(){clearTimeout(this.timer),this.pressClass&&this.el.removeClass(this.pressClass),this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(){this.el.un("mouseover",this.handleMouseReturn),this.pressClass&&this.el.addClass(this.pressClass),this.click()},handleMouseUp:function(){clearTimeout(this.timer),this.el.un("mouseover",this.handleMouseReturn),this.el.un("mouseout",this.handleMouseOut),Ext.get(document).un("mouseup",this.handleMouseUp),this.el.removeClass(this.pressClass),this.fireEvent("mouseup",this)}}),Ext.KeyNav=function(a,b){this.el=Ext.get(a),Ext.apply(this,b),this.disabled||(this.disabled=!0,this.enable())},Ext.KeyNav.prototype={disabled:!1,defaultEventAction:"stopEvent",forceKeyDown:!1,prepareEvent:function(a){var b=a.getKey(),c=this.keyToHandler[b];Ext.isSafari&&c&&b>=37&&40>=b&&a.stopEvent()},relay:function(a){var b=a.getKey(),c=this.keyToHandler[b];c&&this[c]&&this.doRelay(a,this[c],c)!==!0&&a[this.defaultEventAction]()},doRelay:function(a,b,c){return b.call(this.scope||this,a)},enter:!1,left:!1,right:!1,up:!1,down:!1,tab:!1,esc:!1,pageUp:!1,pageDown:!1,del:!1,home:!1,end:!1,keyToHandler:{37:"left",39:"right",38:"up",40:"down",33:"pageUp",34:"pageDown",46:"del",36:"home",35:"end",13:"enter",27:"esc",9:"tab"},enable:function(){this.disabled&&(this.forceKeyDown||Ext.isIE||Ext.isAir?this.el.on("keydown",this.relay,this):(this.el.on("keydown",this.prepareEvent,this),this.el.on("keypress",this.relay,this)),this.disabled=!1)},disable:function(){this.disabled||(this.forceKeyDown||Ext.isIE||Ext.isAir?this.el.un("keydown",this.relay):(this.el.un("keydown",this.prepareEvent),this.el.un("keypress",this.relay)),this.disabled=!0)}},Ext.KeyMap=function(a,b,c){this.el=Ext.get(a),this.eventName=c||"keydown",this.bindings=[],b&&this.addBinding(b),this.enable()},Ext.KeyMap.prototype={stopEvent:!1,addBinding:function(a){if(a instanceof Array)for(var b=0,c=a.length;c>b;b++)this.addBinding(a[b]);else{var d=a.key,e=a.shift,f=a.ctrl,g=a.alt,h=a.fn,i=a.scope;if("string"==typeof d){for(var j=[],k=d.toUpperCase(),l=0,c=k.length;c>l;l++)j.push(k.charCodeAt(l));d=j}var m=d instanceof Array,n=function(a){if((!e||a.shiftKey)&&(!f||a.ctrlKey)&&(!g||a.altKey)){var b=a.getKey();if(m){for(var c=0,j=d.length;j>c;c++)if(d[c]==b)return this.stopEvent&&a.stopEvent(),void h.call(i||window,b,a)}else b==d&&(this.stopEvent&&a.stopEvent(),h.call(i||window,b,a))}};this.bindings.push(n)}},on:function(a,b,c){var d,e,f,g;"object"!=typeof a||a instanceof Array?d=a:(d=a.key,e=a.shift,f=a.ctrl,g=a.alt),this.addBinding({key:d,shift:e,ctrl:f,alt:g,fn:b,scope:c})},handleKeyDown:function(a){if(this.enabled)for(var b=this.bindings,c=0,d=b.length;d>c;c++)b[c].call(this,a)},isEnabled:function(){return this.enabled},enable:function(){this.enabled||(this.el.on(this.eventName,this.handleKeyDown,this),this.enabled=!0)},disable:function(){this.enabled&&(this.el.removeListener(this.eventName,this.handleKeyDown,this),this.enabled=!1)}},Ext.util.TextMetrics=function(){var a;return{measure:function(b,c,d){return a||(a=Ext.util.TextMetrics.Instance(b,d)),a.bind(b),a.setFixedWidth(d||"auto"),a.getSize(c)},createInstance:function(a,b){return Ext.util.TextMetrics.Instance(a,b)}}}(),Ext.util.TextMetrics.Instance=function(a,b){var c=new Ext.Element(document.createElement("div"));document.body.appendChild(c.dom),c.position("absolute"),c.setLeftTop(-1e3,-1e3),c.hide(),b&&c.setWidth(b);var d={getSize:function(a){c.update(a);var b=c.getSize();return c.update(""),b},bind:function(a){c.setStyle(Ext.fly(a).getStyles("font-size","font-style","font-weight","font-family","line-height"))},setFixedWidth:function(a){c.setWidth(a)},getWidth:function(a){return c.dom.style.width="auto",this.getSize(a).width},getHeight:function(a){return this.getSize(a).height}};return d.bind(a),d},Ext.Element.measureText=Ext.util.TextMetrics.measure,Ext.state.Provider=function(){this.addEvents({statechange:!0}),this.state={},Ext.state.Provider.superclass.constructor.call(this)},Ext.extend(Ext.state.Provider,Ext.util.Observable,{get:function(a,b){return"undefined"==typeof this.state[a]?b:this.state[a]},clear:function(a){delete this.state[a],this.fireEvent("statechange",this,a,null)},set:function(a,b){this.state[a]=b,this.fireEvent("statechange",this,a,b)},decodeValue:function(a){var b=/^(a|n|d|b|s|o)\:(.*)$/,c=b.exec(unescape(a));if(c&&c[1]){var d=c[1],e=c[2];switch(d){case"n":return parseFloat(e);case"d":return new Date(Date.parse(e));case"b":return"1"==e;case"a":for(var f=[],g=e.split("^"),h=0,i=g.length;i>h;h++)f.push(this.decodeValue(g[h]));return f;case"o":for(var f={},g=e.split("^"),h=0,i=g.length;i>h;h++){var j=g[h].split("=");f[j[0]]=this.decodeValue(j[1])}return f;default:return e}}},encodeValue:function(a){var b;if("number"==typeof a)b="n:"+a;else if("boolean"==typeof a)b="b:"+(a?"1":"0");else if(a instanceof Date)b="d:"+a.toGMTString();else if(a instanceof Array){for(var c="",d=0,e=a.length;e>d;d++)c+=this.encodeValue(a[d]),d!=e-1&&(c+="^");b="a:"+c}else if("object"==typeof a){var c="";for(var f in a)"function"!=typeof a[f]&&(c+=f+"="+this.encodeValue(a[f])+"^");b="o:"+c.substring(0,c.length-1)}else b="s:"+a;return escape(b)}}),Ext.state.Manager=function(){var a=new Ext.state.Provider;return{setProvider:function(b){a=b},get:function(b,c){return a.get(b,c)},set:function(b,c){a.set(b,c)},clear:function(b){a.clear(b)},getProvider:function(){return a}}}(),Ext.state.CookieProvider=function(a){Ext.state.CookieProvider.superclass.constructor.call(this),this.path="/",this.expires=new Date((new Date).getTime()+6048e5),this.domain=null,this.secure=!1,Ext.apply(this,a),this.state=this.readCookies()},Ext.extend(Ext.state.CookieProvider,Ext.state.Provider,{set:function(a,b){return"undefined"==typeof b||null===b?void this.clear(a):(this.setCookie(a,b),void Ext.state.CookieProvider.superclass.set.call(this,a,b))},clear:function(a){this.clearCookie(a),Ext.state.CookieProvider.superclass.clear.call(this,a)},readCookies:function(){for(var a,b={},c=document.cookie+";",d=/\s?(.*?)=(.*?);/g;null!=(a=d.exec(c));){var e=a[1],f=a[2];e&&"ys-"==e.substring(0,3)&&(b[e.substr(3)]=this.decodeValue(f))}return b},setCookie:function(a,b){document.cookie="ys-"+a+"="+this.encodeValue(b)+(null==this.expires?"":"; expires="+this.expires.toGMTString())+(null==this.path?"":"; path="+this.path)+(null==this.domain?"":"; domain="+this.domain)+(1==this.secure?"; secure":"")},clearCookie:function(a){document.cookie="ys-"+a+"=null; expires=Thu, 01-Jan-70 00:00:01 GMT"+(null==this.path?"":"; path="+this.path)+(null==this.domain?"":"; domain="+this.domain)+(1==this.secure?"; secure":"")}}),function(){var a=Ext.EventManager,b=Ext.lib.Dom;Ext.dd.DragDrop=function(a,b,c){a&&this.init(a,b,c)},Ext.dd.DragDrop.prototype={id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:!1,lock:function(){this.locked=!0},unlock:function(){this.locked=!1},isTarget:!0,padding:null,_domRef:null,__ygDragDrop:!0,constrainX:!1,constrainY:!1,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:!1,xTicks:null,yTicks:null,primaryButtonOnly:!0,available:!1,hasOuterHandles:!1,b4StartDrag:function(a,b){},startDrag:function(a,b){},b4Drag:function(a){},onDrag:function(a){},onDragEnter:function(a,b){},b4DragOver:function(a){},onDragOver:function(a,b){},b4DragOut:function(a){},onDragOut:function(a,b){},b4DragDrop:function(a){},onDragDrop:function(a,b){},onInvalidDrop:function(a){},b4EndDrag:function(a){},endDrag:function(a){},b4MouseDown:function(a){},onMouseDown:function(a){},onMouseUp:function(a){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(a,b,c){"number"==typeof b&&(b={left:b,right:b,top:b,bottom:b}),b=b||this.defaultPadding;var d,e=Ext.get(this.getEl()).getBox(),f=Ext.get(a),g=f.getScroll(),h=f.dom;h==document.body?d={x:g.left,y:g.top,width:Ext.lib.Dom.getViewWidth(),height:Ext.lib.Dom.getViewHeight()}:(xy=f.getXY(),d={x:xy[0]+g.left,y:xy[1]+g.top,width:h.clientWidth,height:h.clientHeight});var i=e.y-d.y,j=e.x-d.x;this.resetConstraints(),this.setXConstraint(j-(b.left||0),d.width-j-e.width-(b.right||0)),this.setYConstraint(i-(b.top||0),d.height-i-e.height-(b.bottom||0))},getEl:function(){return this._domRef||(this._domRef=Ext.getDom(this.id)),this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(b,c,d){this.initTarget(b,c,d),a.on(this.id,"mousedown",this.handleMouseDown,this)},initTarget:function(a,b,c){this.config=c||{},this.DDM=Ext.dd.DDM,this.groups={},"string"!=typeof a&&(a=Ext.id(a)),this.id=a,this.addToGroup(b?b:"default"),this.handleElId=a,this.setDragElId(a),this.invalidHandleTypes={A:"A"},this.invalidHandleIds={},this.invalidHandleClasses=[],this.applyConfig(),this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0],this.isTarget=this.config.isTarget!==!1,this.maintainOffset=this.config.maintainOffset,this.primaryButtonOnly=this.config.primaryButtonOnly!==!1},handleOnAvailable:function(){this.available=!0,this.resetConstraints(),this.onAvailable()},setPadding:function(a,b,c,d){b||0===b?c||0===c?this.padding=[a,b,c,d]:this.padding=[a,b,a,b]:this.padding=[a,a,a,a]},setInitPosition:function(a,c){var d=this.getEl();if(this.DDM.verifyEl(d)){var e=a||0,f=c||0,g=b.getXY(d);this.initPageX=g[0]-e,this.initPageY=g[1]-f,this.lastPageX=g[0],this.lastPageY=g[1],this.setStartPosition(g)}},setStartPosition:function(a){var c=a||b.getXY(this.getEl());this.deltaSetXY=null,this.startPageX=c[0],this.startPageY=c[1]},addToGroup:function(a){this.groups[a]=!0,this.DDM.regDragDrop(this,a)},removeFromGroup:function(a){this.groups[a]&&delete this.groups[a],this.DDM.removeDDFromGroup(this,a)},setDragElId:function(a){this.dragElId=a},setHandleElId:function(a){"string"!=typeof a&&(a=Ext.id(a)),this.handleElId=a,this.DDM.regHandle(this.id,a)},setOuterHandleElId:function(b){"string"!=typeof b&&(b=Ext.id(b)),a.on(b,"mousedown",this.handleMouseDown,this),this.setHandleElId(b),this.hasOuterHandles=!0},unreg:function(){a.un(this.id,"mousedown",this.handleMouseDown),this._domRef=null,this.DDM._remove(this)},destroy:function(){this.unreg()},isLocked:function(){return this.DDM.isLocked()||this.locked},handleMouseDown:function(a,b){if(!(this.primaryButtonOnly&&0!=a.button||this.isLocked())){this.DDM.refreshCache(this.groups);var c=new Ext.lib.Point(Ext.lib.Event.getPageX(a),Ext.lib.Event.getPageY(a));(this.hasOuterHandles||this.DDM.isOverTarget(c,this))&&this.clickValidator(a)&&(this.setStartPosition(),this.b4MouseDown(a),this.onMouseDown(a),this.DDM.handleMouseDown(a,this),this.DDM.stopEvent(a))}},clickValidator:function(a){var b=a.getTarget();return this.isValidHandleChild(b)&&(this.id==this.handleElId||this.DDM.handleWasClicked(b,this.id))},addInvalidHandleType:function(a){var b=a.toUpperCase();this.invalidHandleTypes[b]=b},addInvalidHandleId:function(a){"string"!=typeof a&&(a=Ext.id(a)),this.invalidHandleIds[a]=a},addInvalidHandleClass:function(a){this.invalidHandleClasses.push(a)},removeInvalidHandleType:function(a){var b=a.toUpperCase();delete this.invalidHandleTypes[b]},removeInvalidHandleId:function(a){"string"!=typeof a&&(a=Ext.id(a)),delete this.invalidHandleIds[a]},removeInvalidHandleClass:function(a){for(var b=0,c=this.invalidHandleClasses.length;c>b;++b)this.invalidHandleClasses[b]==a&&delete this.invalidHandleClasses[b]},isValidHandleChild:function(a){var c,d=!0;try{c=a.nodeName.toUpperCase()}catch(e){c=a.nodeName}d=d&&!this.invalidHandleTypes[c],d=d&&!this.invalidHandleIds[a.id];for(var f=0,g=this.invalidHandleClasses.length;d&&g>f;++f)d=!b.hasClass(a,this.invalidHandleClasses[f]);return d},setXTicks:function(a,b){this.xTicks=[],this.xTickSize=b;for(var c={},d=this.initPageX;d>=this.minX;d-=b)c[d]||(this.xTicks[this.xTicks.length]=d,c[d]=!0);for(d=this.initPageX;d<=this.maxX;d+=b)c[d]||(this.xTicks[this.xTicks.length]=d,c[d]=!0);this.xTicks.sort(this.DDM.numericSort)},setYTicks:function(a,b){this.yTicks=[],this.yTickSize=b;for(var c={},d=this.initPageY;d>=this.minY;d-=b)c[d]||(this.yTicks[this.yTicks.length]=d,c[d]=!0);for(d=this.initPageY;d<=this.maxY;d+=b)c[d]||(this.yTicks[this.yTicks.length]=d,c[d]=!0);this.yTicks.sort(this.DDM.numericSort)},setXConstraint:function(a,b,c){this.leftConstraint=a,this.rightConstraint=b,this.minX=this.initPageX-a,this.maxX=this.initPageX+b,c&&this.setXTicks(this.initPageX,c),this.constrainX=!0},clearConstraints:function(){this.constrainX=!1,this.constrainY=!1,this.clearTicks()},clearTicks:function(){this.xTicks=null,this.yTicks=null,this.xTickSize=0,this.yTickSize=0},setYConstraint:function(a,b,c){this.topConstraint=a,this.bottomConstraint=b,this.minY=this.initPageY-a,this.maxY=this.initPageY+b,c&&this.setYTicks(this.initPageY,c),this.constrainY=!0},resetConstraints:function(){if(this.initPageX||0===this.initPageX){var a=this.maintainOffset?this.lastPageX-this.initPageX:0,b=this.maintainOffset?this.lastPageY-this.initPageY:0;this.setInitPosition(a,b)}else this.setInitPosition();this.constrainX&&this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize),this.constrainY&&this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)},getTick:function(a,b){if(b){if(b[0]>=a)return b[0];for(var c=0,d=b.length;d>c;++c){var e=c+1;if(b[e]&&b[e]>=a){var f=a-b[c],g=b[e]-a;return g>f?b[c]:b[e]}}return b[b.length-1]}return a},toString:function(){return"DragDrop "+this.id}}}(),Ext.dd.DragDropMgr||(Ext.dd.DragDropMgr=function(){var a=Ext.EventManager;return{ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:!0,stopPropagation:!0,initalized:!1,locked:!1,init:function(){this.initialized=!0},POINT:0,INTERSECT:1,mode:0,_execOnAll:function(a,b){for(var c in this.ids)for(var d in this.ids[c]){var e=this.ids[c][d];this.isTypeOfDD(e)&&e[a].apply(e,b)}},_onLoad:function(){this.init(),a.on(document,"mouseup",this.handleMouseUp,this,!0),a.on(document,"mousemove",this.handleMouseMove,this,!0),a.on(window,"unload",this._onUnload,this,!0),a.on(window,"resize",this._onResize,this,!0)},_onResize:function(a){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=!0},unlock:function(){this.locked=!1},isLocked:function(){return this.locked},locationCache:{},useCache:!0,clickPixelThresh:3,clickTimeThresh:350,dragThreshMet:!1,clickTimeout:null,startX:0,startY:0,regDragDrop:function(a,b){this.initialized||this.init(),this.ids[b]||(this.ids[b]={}),this.ids[b][a.id]=a},removeDDFromGroup:function(a,b){this.ids[b]||(this.ids[b]={});var c=this.ids[b];c&&c[a.id]&&delete c[a.id]},_remove:function(a){for(var b in a.groups)b&&this.ids[b][a.id]&&delete this.ids[b][a.id];delete this.handleIds[a.id]},regHandle:function(a,b){this.handleIds[a]||(this.handleIds[a]={}),this.handleIds[a][b]=b},isDragDrop:function(a){return this.getDDById(a)?!0:!1},getRelated:function(a,b){var c=[];for(var d in a.groups)for(j in this.ids[d]){var e=this.ids[d][j];this.isTypeOfDD(e)&&(!b||e.isTarget)&&(c[c.length]=e)}return c},isLegalTarget:function(a,b){for(var c=this.getRelated(a,!0),d=0,e=c.length;e>d;++d)if(c[d].id==b.id)return!0;return!1},isTypeOfDD:function(a){return a&&a.__ygDragDrop},isHandle:function(a,b){return this.handleIds[a]&&this.handleIds[a][b]},getDDById:function(a){for(var b in this.ids)if(this.ids[b][a])return this.ids[b][a];return null},handleMouseDown:function(a,b){Ext.QuickTips&&Ext.QuickTips.disable(),this.currentTarget=a.getTarget(),this.dragCurrent=b;var c=b.getEl();this.startX=a.getPageX(),this.startY=a.getPageY(),this.deltaX=this.startX-c.offsetLeft,this.deltaY=this.startY-c.offsetTop,this.dragThreshMet=!1,this.clickTimeout=setTimeout(function(){var a=Ext.dd.DDM;a.startDrag(a.startX,a.startY)},this.clickTimeThresh)},startDrag:function(a,b){clearTimeout(this.clickTimeout),this.dragCurrent&&(this.dragCurrent.b4StartDrag(a,b),this.dragCurrent.startDrag(a,b)),this.dragThreshMet=!0},handleMouseUp:function(a){Ext.QuickTips&&Ext.QuickTips.enable(),this.dragCurrent&&(clearTimeout(this.clickTimeout),this.dragThreshMet&&this.fireEvents(a,!0),this.stopDrag(a),this.stopEvent(a))},stopEvent:function(a){this.stopPropagation&&a.stopPropagation(),this.preventDefault&&a.preventDefault()},stopDrag:function(a){this.dragCurrent&&(this.dragThreshMet&&(this.dragCurrent.b4EndDrag(a),this.dragCurrent.endDrag(a)),this.dragCurrent.onMouseUp(a)),this.dragCurrent=null,this.dragOvers={}},handleMouseMove:function(a){if(!this.dragCurrent)return!0;if(Ext.isIE&&0!==a.button&&1!==a.button&&2!==a.button)return this.stopEvent(a),this.handleMouseUp(a);if(!this.dragThreshMet){var b=Math.abs(this.startX-a.getPageX()),c=Math.abs(this.startY-a.getPageY());(b>this.clickPixelThresh||c>this.clickPixelThresh)&&this.startDrag(this.startX,this.startY)}return this.dragThreshMet&&(this.dragCurrent.b4Drag(a),this.dragCurrent.onDrag(a),this.dragCurrent.moveOnly||this.fireEvents(a,!1)),this.stopEvent(a),!0},fireEvents:function(a,b){var c=this.dragCurrent;if(c&&!c.isLocked()){var d=a.getPoint(),e=[],f=[],g=[],h=[],i=[];for(var j in this.dragOvers){var k=this.dragOvers[j];this.isTypeOfDD(k)&&(this.isOverTarget(d,k,this.mode)||f.push(k),e[j]=!0,delete this.dragOvers[j])}for(var l in c.groups)if("string"==typeof l)for(j in this.ids[l]){var m=this.ids[l][j];this.isTypeOfDD(m)&&m.isTarget&&!m.isLocked()&&m!=c&&this.isOverTarget(d,m,this.mode)&&(b?h.push(m):(e[m.id]?g.push(m):i.push(m),this.dragOvers[m.id]=m))}if(this.mode)f.length&&(c.b4DragOut(a,f),c.onDragOut(a,f)),i.length&&c.onDragEnter(a,i),g.length&&(c.b4DragOver(a,g),c.onDragOver(a,g)),h.length&&(c.b4DragDrop(a,h),c.onDragDrop(a,h));else{var n=0;for(j=0,n=f.length;n>j;++j)c.b4DragOut(a,f[j].id),c.onDragOut(a,f[j].id);for(j=0,n=i.length;n>j;++j)c.onDragEnter(a,i[j].id);for(j=0,n=g.length;n>j;++j)c.b4DragOver(a,g[j].id),c.onDragOver(a,g[j].id);for(j=0,n=h.length;n>j;++j)c.b4DragDrop(a,h[j].id),c.onDragDrop(a,h[j].id)}b&&!h.length&&c.onInvalidDrop(a)}},getBestMatch:function(a){var b=null,c=a.length;if(1==c)b=a[0];else for(var d=0;c>d;++d){var e=a[d];if(e.cursorIsOver){b=e;break}(!b||b.overlap.getArea()<e.overlap.getArea())&&(b=e)}return b},refreshCache:function(a){for(var b in a)if("string"==typeof b)for(var c in this.ids[b]){var d=this.ids[b][c];if(this.isTypeOfDD(d)){var e=this.getLocation(d);e?this.locationCache[d.id]=e:delete this.locationCache[d.id]}}},verifyEl:function(a){if(a){var b;if(Ext.isIE)try{b=a.offsetParent}catch(c){}else b=a.offsetParent;if(b)return!0}return!1},getLocation:function(a){if(!this.isTypeOfDD(a))return null;var b,c,d,e,f,g,h,i,j,k=a.getEl();try{b=Ext.lib.Dom.getXY(k)}catch(l){}return b?(c=b[0],d=c+k.offsetWidth,e=b[1],f=e+k.offsetHeight,g=e-a.padding[0],h=d+a.padding[1],i=f+a.padding[2],j=c-a.padding[3],new Ext.lib.Region(g,h,i,j)):null},isOverTarget:function(a,b,c){var d=this.locationCache[b.id];if(d&&this.useCache||(d=this.getLocation(b),this.locationCache[b.id]=d),!d)return!1;b.cursorIsOver=d.contains(a);var e=this.dragCurrent;if(!e||!e.getTargetCoord||!c&&!e.constrainX&&!e.constrainY)return b.cursorIsOver;b.overlap=null;var f=e.getTargetCoord(a.x,a.y),g=e.getDragEl(),h=new Ext.lib.Region(f.y,f.x+g.offsetWidth,f.y+g.offsetHeight,f.x),i=h.intersect(d);return i?(b.overlap=i,c?!0:b.cursorIsOver):!1},_onUnload:function(a,b){Ext.dd.DragDropMgr.unregAll()},unregAll:function(){this.dragCurrent&&(this.stopDrag(),this.dragCurrent=null),this._execOnAll("unreg",[]);for(i in this.elementCache)delete this.elementCache[i];this.elementCache={},this.ids={}},elementCache:{},getElWrapper:function(a){var b=this.elementCache[a];return b&&b.el||(b=this.elementCache[a]=new this.ElementWrapper(Ext.getDom(a))),b},getElement:function(a){return Ext.getDom(a)},getCss:function(a){var b=Ext.getDom(a);return b?b.style:null},ElementWrapper:function(a){this.el=a||null,this.id=this.el&&a.id,this.css=this.el&&a.style},getPosX:function(a){return Ext.lib.Dom.getX(a)},getPosY:function(a){return Ext.lib.Dom.getY(a)},swapNode:function(a,b){if(a.swapNode)a.swapNode(b);else{var c=b.parentNode,d=b.nextSibling;d==a?c.insertBefore(a,b):b==a.nextSibling?c.insertBefore(b,a):(a.parentNode.replaceChild(b,a),c.insertBefore(a,d))}},getScroll:function(){var a,b,c=document.documentElement,d=document.body;return c&&(c.scrollTop||c.scrollLeft)?(a=c.scrollTop,b=c.scrollLeft):d&&(a=d.scrollTop,b=d.scrollLeft),{top:a,left:b}},getStyle:function(a,b){return Ext.fly(a).getStyle(b)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(a,b){var c=Ext.lib.Dom.getXY(b);Ext.lib.Dom.setXY(a,c)},numericSort:function(a,b){return a-b},_timeoutCount:0,_addListeners:function(){var a=Ext.dd.DDM;Ext.lib.Event&&document?a._onLoad():a._timeoutCount>2e3||(setTimeout(a._addListeners,10),document&&document.body&&(a._timeoutCount+=1))},handleWasClicked:function(a,b){if(this.isHandle(b,a.id))return!0;for(var c=a.parentNode;c;){if(this.isHandle(b,c.id))return!0;c=c.parentNode}return!1}}}(),Ext.dd.DDM=Ext.dd.DragDropMgr,Ext.dd.DDM._addListeners()),Ext.dd.DD=function(a,b,c){a&&this.init(a,b,c)},Ext.extend(Ext.dd.DD,Ext.dd.DragDrop,{scroll:!0,autoOffset:function(a,b){var c=a-this.startPageX,d=b-this.startPageY;this.setDelta(c,d)},setDelta:function(a,b){this.deltaX=a,this.deltaY=b},setDragElPos:function(a,b){var c=this.getDragEl();this.alignElWithMouse(c,a,b)},alignElWithMouse:function(a,b,c){var d=this.getTargetCoord(b,c),e=a.dom?a:Ext.fly(a);if(this.deltaSetXY)e.setLeftTop(d.x+this.deltaSetXY[0],d.y+this.deltaSetXY[1]);else{var f=[d.x,d.y];e.setXY(f);var g=e.getLeft(!0),h=e.getTop(!0);this.deltaSetXY=[g-d.x,h-d.y]}return this.cachePosition(d.x,d.y),this.autoScroll(d.x,d.y,a.offsetHeight,a.offsetWidth),d},cachePosition:function(a,b){if(a)this.lastPageX=a,this.lastPageY=b;else{var c=Ext.lib.Dom.getXY(this.getEl());this.lastPageX=c[0],this.lastPageY=c[1]}},autoScroll:function(a,b,c,d){if(this.scroll){var e=Ext.lib.Dom.getViewWidth(),f=Ext.lib.Dom.getViewHeight(),g=this.DDM.getScrollTop(),h=this.DDM.getScrollLeft(),i=c+b,j=d+a,k=e+g-b-this.deltaY,l=f+h-a-this.deltaX,m=40,n=document.all?80:30;i>e&&m>k&&window.scrollTo(h,g+n),g>b&&g>0&&m>b-g&&window.scrollTo(h,g-n),j>f&&m>l&&window.scrollTo(h+n,g),h>a&&h>0&&m>a-h&&window.scrollTo(h-n,g)}},getTargetCoord:function(a,b){var c=a-this.deltaX,d=b-this.deltaY;return this.constrainX&&(c<this.minX&&(c=this.minX),c>this.maxX&&(c=this.maxX)),this.constrainY&&(d<this.minY&&(d=this.minY),d>this.maxY&&(d=this.maxY)),c=this.getTick(c,this.xTicks),d=this.getTick(d,this.yTicks),{x:c,y:d}},applyConfig:function(){Ext.dd.DD.superclass.applyConfig.call(this),this.scroll=this.config.scroll!==!1},b4MouseDown:function(a){this.autoOffset(a.getPageX(),a.getPageY())},b4Drag:function(a){this.setDragElPos(a.getPageX(),a.getPageY())},toString:function(){return"DD "+this.id}}),Ext.dd.DDProxy=function(a,b,c){a&&(this.init(a,b,c),this.initFrame())},Ext.dd.DDProxy.dragElId="ygddfdiv",Ext.extend(Ext.dd.DDProxy,Ext.dd.DD,{resizeFrame:!0,centerFrame:!1,createFrame:function(){var a=this,b=document.body;if(!b||!b.firstChild)return void setTimeout(function(){a.createFrame()},50);var c=this.getDragEl();if(!c){c=document.createElement("div"),c.id=this.dragElId;var d=c.style;d.position="absolute",d.visibility="hidden",d.cursor="move",d.border="2px solid #aaa",d.zIndex=999,b.insertBefore(c,b.firstChild)}},initFrame:function(){this.createFrame()},applyConfig:function(){Ext.dd.DDProxy.superclass.applyConfig.call(this),this.resizeFrame=this.config.resizeFrame!==!1,this.centerFrame=this.config.centerFrame,this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(a,b){var c=(this.getEl(),this.getDragEl()),d=c.style;this._resizeProxy(),this.centerFrame&&this.setDelta(Math.round(parseInt(d.width,10)/2),Math.round(parseInt(d.height,10)/2)),this.setDragElPos(a,b),Ext.fly(c).show()},_resizeProxy:function(){if(this.resizeFrame){var a=this.getEl();Ext.fly(this.getDragEl()).setSize(a.offsetWidth,a.offsetHeight)}},b4MouseDown:function(a){var b=a.getPageX(),c=a.getPageY();this.autoOffset(b,c),this.setDragElPos(b,c)},b4StartDrag:function(a,b){this.showFrame(a,b)},b4EndDrag:function(a){Ext.fly(this.getDragEl()).hide()},endDrag:function(a){var b=this.getEl(),c=this.getDragEl();c.style.visibility="",this.beforeMove(),b.style.visibility="hidden",Ext.dd.DDM.moveToEl(b,c),c.style.visibility="hidden",b.style.visibility="",this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return"DDProxy "+this.id}}),Ext.dd.DDTarget=function(a,b,c){a&&this.initTarget(a,b,c)},Ext.extend(Ext.dd.DDTarget,Ext.dd.DragDrop,{toString:function(){return"DDTarget "+this.id}}),Ext.dd.ScrollManager=function(){var a=Ext.dd.DragDropMgr,b={},c=null,d={},e=function(a){c=null,h()},f=function(){a.dragCurrent&&a.refreshCache(a.dragCurrent.groups)},g=function(){if(a.dragCurrent){var b=Ext.dd.ScrollManager;b.animate?d.el.scroll(d.dir,b.increment,!0,b.animDuration,f):d.el.scroll(d.dir,b.increment)&&f()}},h=function(){d.id&&clearInterval(d.id),d.id=0,d.el=null,d.dir=""},i=function(a,b){h(),d.el=a,d.dir=b,d.id=setInterval(g,Ext.dd.ScrollManager.frequency)},j=function(e,f){if(!f&&a.dragCurrent){var g=Ext.dd.ScrollManager;c&&c==a.dragCurrent||(c=a.dragCurrent,g.refreshCache());var j=Ext.lib.Event.getXY(e),k=new Ext.lib.Point(j[0],j[1]);for(var l in b){var m=b[l],n=m._region;if(n&&n.contains(k)&&m.isScrollable()){if(n.bottom-k.y<=g.thresh)return void(d.el!=m&&i(m,"down"));if(n.right-k.x<=g.thresh)return void(d.el!=m&&i(m,"left"));if(k.y-n.top<=g.thresh)return void(d.el!=m&&i(m,"up"));if(k.x-n.left<=g.thresh)return void(d.el!=m&&i(m,"right"))}}h()}};return a.fireEvents=a.fireEvents.createSequence(j,a),a.stopDrag=a.stopDrag.createSequence(e,a),{register:function(a){if(a instanceof Array)for(var c=0,d=a.length;d>c;c++)this.register(a[c]);else a=Ext.get(a),b[a.id]=a},unregister:function(a){if(a instanceof Array)for(var c=0,d=a.length;d>c;c++)this.unregister(a[c]);else a=Ext.get(a),delete b[a.id]},thresh:25,increment:100,frequency:500,animate:!0,animDuration:.4,refreshCache:function(){for(var a in b)"object"==typeof b[a]&&(b[a]._region=b[a].getRegion())}}}(),Ext.dd.Registry=function(){var a={},b={},c=0,d=function(a,b){if("string"==typeof a)return a;var d=a.id;return d||b===!1||(d="extdd-"+ ++c,a.id=d),d};return{register:function(c,e){if(e=e||{},"string"==typeof c&&(c=document.getElementById(c)),e.ddel=c,a[d(c)]=e,e.isHandle!==!1&&(b[e.ddel.id]=e),e.handles)for(var f=e.handles,g=0,h=f.length;h>g;g++)b[d(f[g])]=e},unregister:function(c){var e=d(c,!1),f=a[e];if(f&&(delete a[e],f.handles))for(var g=f.handles,h=0,i=g.length;i>h;h++)delete b[d(g[h],!1)]},getHandle:function(a){return"string"!=typeof a&&(a=a.id),b[a]},getHandleFromEvent:function(a){var c=Ext.lib.Event.getTarget(a);
return c?b[c.id]:null},getTarget:function(b){return"string"!=typeof b&&(b=b.id),a[b]},getTargetFromEvent:function(c){var d=Ext.lib.Event.getTarget(c);return d?a[d.id]||b[d.id]:null}}}(),Ext.dd.StatusProxy=function(a){Ext.apply(this,a),this.id=this.id||Ext.id(),this.el=new Ext.Layer({dh:{id:this.id,tag:"div",cls:"x-dd-drag-proxy "+this.dropNotAllowed,children:[{tag:"div",cls:"x-dd-drop-icon"},{tag:"div",cls:"x-dd-drag-ghost"}]},shadow:!a||a.shadow!==!1}),this.ghost=Ext.get(this.el.dom.childNodes[1]),this.dropStatus=this.dropNotAllowed},Ext.dd.StatusProxy.prototype={dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",setStatus:function(a){a=a||this.dropNotAllowed,this.dropStatus!=a&&(this.el.replaceClass(this.dropStatus,a),this.dropStatus=a)},reset:function(a){this.el.dom.className="x-dd-drag-proxy "+this.dropNotAllowed,this.dropStatus=this.dropNotAllowed,a&&this.ghost.update("")},update:function(a){"string"==typeof a?this.ghost.update(a):(this.ghost.update(""),a.style.margin="0",this.ghost.dom.appendChild(a))},getEl:function(){return this.el},getGhost:function(){return this.ghost},hide:function(a){this.el.hide(),a&&this.reset(!0)},stop:function(){this.anim&&this.anim.isAnimated&&this.anim.isAnimated()&&this.anim.stop()},show:function(){this.el.show()},sync:function(){this.el.sync()},repair:function(a,b,c){this.callback=b,this.scope=c,a&&this.animRepair!==!1?(this.el.addClass("x-dd-drag-repair"),this.el.hideUnders(!0),this.anim=this.el.shift({duration:this.repairDuration||.5,easing:"easeOut",xy:a,stopFx:!0,callback:this.afterRepair,scope:this})):this.afterRepair()},afterRepair:function(){this.hide(!0),"function"==typeof this.callback&&this.callback.call(this.scope||this),this.callback=null,this.scope=null}},Ext.dd.DragSource=function(a,b){this.el=Ext.get(a),this.dragData={},Ext.apply(this,b),this.proxy||(this.proxy=new Ext.dd.StatusProxy),Ext.dd.DragSource.superclass.constructor.call(this,this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:!1,isTarget:!1,scroll:this.scroll===!0}),this.dragging=!1},Ext.extend(Ext.dd.DragSource,Ext.dd.DDProxy,{dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",getDragData:function(a){return this.dragData},onDragEnter:function(a,b){var c=Ext.dd.DragDropMgr.getDDById(b);if(this.cachedTarget=c,this.beforeDragEnter(c,a,b)!==!1){if(c.isNotifyTarget){var d=c.notifyEnter(this,a,this.dragData);this.proxy.setStatus(d)}else this.proxy.setStatus(this.dropAllowed);this.afterDragEnter&&this.afterDragEnter(c,a,b)}},beforeDragEnter:function(a,b,c){return!0},alignElWithMouse:function(){Ext.dd.DragSource.superclass.alignElWithMouse.apply(this,arguments),this.proxy.sync()},onDragOver:function(a,b){var c=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(b);if(this.beforeDragOver(c,a,b)!==!1){if(c.isNotifyTarget){var d=c.notifyOver(this,a,this.dragData);this.proxy.setStatus(d)}this.afterDragOver&&this.afterDragOver(c,a,b)}},beforeDragOver:function(a,b,c){return!0},onDragOut:function(a,b){var c=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(b);this.beforeDragOut(c,a,b)!==!1&&(c.isNotifyTarget&&c.notifyOut(this,a,this.dragData),this.proxy.reset(),this.afterDragOut&&this.afterDragOut(c,a,b)),this.cachedTarget=null},beforeDragOut:function(a,b,c){return!0},onDragDrop:function(a,b){var c=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(b);this.beforeDragDrop(c,a,b)!==!1&&(c.isNotifyTarget?c.notifyDrop(this,a,this.dragData)?this.onValidDrop(c,a,b):this.onInvalidDrop(c,a,b):this.onValidDrop(c,a,b),this.afterDragDrop&&this.afterDragDrop(c,a,b)),delete this.cachedTarget},beforeDragDrop:function(a,b,c){return!0},onValidDrop:function(a,b,c){this.hideProxy(),this.afterValidDrop&&this.afterValidDrop(a,b,c)},getRepairXY:function(a,b){return this.el.getXY()},onInvalidDrop:function(a,b,c){this.beforeInvalidDrop(a,b,c),this.cachedTarget&&(this.cachedTarget.isNotifyTarget&&this.cachedTarget.notifyOut(this,b,this.dragData),this.cacheTarget=null),this.proxy.repair(this.getRepairXY(b,this.dragData),this.afterRepair,this),this.afterInvalidDrop&&this.afterInvalidDrop(b,c)},afterRepair:function(){Ext.enableFx&&this.el.highlight(this.hlColor||"c3daf9"),this.dragging=!1},beforeInvalidDrop:function(a,b,c){return!0},handleMouseDown:function(a){if(!this.dragging){var b=this.getDragData(a);b&&this.onBeforeDrag(b,a)!==!1&&(this.dragData=b,this.proxy.stop(),Ext.dd.DragSource.superclass.handleMouseDown.apply(this,arguments))}},onBeforeDrag:function(a,b){return!0},onStartDrag:Ext.emptyFn,startDrag:function(a,b){this.proxy.reset(),this.dragging=!0,this.proxy.update(""),this.onInitDrag(a,b),this.proxy.show()},onInitDrag:function(a,b){var c=this.el.dom.cloneNode(!0);return c.id=Ext.id(),this.proxy.update(c),this.onStartDrag(a,b),!0},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide(),this.proxy.reset(!0),this.dragging=!1},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(a){},endDrag:function(a){this.onEndDrag(this.dragData,a)},onEndDrag:function(a,b){},autoOffset:function(a,b){this.setDelta(-12,-20)}}),Ext.dd.DropTarget=function(a,b){this.el=Ext.get(a),Ext.apply(this,b),this.containerScroll&&Ext.dd.ScrollManager.register(this.el),Ext.dd.DropTarget.superclass.constructor.call(this,this.el.dom,this.ddGroup||this.group,{isTarget:!0})},Ext.extend(Ext.dd.DropTarget,Ext.dd.DDTarget,{dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",isTarget:!0,isNotifyTarget:!0,notifyEnter:function(a,b,c){return this.overClass&&this.el.addClass(this.overClass),this.dropAllowed},notifyOver:function(a,b,c){return this.dropAllowed},notifyOut:function(a,b,c){this.overClass&&this.el.removeClass(this.overClass)},notifyDrop:function(a,b,c){return!1}}),Ext.dd.DragZone=function(a,b){Ext.dd.DragZone.superclass.constructor.call(this,a,b),this.containerScroll&&Ext.dd.ScrollManager.register(this.el)},Ext.extend(Ext.dd.DragZone,Ext.dd.DragSource,{getDragData:function(a){return Ext.dd.Registry.getHandleFromEvent(a)},onInitDrag:function(a,b){return this.proxy.update(this.dragData.ddel.cloneNode(!0)),this.onStartDrag(a,b),!0},afterRepair:function(){Ext.enableFx&&Ext.Element.fly(this.dragData.ddel).highlight(this.hlColor||"c3daf9"),this.dragging=!1},getRepairXY:function(a){return Ext.Element.fly(this.dragData.ddel).getXY()}}),Ext.dd.DropZone=function(a,b){Ext.dd.DropZone.superclass.constructor.call(this,a,b)},Ext.extend(Ext.dd.DropZone,Ext.dd.DropTarget,{getTargetFromEvent:function(a){return Ext.dd.Registry.getTargetFromEvent(a)},onNodeEnter:function(a,b,c,d){},onNodeOver:function(a,b,c,d){return this.dropAllowed},onNodeOut:function(a,b,c,d){},onNodeDrop:function(a,b,c,d){return!1},onContainerOver:function(a,b,c){return this.dropNotAllowed},onContainerDrop:function(a,b,c){return!1},notifyEnter:function(a,b,c){return this.dropNotAllowed},notifyOver:function(a,b,c){var d=this.getTargetFromEvent(b);return d?(this.lastOverNode!=d&&(this.lastOverNode&&this.onNodeOut(this.lastOverNode,a,b,c),this.onNodeEnter(d,a,b,c),this.lastOverNode=d),this.onNodeOver(d,a,b,c)):(this.lastOverNode&&(this.onNodeOut(this.lastOverNode,a,b,c),this.lastOverNode=null),this.onContainerOver(a,b,c))},notifyOut:function(a,b,c){this.lastOverNode&&(this.onNodeOut(this.lastOverNode,a,b,c),this.lastOverNode=null)},notifyDrop:function(a,b,c){this.lastOverNode&&(this.onNodeOut(this.lastOverNode,a,b,c),this.lastOverNode=null);var d=this.getTargetFromEvent(b);return d?this.onNodeDrop(d,a,b,c):this.onContainerDrop(a,b,c)},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}}),Ext.data.SortTypes={none:function(a){return a},stripTagsRE:/<\/?[^>]+>/gi,asText:function(a){return String(a).replace(this.stripTagsRE,"")},asUCText:function(a){return String(a).toUpperCase().replace(this.stripTagsRE,"")},asUCString:function(a){return String(a).toUpperCase()},asDate:function(a){return a?a instanceof Date?a.getTime():Date.parse(String(a)):0},asFloat:function(a){var b=parseFloat(String(a).replace(/,/g,""));return isNaN(b)&&(b=0),b},asInt:function(a){var b=parseInt(String(a).replace(/,/g,""));return isNaN(b)&&(b=0),b}},Ext.data.Record=function(a,b){this.id=b||0===b?b:++Ext.data.Record.AUTO_ID,this.data=a},Ext.data.Record.create=function(a){var b=function(){b.superclass.constructor.apply(this,arguments)};Ext.extend(b,Ext.data.Record);var c=b.prototype;c.fields=new Ext.util.MixedCollection(!1,function(a){return a.name});for(var d=0,e=a.length;e>d;d++)c.fields.add(new Ext.data.Field(a[d]));return b.getField=function(a){return c.fields.get(a)},b},Ext.data.Record.AUTO_ID=1e3,Ext.data.Record.EDIT="edit",Ext.data.Record.REJECT="reject",Ext.data.Record.COMMIT="commit",Ext.data.Record.prototype={dirty:!1,editing:!1,error:null,modified:null,join:function(a){this.store=a},set:function(a,b){this.data[a]!=b&&(this.dirty=!0,this.modified||(this.modified={}),"undefined"==typeof this.modified[a]&&(this.modified[a]=this.data[a]),this.data[a]=b,this.editing||this.store.afterEdit(this))},get:function(a){return this.data[a]},beginEdit:function(){this.editing=!0,this.modified={}},cancelEdit:function(){this.editing=!1,delete this.modified},endEdit:function(){this.editing=!1,this.dirty&&this.store&&this.store.afterEdit(this)},reject:function(){var a=this.modified;for(var b in a)"function"!=typeof a[b]&&(this.data[b]=a[b]);this.dirty=!1,delete this.modified,this.editing=!1,this.store&&this.store.afterReject(this)},commit:function(){this.dirty=!1,delete this.modified,this.editing=!1,this.store&&this.store.afterCommit(this)},hasError:function(){return null!=this.error},clearError:function(){this.error=null},copy:function(a){return new this.constructor(Ext.apply({},this.data),a||this.id)}},Ext.data.Store=function(a){this.data=new Ext.util.MixedCollection(!1),this.data.getKey=function(a){return a.id},this.baseParams={},this.paramNames={start:"start",limit:"limit",sort:"sort",dir:"dir"},a&&a.data&&(this.inlineData=a.data,delete a.data),Ext.apply(this,a),this.reader&&(this.recordType||(this.recordType=this.reader.recordType),this.reader.onMetaChange&&(this.reader.onMetaChange=this.onMetaChange.createDelegate(this))),this.recordType&&(this.fields=this.recordType.prototype.fields),this.modified=[],this.addEvents({datachanged:!0,metachange:!0,add:!0,remove:!0,update:!0,clear:!0,beforeload:!0,load:!0,loadexception:!0}),this.proxy&&this.relayEvents(this.proxy,["loadexception"]),this.sortToggle={},Ext.data.Store.superclass.constructor.call(this),this.inlineData&&(this.loadData(this.inlineData),delete this.inlineData)},Ext.extend(Ext.data.Store,Ext.util.Observable,{remoteSort:!1,pruneModifiedRecords:!1,lastOptions:null,add:function(a){a=[].concat(a);for(var b=0,c=a.length;c>b;b++)a[b].join(this);var d=this.data.length;this.data.addAll(a),this.fireEvent("add",this,a,d)},remove:function(a){var b=this.data.indexOf(a);this.data.removeAt(b),this.pruneModifiedRecords&&this.modified.remove(a),this.fireEvent("remove",this,a,b)},removeAll:function(){this.data.clear(),this.pruneModifiedRecords&&(this.modified=[]),this.fireEvent("clear",this)},insert:function(a,b){b=[].concat(b);for(var c=0,d=b.length;d>c;c++)this.data.insert(a,b[c]),b[c].join(this);this.fireEvent("add",this,b,a)},indexOf:function(a){return this.data.indexOf(a)},indexOfId:function(a){return this.data.indexOfKey(a)},getById:function(a){return this.data.key(a)},getAt:function(a){return this.data.itemAt(a)},getRange:function(a,b){return this.data.getRange(a,b)},storeOptions:function(a){a=Ext.apply({},a),delete a.callback,delete a.scope,this.lastOptions=a},load:function(a){if(a=a||{},this.fireEvent("beforeload",this,a)!==!1){this.storeOptions(a);var b=Ext.apply(a.params||{},this.baseParams);if(this.sortInfo&&this.remoteSort){var c=this.paramNames;b[c.sort]=this.sortInfo.field,b[c.dir]=this.sortInfo.direction}this.proxy.load(b,this.reader,this.loadRecords,this,a)}},reload:function(a){this.load(Ext.applyIf(a||{},this.lastOptions))},loadRecords:function(a,b,c){if(!a||c===!1)return c!==!1&&this.fireEvent("load",this,[],b),void(b.callback&&b.callback.call(b.scope||this,[],b,!1));var d=a.records,e=a.totalRecords||d.length;if(b&&b.add===!0)this.totalLength=Math.max(e,this.data.length+d.length),this.add(d);else{this.pruneModifiedRecords&&(this.modified=[]);for(var f=0,g=d.length;g>f;f++)d[f].join(this);this.snapshot&&(this.data=this.snapshot,delete this.snapshot),this.data.clear(),this.data.addAll(d),this.totalLength=e,this.applySort(),this.fireEvent("datachanged",this)}this.fireEvent("load",this,d,b),b.callback&&b.callback.call(b.scope||this,d,b,!0)},loadData:function(a,b){var c=this.reader.readRecords(a);this.loadRecords(c,{add:b},!0)},getCount:function(){return this.data.length||0},getTotalCount:function(){return this.totalLength||0},getSortState:function(){return this.sortInfo},applySort:function(){if(this.sortInfo&&!this.remoteSort){var a=this.sortInfo,b=a.field,c=this.fields.get(b).sortType,d=function(a,d){var e=c(a.data[b]),f=c(d.data[b]);return e>f?1:f>e?-1:0};this.data.sort(a.direction,d),this.snapshot&&this.snapshot!=this.data&&this.snapshot.sort(a.direction,d)}},setDefaultSort:function(a,b){this.sortInfo={field:a,direction:b?b.toUpperCase():"ASC"}},sort:function(a,b){var c=this.fields.get(a);b||(b=this.sortInfo&&this.sortInfo.field==c.name?(this.sortToggle[c.name]||"ASC").toggle("ASC","DESC"):c.sortDir),this.sortToggle[c.name]=b,this.sortInfo={field:c.name,direction:b},this.remoteSort?this.load(this.lastOptions):(this.applySort(),this.fireEvent("datachanged",this))},each:function(a,b){this.data.each(a,b)},getModifiedRecords:function(){return this.modified},createFilterFn:function(a,b,c){if(!b.exec){if(b=String(b),0==b.length)return!1;b=new RegExp((c===!0?"":"^")+Ext.escapeRe(b),"i")}return function(c){return b.test(c.data[a])}},sum:function(a,b,c){var d=this.data.items,e=0;b=b||0,c=c||0===c?c:d.length-1;for(var f=b;c>=f;f++)e+=d[f].data[a]||0;return e},filter:function(a,b,c){var d=this.createFilterFn(a,b,c);return d?this.filterBy(d):this.clearFilter()},filterBy:function(a,b){this.snapshot=this.snapshot||this.data,this.data=this.queryBy(a,b||this),this.fireEvent("datachanged",this)},query:function(a,b,c){var d=this.createFilterFn(a,b,c);return d?this.queryBy(d):this.data.clone()},queryBy:function(a,b){var c=this.snapshot||this.data;return c.filterBy(a,b||this)},collect:function(a,b,c){for(var d,e,f=c===!0&&this.snapshot?this.snapshot.items:this.data.items,g=[],h={},i=0,j=f.length;j>i;i++)d=f[i].data[a],e=String(d),!b&&Ext.isEmpty(d)||h[e]||(h[e]=!0,g[g.length]=d);return g},clearFilter:function(a){this.snapshot&&this.snapshot!=this.data&&(this.data=this.snapshot,delete this.snapshot,a!==!0&&this.fireEvent("datachanged",this))},afterEdit:function(a){-1==this.modified.indexOf(a)&&this.modified.push(a),this.fireEvent("update",this,a,Ext.data.Record.EDIT)},afterReject:function(a){this.modified.remove(a),this.fireEvent("update",this,a,Ext.data.Record.REJECT)},afterCommit:function(a){this.modified.remove(a),this.fireEvent("update",this,a,Ext.data.Record.COMMIT)},commitChanges:function(){var a=this.modified.slice(0);this.modified=[];for(var b=0,c=a.length;c>b;b++)a[b].commit()},rejectChanges:function(){var a=this.modified.slice(0);this.modified=[];for(var b=0,c=a.length;c>b;b++)a[b].reject()},onMetaChange:function(a,b,c){this.recordType=b,this.fields=b.prototype.fields,delete this.snapshot,this.sortInfo=a.sortInfo,this.modified=[],this.fireEvent("metachange",this,this.reader.meta)}}),Ext.data.SimpleStore=function(a){Ext.data.SimpleStore.superclass.constructor.call(this,{reader:new Ext.data.ArrayReader({id:a.id},Ext.data.Record.create(a.fields)),proxy:new Ext.data.MemoryProxy(a.data)}),this.load()},Ext.extend(Ext.data.SimpleStore,Ext.data.Store),Ext.data.JsonStore=function(a){Ext.data.JsonStore.superclass.constructor.call(this,Ext.apply(a,{proxy:a.data?void 0:new Ext.data.HttpProxy({url:a.url}),reader:new Ext.data.JsonReader(a,a.fields)}))},Ext.extend(Ext.data.JsonStore,Ext.data.Store),Ext.data.Field=function(a){"string"==typeof a&&(a={name:a}),Ext.apply(this,a),this.type||(this.type="auto");var b=Ext.data.SortTypes;if("string"==typeof this.sortType&&(this.sortType=b[this.sortType]),!this.sortType)switch(this.type){case"string":this.sortType=b.asUCString;break;case"date":this.sortType=b.asDate;break;default:this.sortType=b.none}var c=/[\$,%]/g;if(!this.convert){var d,e=this.dateFormat;switch(this.type){case"":case"auto":case void 0:d=function(a){return a};break;case"string":d=function(a){return void 0===a||null===a?"":String(a)};break;case"int":d=function(a){return void 0!==a&&null!==a&&""!==a?parseInt(String(a).replace(c,""),10):""};break;case"float":d=function(a){return void 0!==a&&null!==a&&""!==a?parseFloat(String(a).replace(c,""),10):""};break;case"bool":case"boolean":d=function(a){return a===!0||"true"===a||1==a};break;case"date":d=function(a){if(!a)return"";if(a instanceof Date)return a;if(e)return"timestamp"==e?new Date(1e3*a):Date.parseDate(a,e);var b=Date.parse(a);return b?new Date(b):null}}this.convert=d}},Ext.data.Field.prototype={dateFormat:null,defaultValue:"",mapping:null,sortType:null,sortDir:"ASC"},Ext.data.DataReader=function(a,b){this.meta=a,this.recordType=b instanceof Array?Ext.data.Record.create(b):b},Ext.data.DataReader.prototype={},Ext.data.DataProxy=function(){this.addEvents({beforeload:!0,load:!0,loadexception:!0}),Ext.data.DataProxy.superclass.constructor.call(this)},Ext.extend(Ext.data.DataProxy,Ext.util.Observable),Ext.data.MemoryProxy=function(a){Ext.data.MemoryProxy.superclass.constructor.call(this),this.data=a},Ext.extend(Ext.data.MemoryProxy,Ext.data.DataProxy,{load:function(a,b,c,d,e){a=a||{};var f;try{f=b.readRecords(this.data)}catch(g){return this.fireEvent("loadexception",this,e,null,g),void c.call(d,null,e,!1)}c.call(d,f,e,!0)},update:function(a,b){}}),Ext.data.HttpProxy=function(a){Ext.data.HttpProxy.superclass.constructor.call(this),this.conn=a,this.useAjax=!a||!a.events},Ext.extend(Ext.data.HttpProxy,Ext.data.DataProxy,{getConnection:function(){return this.useAjax?Ext.Ajax:this.conn},load:function(a,b,c,d,e){if(this.fireEvent("beforeload",this,a)!==!1){var f={params:a||{},request:{callback:c,scope:d,arg:e},reader:b,callback:this.loadResponse,scope:this};this.useAjax?(Ext.applyIf(f,this.conn),this.activeRequest&&Ext.Ajax.abort(this.activeRequest),this.activeRequest=Ext.Ajax.request(f)):this.conn.request(f)}else c.call(d||this,null,e,!1)},loadResponse:function(a,b,c){if(delete this.activeRequest,!b)return this.fireEvent("loadexception",this,a,c),void a.request.callback.call(a.request.scope,null,a.request.arg,!1);var d;try{d=a.reader.read(c)}catch(e){return this.fireEvent("loadexception",this,a,c,e),void a.request.callback.call(a.request.scope,null,a.request.arg,!1)}this.fireEvent("load",this,a,a.request.arg),a.request.callback.call(a.request.scope,d,a.request.arg,!0)},update:function(a){},updateResponse:function(a){}}),Ext.data.ScriptTagProxy=function(a){Ext.data.ScriptTagProxy.superclass.constructor.call(this),Ext.apply(this,a),this.head=document.getElementsByTagName("head")[0]},Ext.data.ScriptTagProxy.TRANS_ID=1e3,Ext.extend(Ext.data.ScriptTagProxy,Ext.data.DataProxy,{timeout:3e4,callbackParam:"callback",nocache:!0,load:function(a,b,c,d,e){if(this.fireEvent("beforeload",this,a)!==!1){var f=Ext.urlEncode(Ext.apply(a,this.extraParams)),g=this.url;g+=(-1!=g.indexOf("?")?"&":"?")+f,this.nocache&&(g+="&_dc="+(new Date).getTime());var h=++Ext.data.ScriptTagProxy.TRANS_ID,i={id:h,cb:"stcCallback"+h,scriptId:"stcScript"+h,params:a,arg:e,url:g,callback:c,scope:d,reader:b},j=this;window[i.cb]=function(a){j.handleResponse(a,i)},g+=String.format("&{0}={1}",this.callbackParam,i.cb),this.autoAbort!==!1&&this.abort(),i.timeoutId=this.handleFailure.defer(this.timeout,this,[i]);var k=document.createElement("script");k.setAttribute("src",g),k.setAttribute("type","text/javascript"),k.setAttribute("id",i.scriptId),this.head.appendChild(k),this.trans=i}else c.call(d||this,null,e,!1)},isLoading:function(){return this.trans?!0:!1},abort:function(){this.isLoading()&&this.destroyTrans(this.trans)},destroyTrans:function(a,b){if(this.head.removeChild(document.getElementById(a.scriptId)),clearTimeout(a.timeoutId),b){window[a.cb]=void 0;try{delete window[a.cb]}catch(c){}}else window[a.cb]=function(){window[a.cb]=void 0;try{delete window[a.cb]}catch(b){}}},handleResponse:function(a,b){this.trans=!1,this.destroyTrans(b,!0);var c;try{c=b.reader.readRecords(a)}catch(d){return this.fireEvent("loadexception",this,a,b.arg,d),void b.callback.call(b.scope||window,null,b.arg,!1)}this.fireEvent("load",this,a,b.arg),b.callback.call(b.scope||window,c,b.arg,!0)},handleFailure:function(a){this.trans=!1,this.destroyTrans(a,!1),this.fireEvent("loadexception",this,null,a.arg),a.callback.call(a.scope||window,null,a.arg,!1)}}),Ext.data.JsonReader=function(a,b){a=a||{},Ext.data.JsonReader.superclass.constructor.call(this,a,b||a.fields)},Ext.extend(Ext.data.JsonReader,Ext.data.DataReader,{read:function(response){var json=response.responseText,o=eval("("+json+")");if(!o)throw{message:"JsonReader.read: Json object not found"};return o.metaData&&(delete this.ef,this.meta=o.metaData,this.recordType=Ext.data.Record.create(o.metaData.fields),this.onMetaChange(this.meta,this.recordType,o)),this.readRecords(o)},onMetaChange:function(a,b,c){},simpleAccess:function(a,b){return a[b]},getJsonAccessor:function(){var a=/[\[\.]/;return function(b){try{return a.test(b)?new Function("obj","return obj."+b):function(a){return a[b]}}catch(c){}return Ext.emptyFn}}(),readRecords:function(a){this.jsonData=a;var b=this.meta,c=this.recordType,d=c.prototype.fields,e=d.items,f=d.length;if(!this.ef){if(b.totalProperty&&(this.getTotal=this.getJsonAccessor(b.totalProperty)),b.successProperty&&(this.getSuccess=this.getJsonAccessor(b.successProperty)),this.getRoot=b.root?this.getJsonAccessor(b.root):function(a){return a},b.id){var g=this.getJsonAccessor(b.id);this.getId=function(a){var b=g(a);return void 0===b||""===b?null:b}}else this.getId=function(){return null};this.ef=[];for(var h=0;f>h;h++){d=e[h];var i=void 0!==d.mapping&&null!==d.mapping?d.mapping:d.name;this.ef[h]=this.getJsonAccessor(i)}}var j=this.getRoot(a),k=j.length,l=k,m=!0;if(b.totalProperty){var n=parseInt(this.getTotal(a),10);isNaN(n)||(l=n)}if(b.successProperty){var n=this.getSuccess(a);(n===!1||"false"===n)&&(m=!1)}for(var o=[],h=0;k>h;h++){for(var p=j[h],q={},r=this.getId(p),s=0;f>s;s++){d=e[s];var n=this.ef[s](p);q[d.name]=d.convert(void 0!==n?n:d.defaultValue)}var t=new c(q,r);t.json=p,o[h]=t}return{success:m,records:o,totalRecords:l}}}),Ext.data.XmlReader=function(a,b){a=a||{},Ext.data.XmlReader.superclass.constructor.call(this,a,b||a.fields)},Ext.extend(Ext.data.XmlReader,Ext.data.DataReader,{read:function(a){var b=a.responseXML;if(!b)throw{message:"XmlReader.read: XML Document not available"};return this.readRecords(b)},readRecords:function(a){this.xmlData=a;var b=a.documentElement||a,c=Ext.DomQuery,d=this.recordType,e=d.prototype.fields,f=this.meta.id,g=0,h=!0;if(this.meta.totalRecords&&(g=c.selectNumber(this.meta.totalRecords,b,0)),this.meta.success){var i=c.selectValue(this.meta.success,b,!0);h=i!==!1&&"false"!==i}for(var j=[],k=c.select(this.meta.record,b),l=0,m=k.length;m>l;l++){for(var n=k[l],o={},p=f?c.selectValue(f,n):void 0,q=0,r=e.length;r>q;q++){var s=e.items[q],t=c.selectValue(s.mapping||s.name,n,s.defaultValue);t=s.convert(t),o[s.name]=t}var u=new d(o,p);u.node=n,j[j.length]=u}return{success:h,records:j,totalRecords:g||j.length}}}),Ext.data.ArrayReader=function(a,b){Ext.data.ArrayReader.superclass.constructor.call(this,a,b)},Ext.extend(Ext.data.ArrayReader,Ext.data.JsonReader,{readRecords:function(a){for(var b=this.meta?this.meta.id:null,c=this.recordType,d=c.prototype.fields,e=[],f=a,g=0;g<f.length;g++){for(var h=f[g],i={},j=!b&&0!==b||void 0===h[b]||""===h[b]?null:h[b],k=0,l=d.length;l>k;k++){var m=d.items[k],n=void 0!==m.mapping&&null!==m.mapping?m.mapping:k,o=void 0!==h[n]?h[n]:m.defaultValue;o=m.convert(o),i[m.name]=o}var p=new c(i,j);p.json=h,e[e.length]=p}return{records:e,totalRecords:e.length}}}),Ext.data.Tree=function(a){this.nodeHash={},this.root=null,a&&this.setRootNode(a),this.addEvents({append:!0,remove:!0,move:!0,insert:!0,beforeappend:!0,beforeremove:!0,beforemove:!0,beforeinsert:!0}),Ext.data.Tree.superclass.constructor.call(this)},Ext.extend(Ext.data.Tree,Ext.util.Observable,{pathSeparator:"/",proxyNodeEvent:function(){return this.fireEvent.apply(this,arguments)},getRootNode:function(){return this.root},setRootNode:function(a){return this.root=a,a.ownerTree=this,a.isRoot=!0,this.registerNode(a),a},getNodeById:function(a){return this.nodeHash[a]},registerNode:function(a){this.nodeHash[a.id]=a},unregisterNode:function(a){delete this.nodeHash[a.id]},toString:function(){return"[Tree"+(this.id?" "+this.id:"")+"]"}}),Ext.data.Node=function(a){this.attributes=a||{},this.leaf=this.attributes.leaf,this.id=this.attributes.id,this.id||(this.id=Ext.id(null,"ynode-"),this.attributes.id=this.id),this.childNodes=[],this.childNodes.indexOf||(this.childNodes.indexOf=function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]==a)return b;return-1}),this.parentNode=null,this.firstChild=null,this.lastChild=null,this.previousSibling=null,this.nextSibling=null,this.addEvents({append:!0,remove:!0,move:!0,insert:!0,beforeappend:!0,beforeremove:!0,beforemove:!0,beforeinsert:!0}),this.listeners=this.attributes.listeners,Ext.data.Node.superclass.constructor.call(this)},Ext.extend(Ext.data.Node,Ext.util.Observable,{fireEvent:function(a){if(Ext.data.Node.superclass.fireEvent.apply(this,arguments)===!1)return!1;var b=this.getOwnerTree();return b&&b.proxyNodeEvent.apply(b,arguments)===!1?!1:!0},isLeaf:function(){return this.leaf===!0},setFirstChild:function(a){this.firstChild=a},setLastChild:function(a){this.lastChild=a},isLast:function(){return this.parentNode?this.parentNode.lastChild==this:!0},isFirst:function(){return this.parentNode?this.parentNode.firstChild==this:!0},hasChildNodes:function(){return!this.isLeaf()&&this.childNodes.length>0},appendChild:function(a){var b=!1;if(a instanceof Array?b=a:arguments.length>1&&(b=arguments),!b){if(this.fireEvent("beforeappend",this.ownerTree,this,a)===!1)return!1;var c=this.childNodes.length,d=a.parentNode;if(d){if(a.fireEvent("beforemove",a.getOwnerTree(),a,d,this,c)===!1)return!1;d.removeChild(a)}c=this.childNodes.length,0==c&&this.setFirstChild(a),this.childNodes.push(a),a.parentNode=this;var e=this.childNodes[c-1];return e?(a.previousSibling=e,e.nextSibling=a):a.previousSibling=null,a.nextSibling=null,this.setLastChild(a),a.setOwnerTree(this.getOwnerTree()),this.fireEvent("append",this.ownerTree,this,a,c),d&&a.fireEvent("move",this.ownerTree,a,d,this,c),a}for(var f=0,g=b.length;g>f;f++)this.appendChild(b[f])},removeChild:function(a){var b=this.childNodes.indexOf(a);return-1==b?!1:this.fireEvent("beforeremove",this.ownerTree,this,a)===!1?!1:(this.childNodes.splice(b,1),a.previousSibling&&(a.previousSibling.nextSibling=a.nextSibling),a.nextSibling&&(a.nextSibling.previousSibling=a.previousSibling),this.firstChild==a&&this.setFirstChild(a.nextSibling),this.lastChild==a&&this.setLastChild(a.previousSibling),a.setOwnerTree(null),a.parentNode=null,a.previousSibling=null,a.nextSibling=null,this.fireEvent("remove",this.ownerTree,this,a),a)},insertBefore:function(a,b){if(!b)return this.appendChild(a);if(a==b)return!1;if(this.fireEvent("beforeinsert",this.ownerTree,this,a,b)===!1)return!1;var c=this.childNodes.indexOf(b),d=a.parentNode,e=c;if(d==this&&this.childNodes.indexOf(a)<c&&e--,d){if(a.fireEvent("beforemove",a.getOwnerTree(),a,d,this,c,b)===!1)return!1;d.removeChild(a)}0==e&&this.setFirstChild(a),this.childNodes.splice(e,0,a),a.parentNode=this;var f=this.childNodes[e-1];return f?(a.previousSibling=f,f.nextSibling=a):a.previousSibling=null,a.nextSibling=b,b.previousSibling=a,a.setOwnerTree(this.getOwnerTree()),this.fireEvent("insert",this.ownerTree,this,a,b),d&&a.fireEvent("move",this.ownerTree,a,d,this,e,b),a},item:function(a){return this.childNodes[a]},replaceChild:function(a,b){return this.insertBefore(a,b),this.removeChild(b),b},indexOf:function(a){return this.childNodes.indexOf(a)},getOwnerTree:function(){if(!this.ownerTree)for(var a=this;a;){if(a.ownerTree){this.ownerTree=a.ownerTree;break}a=a.parentNode}return this.ownerTree},getDepth:function(){for(var a=0,b=this;b.parentNode;)++a,b=b.parentNode;return a},setOwnerTree:function(a){if(a!=this.ownerTree){this.ownerTree&&this.ownerTree.unregisterNode(this),this.ownerTree=a;for(var b=this.childNodes,c=0,d=b.length;d>c;c++)b[c].setOwnerTree(a);a&&a.registerNode(this)}},getPath:function(a){a=a||"id";for(var b=this.parentNode,c=[this.attributes[a]];b;)c.unshift(b.attributes[a]),b=b.parentNode;var d=this.getOwnerTree().pathSeparator;return d+c.join(d)},bubble:function(a,b,c){for(var d=this;d&&a.call(b||d,c||d)!==!1;)d=d.parentNode},cascade:function(a,b,c){if(a.call(b||this,c||this)!==!1)for(var d=this.childNodes,e=0,f=d.length;f>e;e++)d[e].cascade(a,b,c)},eachChild:function(a,b,c){for(var d=this.childNodes,e=0,f=d.length;f>e&&a.call(b||this,c||d[e])!==!1;e++);},findChild:function(a,b){for(var c=this.childNodes,d=0,e=c.length;e>d;d++)if(c[d].attributes[a]==b)return c[d];return null},findChildBy:function(a,b){for(var c=this.childNodes,d=0,e=c.length;e>d;d++)if(a.call(b||c[d],c[d])===!0)return c[d];return null},sort:function(a,b){var c=this.childNodes,d=c.length;if(d>0){var e=b?function(){a.apply(b,arguments)}:a;c.sort(e);for(var f=0;d>f;f++){var g=c[f];g.previousSibling=c[f-1],g.nextSibling=c[f+1],0==f&&this.setFirstChild(g),f==d-1&&this.setLastChild(g)}}},contains:function(a){return a.isAncestor(this)},isAncestor:function(a){for(var b=this.parentNode;b;){if(b==a)return!0;b=b.parentNode}return!1},toString:function(){return"[Node"+(this.id?" "+this.id:"")+"]"}}),Ext.ComponentMgr=function(){var a=new Ext.util.MixedCollection;return{register:function(b){a.add(b)},unregister:function(b){a.remove(b)},get:function(b){return a.get(b)},onAvailable:function(b,c,d){a.on("add",function(e,f){f.id==b&&(c.call(d||f,f),a.un("add",c,d))})}}}(),Ext.Component=function(a){a=a||{},(a.tagName||a.dom||"string"==typeof a)&&(a={el:a,id:a.id||a}),this.initialConfig=a,Ext.apply(this,a),this.addEvents({disable:!0,enable:!0,beforeshow:!0,show:!0,beforehide:!0,hide:!0,beforerender:!0,render:!0,beforedestroy:!0,destroy:!0}),this.id||(this.id="ext-comp-"+ ++Ext.Component.AUTO_ID),Ext.ComponentMgr.register(this),Ext.Component.superclass.constructor.call(this),this.initComponent(),this.renderTo&&(this.render(this.renderTo),delete this.renderTo)},Ext.Component.AUTO_ID=1e3,Ext.extend(Ext.Component,Ext.util.Observable,{hidden:!1,disabled:!1,rendered:!1,disabledClass:"x-item-disabled",allowDomMove:!0,hideMode:"display",ctype:"Ext.Component",actionMode:"el",getActionEl:function(){return this[this.actionMode]},initComponent:Ext.emptyFn,render:function(a,b){return this.rendered||this.fireEvent("beforerender",this)===!1||(!a&&this.el&&(this.el=Ext.get(this.el),a=this.el.dom.parentNode,this.allowDomMove=!1),this.container=Ext.get(a),this.rendered=!0,void 0!==b&&(b="number"==typeof b?this.container.dom.childNodes[b]:Ext.getDom(b)),this.onRender(this.container,b||null),this.cls&&(this.el.addClass(this.cls),delete this.cls),this.style&&(this.el.applyStyles(this.style),delete this.style),this.fireEvent("render",this),this.afterRender(this.container),this.hidden&&this.hide(),this.disabled&&this.disable()),this},onRender:function(a,b){this.el&&(this.el=Ext.get(this.el),this.allowDomMove!==!1&&a.dom.insertBefore(this.el.dom,b))},getAutoCreate:function(){var a="object"==typeof this.autoCreate?this.autoCreate:Ext.apply({},this.defaultAutoCreate);return this.id&&!a.id&&(a.id=this.id),a},afterRender:Ext.emptyFn,destroy:function(){this.fireEvent("beforedestroy",this)!==!1&&(this.purgeListeners(),this.beforeDestroy(),this.rendered&&(this.el.removeAllListeners(),this.el.remove(),"container"==this.actionMode&&this.container.remove()),this.onDestroy(),Ext.ComponentMgr.unregister(this),this.fireEvent("destroy",this));
},beforeDestroy:function(){},onDestroy:function(){},getEl:function(){return this.el},getId:function(){return this.id},focus:function(a){return this.rendered&&(this.el.focus(),a===!0&&this.el.dom.select()),this},blur:function(){return this.rendered&&this.el.blur(),this},disable:function(){return this.rendered&&this.onDisable(),this.disabled=!0,this.fireEvent("disable",this),this},onDisable:function(){this.getActionEl().addClass(this.disabledClass),this.el.dom.disabled=!0},enable:function(){return this.rendered&&this.onEnable(),this.disabled=!1,this.fireEvent("enable",this),this},onEnable:function(){this.getActionEl().removeClass(this.disabledClass),this.el.dom.disabled=!1},setDisabled:function(a){this[a?"disable":"enable"]()},show:function(){return this.fireEvent("beforeshow",this)!==!1&&(this.hidden=!1,this.rendered&&this.onShow(),this.fireEvent("show",this)),this},onShow:function(){var a=this.getActionEl();"visibility"==this.hideMode?a.dom.style.visibility="visible":"offsets"==this.hideMode?a.removeClass("x-hidden"):a.dom.style.display=""},hide:function(){return this.fireEvent("beforehide",this)!==!1&&(this.hidden=!0,this.rendered&&this.onHide(),this.fireEvent("hide",this)),this},onHide:function(){var a=this.getActionEl();"visibility"==this.hideMode?a.dom.style.visibility="hidden":"offsets"==this.hideMode?a.addClass("x-hidden"):a.dom.style.display="none"},setVisible:function(a){return a?this.show():this.hide(),this},isVisible:function(){return this.getActionEl().isVisible()},cloneConfig:function(a){a=a||{};var b=a.id||Ext.id(),c=Ext.applyIf(a,this.initialConfig);return c.id=b,new this.constructor(c)}}),function(){Ext.Layer=function(a,b){a=a||{};var c=Ext.DomHelper,d=a.parentEl,e=d?Ext.getDom(d):document.body;if(b&&(this.dom=Ext.getDom(b)),!this.dom){var f=a.dh||{tag:"div",cls:"x-layer"};this.dom=c.append(e,f)}a.cls&&this.addClass(a.cls),this.constrain=a.constrain!==!1,this.visibilityMode=Ext.Element.VISIBILITY,a.id?this.id=this.dom.id=a.id:this.id=Ext.id(this.dom),this.zindex=a.zindex||this.getZIndex(),this.position("absolute",this.zindex),a.shadow?(this.shadowOffset=a.shadowOffset||4,this.shadow=new Ext.Shadow({offset:this.shadowOffset,mode:a.shadow})):this.shadowOffset=0,this.useShim=a.shim!==!1&&Ext.useShims,this.useDisplay=a.useDisplay,this.hide()};var a=Ext.Element.prototype,b=[];Ext.extend(Ext.Layer,Ext.Element,{getZIndex:function(){return this.zindex||parseInt(this.getStyle("z-index"),10)||11e3},getShim:function(){if(!this.useShim)return null;if(this.shim)return this.shim;var a=b.shift();a||(a=this.createShim(),a.enableDisplayMode("block"),a.dom.style.display="none",a.dom.style.visibility="visible");var c=this.dom.parentNode;return a.dom.parentNode!=c&&c.insertBefore(a.dom,this.dom),a.setStyle("z-index",this.getZIndex()-2),this.shim=a,a},hideShim:function(){this.shim&&(this.shim.setDisplayed(!1),b.push(this.shim),delete this.shim)},disableShadow:function(){this.shadow&&(this.shadowDisabled=!0,this.shadow.hide(),this.lastShadowOffset=this.shadowOffset,this.shadowOffset=0)},enableShadow:function(a){this.shadow&&(this.shadowDisabled=!1,this.shadowOffset=this.lastShadowOffset,delete this.lastShadowOffset,a&&this.sync(!0))},sync:function(a){var b=this.shadow;if(!this.updating&&this.isVisible()&&(b||this.useShim)){var c=this.getShim(),d=this.getWidth(),e=this.getHeight(),f=this.getLeft(!0),g=this.getTop(!0);if(b&&!this.shadowDisabled){if(a&&!b.isVisible()?b.show(this):b.realign(f,g,d,e),c){a&&c.show();var h=b.adjusts,i=c.dom.style;i.left=Math.min(f,f+h.l)+"px",i.top=Math.min(g,g+h.t)+"px",i.width=d+h.w+"px",i.height=e+h.h+"px"}}else c&&(a&&c.show(),c.setSize(d,e),c.setLeftTop(f,g))}},destroy:function(){this.hideShim(),this.shadow&&this.shadow.hide(),this.removeAllListeners();var a=this.dom.parentNode;a&&a.removeChild(this.dom),Ext.Element.uncache(this.id)},remove:function(){this.destroy()},beginUpdate:function(){this.updating=!0},endUpdate:function(){this.updating=!1,this.sync(!0)},hideUnders:function(a){this.shadow&&this.shadow.hide(),this.hideShim()},constrainXY:function(){if(this.constrain){var b=Ext.lib.Dom.getViewWidth(),c=Ext.lib.Dom.getViewHeight(),d=Ext.get(document).getScroll(),e=this.getXY(),f=e[0],g=e[1],h=this.dom.offsetWidth+this.shadowOffset,i=this.dom.offsetHeight+this.shadowOffset,j=!1;if(f+h>b+d.left&&(f=b-h-this.shadowOffset,j=!0),g+i>c+d.top&&(g=c-i-this.shadowOffset,j=!0),f<d.left&&(f=d.left,j=!0),g<d.top&&(g=d.top,j=!0),j){if(this.avoidY){var k=this.avoidY;k>=g&&g+i>=k&&(g=k-i-5)}e=[f,g],this.storeXY(e),a.setXY.call(this,e),this.sync()}}},isVisible:function(){return this.visible},showAction:function(){this.visible=!0,this.useDisplay===!0?this.setDisplayed(""):this.lastXY?a.setXY.call(this,this.lastXY):this.lastLT&&a.setLeftTop.call(this,this.lastLT[0],this.lastLT[1])},hideAction:function(){this.visible=!1,this.useDisplay===!0?this.setDisplayed(!1):this.setLeftTop(-1e4,-1e4)},setVisible:function(b,c,d,e,f){if(b&&this.showAction(),c&&b){var g=function(){this.sync(!0),e&&e()}.createDelegate(this);a.setVisible.call(this,!0,!0,d,g,f)}else{b||this.hideUnders(!0);var g=e;c&&(g=function(){this.hideAction(),e&&e()}.createDelegate(this)),a.setVisible.call(this,b,c,d,g,f),b?this.sync(!0):c||this.hideAction()}},storeXY:function(a){delete this.lastLT,this.lastXY=a},storeLeftTop:function(a,b){delete this.lastXY,this.lastLT=[a,b]},beforeFx:function(){return this.beforeAction(),Ext.Layer.superclass.beforeFx.apply(this,arguments)},afterFx:function(){Ext.Layer.superclass.afterFx.apply(this,arguments),this.sync(this.isVisible())},beforeAction:function(){!this.updating&&this.shadow&&this.shadow.hide()},setLeft:function(b){this.storeLeftTop(b,this.getTop(!0)),a.setLeft.apply(this,arguments),this.sync()},setTop:function(b){this.storeLeftTop(this.getLeft(!0),b),a.setTop.apply(this,arguments),this.sync()},setLeftTop:function(b,c){this.storeLeftTop(b,c),a.setLeftTop.apply(this,arguments),this.sync()},setXY:function(b,c,d,e,f){this.fixDisplay(),this.beforeAction(),this.storeXY(b);var g=this.createCB(e);a.setXY.call(this,b,c,d,g,f),c||g()},createCB:function(a){var b=this;return function(){b.constrainXY(),b.sync(!0),a&&a()}},setX:function(a,b,c,d,e){this.setXY([a,this.getY()],b,c,d,e)},setY:function(a,b,c,d,e){this.setXY([this.getX(),a],b,c,d,e)},setSize:function(b,c,d,e,f,g){this.beforeAction();var h=this.createCB(f);a.setSize.call(this,b,c,d,e,h,g),d||h()},setWidth:function(b,c,d,e,f){this.beforeAction();var g=this.createCB(e);a.setWidth.call(this,b,c,d,g,f),c||g()},setHeight:function(b,c,d,e,f){this.beforeAction();var g=this.createCB(e);a.setHeight.call(this,b,c,d,g,f),c||g()},setBounds:function(b,c,d,e,f,g,h,i){this.beforeAction();var j=this.createCB(h);return f?a.setBounds.call(this,b,c,d,e,f,g,j,i):(this.storeXY([b,c]),a.setXY.call(this,[b,c]),a.setSize.call(this,d,e,f,g,j,i),j()),this},setZIndex:function(a){this.zindex=a,this.setStyle("z-index",a+2),this.shadow&&this.shadow.setZIndex(a+1),this.shim&&this.shim.setStyle("z-index",a)}})}(),Ext.Shadow=function(a){Ext.apply(this,a),"string"!=typeof this.mode&&(this.mode=this.defaultMode);var b=this.offset,c={h:0},d=Math.floor(this.offset/2);switch(this.mode.toLowerCase()){case"drop":c.w=0,c.l=c.t=b,c.t-=1,Ext.isIE&&(c.l-=this.offset+d,c.t-=this.offset+d,c.w-=d,c.h-=d,c.t+=1);break;case"sides":c.w=2*b,c.l=-b,c.t=b-1,Ext.isIE&&(c.l-=this.offset-d,c.t-=this.offset+d,c.l+=1,c.w-=2*(this.offset-d),c.w-=d+1,c.h-=1);break;case"frame":c.w=c.h=2*b,c.l=c.t=-b,c.t+=1,c.h-=2,Ext.isIE&&(c.l-=this.offset-d,c.t-=this.offset-d,c.l+=1,c.w-=this.offset+d+1,c.h-=this.offset+d,c.h+=1)}this.adjusts=c},Ext.Shadow.prototype={offset:4,defaultMode:"drop",show:function(a){a=Ext.get(a),this.el||(this.el=Ext.Shadow.Pool.pull(),this.el.dom.nextSibling!=a.dom&&this.el.insertBefore(a)),this.el.setStyle("z-index",this.zIndex||parseInt(a.getStyle("z-index"),10)-1),Ext.isIE&&(this.el.dom.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity=50) progid:DXImageTransform.Microsoft.Blur(pixelradius="+this.offset+")"),this.realign(a.getLeft(!0),a.getTop(!0),a.getWidth(),a.getHeight()),this.el.dom.style.display="block"},isVisible:function(){return this.el?!0:!1},realign:function(a,b,c,d){if(this.el){var e=this.adjusts,f=this.el.dom,g=f.style;g.left=a+e.l+"px",g.top=b+e.t+"px";var h=c+e.w,i=d+e.h,j=h+"px",k=i+"px";if((g.width!=j||g.height!=k)&&(g.width=j,g.height=k,!Ext.isIE)){var l=f.childNodes,m=Math.max(0,h-12)+"px";l[0].childNodes[1].style.width=m,l[1].childNodes[1].style.width=m,l[2].childNodes[1].style.width=m,l[1].style.height=Math.max(0,i-12)+"px"}}},hide:function(){this.el&&(this.el.dom.style.display="none",Ext.Shadow.Pool.push(this.el),delete this.el)},setZIndex:function(a){this.zIndex=a,this.el&&this.el.setStyle("z-index",a)}},Ext.Shadow.Pool=function(){var a=[],b=Ext.isIE?'<div class="x-ie-shadow"></div>':'<div class="x-shadow"><div class="xst"><div class="xstl"></div><div class="xstc"></div><div class="xstr"></div></div><div class="xsc"><div class="xsml"></div><div class="xsmc"></div><div class="xsmr"></div></div><div class="xsb"><div class="xsbl"></div><div class="xsbc"></div><div class="xsbr"></div></div></div>';return{pull:function(){var c=a.shift();return c||(c=Ext.get(Ext.DomHelper.insertHtml("beforeBegin",document.body.firstChild,b)),c.autoBoxAdjust=!1),c},push:function(b){a.push(b)}}}(),Ext.BoxComponent=function(a){Ext.BoxComponent.superclass.constructor.call(this,a),this.addEvents({resize:!0,move:!0})},Ext.extend(Ext.BoxComponent,Ext.Component,{boxReady:!1,deferHeight:!1,setSize:function(a,b){if("object"==typeof a&&(b=a.height,a=a.width),!this.boxReady)return this.width=a,this.height=b,this;if(this.lastSize&&this.lastSize.width==a&&this.lastSize.height==b)return this;this.lastSize={width:a,height:b};var c=this.adjustSize(a,b),d=c.width,e=c.height;if(void 0!==d||void 0!==e){var f=this.getResizeEl();this.deferHeight||void 0===d||void 0===e?this.deferHeight||void 0===e?void 0!==d&&f.setWidth(d):f.setHeight(e):f.setSize(d,e),this.onResize(d,e,a,b),this.fireEvent("resize",this,d,e,a,b)}return this},getSize:function(){return this.el.getSize()},getPosition:function(a){return a===!0?[this.el.getLeft(!0),this.el.getTop(!0)]:this.xy||this.el.getXY()},getBox:function(a){var b=this.el.getSize();if(a)b.x=this.el.getLeft(!0),b.y=this.el.getTop(!0);else{var c=this.xy||this.el.getXY();b.x=c[0],b.y=c[1]}return b},updateBox:function(a){return this.setSize(a.width,a.height),this.setPagePosition(a.x,a.y),this},getResizeEl:function(){return this.resizeEl||this.el},getPositionEl:function(){return this.positionEl||this.el},setPosition:function(a,b){if(this.x=a,this.y=b,!this.boxReady)return this;var c=this.adjustPosition(a,b),d=c.x,e=c.y,f=this.getPositionEl();return(void 0!==d||void 0!==e)&&(void 0!==d&&void 0!==e?f.setLeftTop(d,e):void 0!==d?f.setLeft(d):void 0!==e&&f.setTop(e),this.onPosition(d,e),this.fireEvent("move",this,d,e)),this},setPagePosition:function(a,b){if(this.pageX=a,this.pageY=b,this.boxReady&&void 0!==a&&void 0!==b){var c=this.el.translatePoints(a,b);return this.setPosition(c.left,c.top),this}},onRender:function(a,b){Ext.BoxComponent.superclass.onRender.call(this,a,b),this.resizeEl&&(this.resizeEl=Ext.get(this.resizeEl)),this.positionEl&&(this.positionEl=Ext.get(this.positionEl))},afterRender:function(){Ext.BoxComponent.superclass.afterRender.call(this),this.boxReady=!0,this.setSize(this.width,this.height),(this.x||this.y)&&this.setPosition(this.x,this.y),(this.pageX||this.pageY)&&this.setPagePosition(this.pageX,this.pageY)},syncSize:function(){return delete this.lastSize,this.setSize(this.el.getWidth(),this.el.getHeight()),this},onResize:function(a,b,c,d){},onPosition:function(a,b){},adjustSize:function(a,b){return this.autoWidth&&(a="auto"),this.autoHeight&&(b="auto"),{width:a,height:b}},adjustPosition:function(a,b){return{x:a,y:b}}}),Ext.SplitBar=function(a,b,c,d,e){this.el=Ext.get(a,!0),this.el.dom.unselectable="on",this.resizingEl=Ext.get(b,!0),this.orientation=c||Ext.SplitBar.HORIZONTAL,this.minSize=0,this.maxSize=2e3,this.animate=!1,this.useShim=!1,this.shim=null,e?this.proxy=Ext.get(e).dom:this.proxy=Ext.SplitBar.createProxy(this.orientation),this.dd=new Ext.dd.DDProxy(this.el.dom.id,"XSplitBars",{dragElId:this.proxy.id}),this.dd.b4StartDrag=this.onStartProxyDrag.createDelegate(this),this.dd.endDrag=this.onEndProxyDrag.createDelegate(this),this.dragSpecs={},this.adapter=new Ext.SplitBar.BasicLayoutAdapter,this.adapter.init(this),this.orientation==Ext.SplitBar.HORIZONTAL?(this.placement=d||(this.el.getX()>this.resizingEl.getX()?Ext.SplitBar.LEFT:Ext.SplitBar.RIGHT),this.el.addClass("x-splitbar-h")):(this.placement=d||(this.el.getY()>this.resizingEl.getY()?Ext.SplitBar.TOP:Ext.SplitBar.BOTTOM),this.el.addClass("x-splitbar-v")),this.addEvents({resize:!0,moved:!0,beforeresize:!0,beforeapply:!0}),Ext.SplitBar.superclass.constructor.call(this)},Ext.extend(Ext.SplitBar,Ext.util.Observable,{onStartProxyDrag:function(a,b){if(this.fireEvent("beforeresize",this),!this.overlay){var c=Ext.DomHelper.insertFirst(document.body,{cls:"x-drag-overlay",html:"&#160;"},!0);c.unselectable(),c.enableDisplayMode("block"),Ext.SplitBar.prototype.overlay=c}this.overlay.setSize(Ext.lib.Dom.getViewWidth(!0),Ext.lib.Dom.getViewHeight(!0)),this.overlay.show(),Ext.get(this.proxy).setDisplayed("block");var d=this.adapter.getElementSize(this);this.activeMinSize=this.getMinimumSize(),this.activeMaxSize=this.getMaximumSize();var e=d-this.activeMinSize,f=Math.max(this.activeMaxSize-d,0);this.orientation==Ext.SplitBar.HORIZONTAL?(this.dd.resetConstraints(),this.dd.setXConstraint(this.placement==Ext.SplitBar.LEFT?e:f,this.placement==Ext.SplitBar.LEFT?f:e),this.dd.setYConstraint(0,0)):(this.dd.resetConstraints(),this.dd.setXConstraint(0,0),this.dd.setYConstraint(this.placement==Ext.SplitBar.TOP?e:f,this.placement==Ext.SplitBar.TOP?f:e)),this.dragSpecs.startSize=d,this.dragSpecs.startPoint=[a,b],Ext.dd.DDProxy.prototype.b4StartDrag.call(this.dd,a,b)},onEndProxyDrag:function(a){Ext.get(this.proxy).setDisplayed(!1);var b=Ext.lib.Event.getXY(a);this.overlay&&this.overlay.hide();var c;c=this.orientation==Ext.SplitBar.HORIZONTAL?this.dragSpecs.startSize+(this.placement==Ext.SplitBar.LEFT?b[0]-this.dragSpecs.startPoint[0]:this.dragSpecs.startPoint[0]-b[0]):this.dragSpecs.startSize+(this.placement==Ext.SplitBar.TOP?b[1]-this.dragSpecs.startPoint[1]:this.dragSpecs.startPoint[1]-b[1]),c=Math.min(Math.max(c,this.activeMinSize),this.activeMaxSize),c!=this.dragSpecs.startSize&&this.fireEvent("beforeapply",this,c)!==!1&&(this.adapter.setElementSize(this,c),this.fireEvent("moved",this,c),this.fireEvent("resize",this,c))},getAdapter:function(){return this.adapter},setAdapter:function(a){this.adapter=a,this.adapter.init(this)},getMinimumSize:function(){return this.minSize},setMinimumSize:function(a){this.minSize=a},getMaximumSize:function(){return this.maxSize},setMaximumSize:function(a){this.maxSize=a},setCurrentSize:function(a){var b=this.animate;this.animate=!1,this.adapter.setElementSize(this,a),this.animate=b},destroy:function(a){this.shim&&this.shim.remove(),this.dd.unreg(),this.proxy.parentNode.removeChild(this.proxy),a&&this.el.remove()}}),Ext.SplitBar.createProxy=function(a){var b=new Ext.Element(document.createElement("div"));b.unselectable();var c="x-splitbar-proxy";return b.addClass(c+" "+(a==Ext.SplitBar.HORIZONTAL?c+"-h":c+"-v")),document.body.appendChild(b.dom),b.dom},Ext.SplitBar.BasicLayoutAdapter=function(){},Ext.SplitBar.BasicLayoutAdapter.prototype={init:function(a){},getElementSize:function(a){return a.orientation==Ext.SplitBar.HORIZONTAL?a.resizingEl.getWidth():a.resizingEl.getHeight()},setElementSize:function(a,b,c){a.orientation==Ext.SplitBar.HORIZONTAL?a.animate?a.resizingEl.setWidth(b,!0,.1,c,"easeOut"):(a.resizingEl.setWidth(b),c&&c(a,b)):a.animate?a.resizingEl.setHeight(b,!0,.1,c,"easeOut"):(a.resizingEl.setHeight(b),c&&c(a,b))}},Ext.SplitBar.AbsoluteLayoutAdapter=function(a){this.basic=new Ext.SplitBar.BasicLayoutAdapter,this.container=Ext.get(a)},Ext.SplitBar.AbsoluteLayoutAdapter.prototype={init:function(a){this.basic.init(a)},getElementSize:function(a){return this.basic.getElementSize(a)},setElementSize:function(a,b,c){this.basic.setElementSize(a,b,this.moveSplitter.createDelegate(this,[a]))},moveSplitter:function(a){var b=Ext.SplitBar;switch(a.placement){case b.LEFT:a.el.setX(a.resizingEl.getRight());break;case b.RIGHT:a.el.setStyle("right",this.container.getWidth()-a.resizingEl.getLeft()+"px");break;case b.TOP:a.el.setY(a.resizingEl.getBottom());break;case b.BOTTOM:a.el.setY(a.resizingEl.getTop()-a.el.getHeight())}}},Ext.SplitBar.VERTICAL=1,Ext.SplitBar.HORIZONTAL=2,Ext.SplitBar.LEFT=1,Ext.SplitBar.RIGHT=2,Ext.SplitBar.TOP=3,Ext.SplitBar.BOTTOM=4,Ext.View=function(a,b,c){this.el=Ext.get(a),"string"==typeof b&&(b=new Ext.Template(b)),b.compile(),this.tpl=b,Ext.apply(this,c),this.addEvents({beforeclick:!0,click:!0,dblclick:!0,contextmenu:!0,selectionchange:!0,beforeselect:!0}),this.el.on({click:this.onClick,dblclick:this.onDblClick,contextmenu:this.onContextMenu,scope:this}),this.selections=[],this.nodes=[],this.cmp=new Ext.CompositeElementLite([]),this.store&&this.setStore(this.store,!0),Ext.View.superclass.constructor.call(this)},Ext.extend(Ext.View,Ext.util.Observable,{selectedClass:"x-view-selected",emptyText:"",getEl:function(){return this.el},refresh:function(){var a=this.tpl;this.clearSelections(),this.el.update("");var b=[],c=this.store.getRange();if(c.length<1)return void this.el.update(this.emptyText);for(var d=0,e=c.length;e>d;d++){var f=this.prepareData(c[d].data,d,c[d]);b[b.length]=a.apply(f)}this.el.update(b.join("")),this.nodes=this.el.dom.childNodes,this.updateIndexes(0)},prepareData:function(a){return a},onUpdate:function(a,b){this.clearSelections();var c=this.store.indexOf(b),d=this.nodes[c];this.tpl.insertBefore(d,this.prepareData(b.data)),d.parentNode.removeChild(d),this.updateIndexes(c,c)},onAdd:function(a,b,c){if(this.clearSelections(),0==this.nodes.length)return void this.refresh();for(var d=this.nodes[c],e=0,f=b.length;f>e;e++){var g=this.prepareData(b[e].data);d?this.tpl.insertBefore(d,g):this.tpl.append(this.el,g)}this.updateIndexes(c)},onRemove:function(a,b,c){this.clearSelections(),this.el.dom.removeChild(this.nodes[c]),this.updateIndexes(c)},refreshNode:function(a){this.onUpdate(this.store,this.store.getAt(a))},updateIndexes:function(a,b){var c=this.nodes;a=a||0,b=b||c.length-1;for(var d=a;b>=d;d++)c[d].nodeIndex=d},setStore:function(a,b){!b&&this.store&&(this.store.un("datachanged",this.refresh),this.store.un("add",this.onAdd),this.store.un("remove",this.onRemove),this.store.un("update",this.onUpdate),this.store.un("clear",this.refresh)),a&&(a.on("datachanged",this.refresh,this),a.on("add",this.onAdd,this),a.on("remove",this.onRemove,this),a.on("update",this.onUpdate,this),a.on("clear",this.refresh,this)),this.store=a,a&&this.refresh()},findItemFromChild:function(a){var b=this.el.dom;if(!a||a.parentNode==b)return a;for(var c=a.parentNode;c&&c!=b;){if(c.parentNode==b)return c;c=c.parentNode}return null},onClick:function(a){var b=this.findItemFromChild(a.getTarget());if(b){var c=this.indexOf(b);this.onItemClick(b,c,a)!==!1&&this.fireEvent("click",this,c,b,a)}else this.clearSelections()},onContextMenu:function(a){var b=this.findItemFromChild(a.getTarget());b&&this.fireEvent("contextmenu",this,this.indexOf(b),b,a)},onDblClick:function(a){var b=this.findItemFromChild(a.getTarget());b&&this.fireEvent("dblclick",this,this.indexOf(b),b,a)},onItemClick:function(a,b,c){return this.fireEvent("beforeclick",this,b,a,c)===!1?!1:((this.multiSelect||this.singleSelect)&&(this.multiSelect&&c.shiftKey&&this.lastSelection?this.select(this.getNodes(this.indexOf(this.lastSelection),b),!1):(this.select(a,this.multiSelect&&c.ctrlKey),this.lastSelection=a),c.preventDefault()),!0)},getSelectionCount:function(){return this.selections.length},getSelectedNodes:function(){return this.selections},getSelectedIndexes:function(){for(var a=[],b=this.selections,c=0,d=b.length;d>c;c++)a.push(b[c].nodeIndex);return a},clearSelections:function(a){this.nodes&&(this.multiSelect||this.singleSelect)&&this.selections.length>0&&(this.cmp.elements=this.selections,this.cmp.removeClass(this.selectedClass),this.selections=[],a||this.fireEvent("selectionchange",this,this.selections))},isSelected:function(a){var b=this.selections;return b.length<1?!1:(a=this.getNode(a),-1!==b.indexOf(a))},select:function(a,b,c){if(a instanceof Array){b||this.clearSelections(!0);for(var d=0,e=a.length;e>d;d++)this.select(a[d],!0,!0)}else{var f=this.getNode(a);f&&!this.isSelected(f)&&(b||this.clearSelections(!0),this.fireEvent("beforeselect",this,f,this.selections)!==!1&&(Ext.fly(f).addClass(this.selectedClass),this.selections.push(f),c||this.fireEvent("selectionchange",this,this.selections)))}},getNode:function(a){return"string"==typeof a?document.getElementById(a):"number"==typeof a?this.nodes[a]:a},getNodes:function(a,b){var c=this.nodes;a=a||0,b="undefined"==typeof b?c.length-1:b;var d=[];if(b>=a)for(var e=a;b>=e;e++)d.push(c[e]);else for(var e=a;e>=b;e--)d.push(c[e]);return d},indexOf:function(a){if(a=this.getNode(a),"number"==typeof a.nodeIndex)return a.nodeIndex;for(var b=this.nodes,c=0,d=b.length;d>c;c++)if(b[c]==a)return c;return-1}}),Ext.JsonView=function(a,b,c){Ext.JsonView.superclass.constructor.call(this,a,b,c);var d=this.el.getUpdateManager();d.setRenderer(this),d.on("update",this.onLoad,this),d.on("failure",this.onLoadException,this),this.addEvents({beforerender:!0,load:!0,loadexception:!0})},Ext.extend(Ext.JsonView,Ext.View,{jsonRoot:"",refresh:function(){this.clearSelections(),this.el.update("");var a=[],b=this.jsonData;if(b&&b.length>0)for(var c=0,d=b.length;d>c;c++){var e=this.prepareData(b[c],c,b);a[a.length]=this.tpl.apply(e)}else a.push(this.emptyText);this.el.update(a.join("")),this.nodes=this.el.dom.childNodes,this.updateIndexes(0)},load:function(){var a=this.el.getUpdateManager();a.update.apply(a,arguments)},render:function(el,response){this.clearSelections(),this.el.update("");var o;try{o=Ext.util.JSON.decode(response.responseText),this.jsonRoot&&(o=eval("o."+this.jsonRoot))}catch(e){}this.jsonData=o,this.beforeRender(),this.refresh()},getCount:function(){return this.jsonData?this.jsonData.length:0},getNodeData:function(a){if(a instanceof Array){for(var b=[],c=0,d=a.length;d>c;c++)b.push(this.getNodeData(a[c]));return b}return this.jsonData[this.indexOf(a)]||null},beforeRender:function(){this.snapshot=this.jsonData,this.sortInfo&&this.sort.apply(this,this.sortInfo),this.fireEvent("beforerender",this,this.jsonData)},onLoad:function(a,b){this.fireEvent("load",this,this.jsonData,b)},onLoadException:function(a,b){this.fireEvent("loadexception",this,b)},filter:function(a,b){if(this.jsonData){var c=[],d=this.snapshot;if("string"==typeof b){var e=b.length;if(0==e)return void this.clearFilter();b=b.toLowerCase();for(var f=0,g=d.length;g>f;f++){var h=d[f];h[a].substr(0,e).toLowerCase()==b&&c.push(h)}}else{if(!b.exec)return;for(var f=0,g=d.length;g>f;f++){var h=d[f];b.test(h[a])&&c.push(h)}}this.jsonData=c,this.refresh()}},filterBy:function(a,b){if(this.jsonData){for(var c=[],d=this.snapshot,e=0,f=d.length;f>e;e++){var g=d[e];a.call(b||this,g)&&c.push(g)}this.jsonData=c,this.refresh()}},clearFilter:function(){this.snapshot&&this.jsonData!=this.snapshot&&(this.jsonData=this.snapshot,this.refresh())},sort:function(a,b,c){if(this.sortInfo=Array.prototype.slice.call(arguments,0),this.jsonData){var d=a,e=b&&"desc"==b.toLowerCase(),f=function(a,b){var f=c?c(a[d]):a[d],g=c?c(b[d]):b[d];return g>f?e?1:-1:f>g?e?-1:1:0};this.jsonData.sort(f),this.refresh(),this.jsonData!=this.snapshot&&this.snapshot.sort(f)}}}),Ext.ColorPalette=function(a){Ext.ColorPalette.superclass.constructor.call(this,a),this.addEvents({select:!0}),this.handler&&this.on("select",this.handler,this.scope,!0)},Ext.extend(Ext.ColorPalette,Ext.Component,{itemCls:"x-color-palette",value:null,clickEvent:"click",ctype:"Ext.ColorPalette",allowReselect:!1,colors:["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","969696","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","FFFFFF"],onRender:function(a,b){for(var c=new Ext.MasterTemplate('<tpl><a href="#" class="color-{0}" hidefocus="on"><em><span style="background:#{0}" unselectable="on">&#160;</span></em></a></tpl>'),d=this.colors,e=0,f=d.length;f>e;e++)c.add([d[e]]);var g=document.createElement("div");g.className=this.itemCls,c.overwrite(g),a.dom.insertBefore(g,b),this.el=Ext.get(g),this.el.on(this.clickEvent,this.handleClick,this,{delegate:"a"}),"click"!=this.clickEvent&&this.el.on("click",Ext.emptyFn,this,{delegate:"a",preventDefault:!0})},afterRender:function(){if(Ext.ColorPalette.superclass.afterRender.call(this),this.value){var a=this.value;this.value=null,this.select(a)}},handleClick:function(a,b){if(a.preventDefault(),!this.disabled){var c=b.className.match(/(?:^|\s)color-(.{6})(?:\s|$)/)[1];this.select(c.toUpperCase())}},select:function(a){if(a=a.replace("#",""),a!=this.value||this.allowReselect){var b=this.el;this.value&&b.child("a.color-"+this.value).removeClass("x-color-palette-sel"),b.child("a.color-"+a).addClass("x-color-palette-sel"),this.value=a,this.fireEvent("select",this,a)}}}),Ext.DatePicker=function(a){if(Ext.DatePicker.superclass.constructor.call(this,a),this.value=a&&a.value?a.value.clearTime():(new Date).clearTime(),this.addEvents({select:!0}),this.handler&&this.on("select",this.handler,this.scope||this),!this.disabledDatesRE&&this.disabledDates){for(var b=this.disabledDates,c="(?:",d=0;d<b.length;d++)c+=b[d],d!=b.length-1&&(c+="|");this.disabledDatesRE=new RegExp(c+")")}},Ext.extend(Ext.DatePicker,Ext.Component,{todayText:"Today",okText:"&#160;OK&#160;",cancelText:"Cancel",todayTip:"{0} (Spacebar)",minDate:null,maxDate:null,minText:"This date is before the minimum date",maxText:"This date is after the maximum date",format:"m/d/y",disabledDays:null,disabledDaysText:"",disabledDatesRE:null,disabledDatesText:"",constrainToViewport:!0,monthNames:Date.monthNames,dayNames:Date.dayNames,nextText:"Next Month (Control+Right)",prevText:"Previous Month (Control+Left)",monthYearText:"Choose a month (Control+Up/Down to move years)",startDay:0,setValue:function(a){this.value;this.value=a.clearTime(!0),this.el&&this.update(this.value)},getValue:function(){return this.value},focus:function(){this.el&&this.update(this.activeDate)},onRender:function(a,b){for(var c=['<table cellspacing="0">','<tr><td class="x-date-left"><a href="#" title="',this.prevText,'">&#160;</a></td><td class="x-date-middle" align="center"></td><td class="x-date-right"><a href="#" title="',this.nextText,'">&#160;</a></td></tr>','<tr><td colspan="3"><table class="x-date-inner" cellspacing="0"><thead><tr>'],d=this.dayNames,e=0;7>e;e++){var f=this.startDay+e;f>6&&(f-=7),c.push("<th><span>",d[f].substr(0,1),"</span></th>")}c[c.length]="</tr></thead><tbody><tr>";for(var e=0;42>e;e++)e%7==0&&0!=e&&(c[c.length]="</tr><tr>"),c[c.length]='<td><a href="#" hidefocus="on" class="x-date-date" tabIndex="1"><em><span></span></em></a></td>';c[c.length]='</tr></tbody></table></td></tr><tr><td colspan="3" class="x-date-bottom" align="center"></td></tr></table><div class="x-date-mp"></div>';var g=document.createElement("div");g.className="x-date-picker",g.innerHTML=c.join(""),a.dom.insertBefore(g,b),this.el=Ext.get(g),this.eventEl=Ext.get(g.firstChild),new Ext.util.ClickRepeater(this.el.child("td.x-date-left a"),{handler:this.showPrevMonth,scope:this,preventDefault:!0,stopDefault:!0}),new Ext.util.ClickRepeater(this.el.child("td.x-date-right a"),{handler:this.showNextMonth,scope:this,preventDefault:!0,stopDefault:!0}),this.eventEl.on("mousewheel",this.handleMouseWheel,this),this.monthPicker=this.el.down("div.x-date-mp"),this.monthPicker.enableDisplayMode("block");new Ext.KeyNav(this.eventEl,{left:function(a){a.ctrlKey?this.showPrevMonth():this.update(this.activeDate.add("d",-1))},right:function(a){a.ctrlKey?this.showNextMonth():this.update(this.activeDate.add("d",1))},up:function(a){a.ctrlKey?this.showNextYear():this.update(this.activeDate.add("d",-7))},down:function(a){a.ctrlKey?this.showPrevYear():this.update(this.activeDate.add("d",7))},pageUp:function(a){this.showNextMonth()},pageDown:function(a){this.showPrevMonth()},enter:function(a){return a.stopPropagation(),!0},scope:this});this.eventEl.on("click",this.handleDateClick,this,{delegate:"a.x-date-date"}),this.eventEl.addKeyListener(Ext.EventObject.SPACE,this.selectToday,this),this.el.unselectable(),this.cells=this.el.select("table.x-date-inner tbody td"),this.textNodes=this.el.query("table.x-date-inner tbody span"),this.mbtn=new Ext.Button(this.el.child("td.x-date-middle",!0),{text:"&#160;",tooltip:this.monthYearText}),this.mbtn.on("click",this.showMonthPicker,this),this.mbtn.el.child(this.mbtn.menuClassTarget).addClass("x-btn-with-menu");var h=(new Date).dateFormat(this.format);new Ext.Button(this.el.child("td.x-date-bottom",!0),{text:String.format(this.todayText,h),tooltip:String.format(this.todayTip,h),handler:this.selectToday,scope:this});Ext.isIE&&this.el.repaint(),this.update(this.value)},createMonthPicker:function(){if(!this.monthPicker.dom.firstChild){for(var a=['<table border="0" cellspacing="0">'],b=0;6>b;b++)a.push('<tr><td class="x-date-mp-month"><a href="#">',this.monthNames[b].substr(0,3),"</a></td>",'<td class="x-date-mp-month x-date-mp-sep"><a href="#">',this.monthNames[b+6].substr(0,3),"</a></td>",0==b?'<td class="x-date-mp-ybtn" align="center"><a class="x-date-mp-prev"></a></td><td class="x-date-mp-ybtn" align="center"><a class="x-date-mp-next"></a></td></tr>':'<td class="x-date-mp-year"><a href="#"></a></td><td class="x-date-mp-year"><a href="#"></a></td></tr>');a.push('<tr class="x-date-mp-btns"><td colspan="4"><button type="button" class="x-date-mp-ok">',this.okText,'</button><button type="button" class="x-date-mp-cancel">',this.cancelText,"</button></td></tr>","</table>"),this.monthPicker.update(a.join("")),this.monthPicker.on("click",this.onMonthClick,this),this.monthPicker.on("dblclick",this.onMonthDblClick,this),this.mpMonths=this.monthPicker.select("td.x-date-mp-month"),this.mpYears=this.monthPicker.select("td.x-date-mp-year"),this.mpMonths.each(function(a,b,c){c+=1,c%2==0?a.dom.xmonth=5+Math.round(.5*c):a.dom.xmonth=Math.round(.5*(c-1))})}},showMonthPicker:function(){this.createMonthPicker();var a=this.el.getSize();this.monthPicker.setSize(a),this.monthPicker.child("table").setSize(a),this.mpSelMonth=(this.activeDate||this.value).getMonth(),this.updateMPMonth(this.mpSelMonth),this.mpSelYear=(this.activeDate||this.value).getFullYear(),this.updateMPYear(this.mpSelYear),this.monthPicker.slideIn("t",{duration:.2})},updateMPYear:function(a){this.mpyear=a;for(var b=this.mpYears.elements,c=1;10>=c;c++){var d,e=b[c-1];c%2==0?(d=a+Math.round(.5*c),e.firstChild.innerHTML=d,e.xyear=d):(d=a-(5-Math.round(.5*c)),e.firstChild.innerHTML=d,e.xyear=d),this.mpYears.item(c-1)[d==this.mpSelYear?"addClass":"removeClass"]("x-date-mp-sel")}},updateMPMonth:function(a){this.mpMonths.each(function(b,c,d){b[b.dom.xmonth==a?"addClass":"removeClass"]("x-date-mp-sel")})},selectMPMonth:function(a){},onMonthClick:function(a,b){a.stopEvent();var c,d=new Ext.Element(b);d.is("button.x-date-mp-cancel")?this.hideMonthPicker():d.is("button.x-date-mp-ok")?(this.update(new Date(this.mpSelYear,this.mpSelMonth,(this.activeDate||this.value).getDate())),this.hideMonthPicker()):(c=d.up("td.x-date-mp-month",2))?(this.mpMonths.removeClass("x-date-mp-sel"),c.addClass("x-date-mp-sel"),this.mpSelMonth=c.dom.xmonth):(c=d.up("td.x-date-mp-year",2))?(this.mpYears.removeClass("x-date-mp-sel"),c.addClass("x-date-mp-sel"),this.mpSelYear=c.dom.xyear):d.is("a.x-date-mp-prev")?this.updateMPYear(this.mpyear-10):d.is("a.x-date-mp-next")&&this.updateMPYear(this.mpyear+10);
},onMonthDblClick:function(a,b){a.stopEvent();var c,d=new Ext.Element(b);(c=d.up("td.x-date-mp-month",2))?(this.update(new Date(this.mpSelYear,c.dom.xmonth,(this.activeDate||this.value).getDate())),this.hideMonthPicker()):(c=d.up("td.x-date-mp-year",2))&&(this.update(new Date(c.dom.xyear,this.mpSelMonth,(this.activeDate||this.value).getDate())),this.hideMonthPicker())},hideMonthPicker:function(a){this.monthPicker&&(a===!0?this.monthPicker.hide():this.monthPicker.slideOut("t",{duration:.2}))},showPrevMonth:function(a){this.update(this.activeDate.add("mo",-1))},showNextMonth:function(a){this.update(this.activeDate.add("mo",1))},showPrevYear:function(){this.update(this.activeDate.add("y",-1))},showNextYear:function(){this.update(this.activeDate.add("y",1))},handleMouseWheel:function(a){var b=a.getWheelDelta();b>0?(this.showPrevMonth(),a.stopEvent()):0>b&&(this.showNextMonth(),a.stopEvent())},handleDateClick:function(a,b){a.stopEvent(),b.dateValue&&!Ext.fly(b.parentNode).hasClass("x-date-disabled")&&(this.setValue(new Date(b.dateValue)),this.fireEvent("select",this,this.value))},selectToday:function(){this.setValue((new Date).clearTime()),this.fireEvent("select",this,this.value)},update:function(a){var b=this.activeDate;if(this.activeDate=a,b&&this.el){var c=a.getTime();if(b.getMonth()==a.getMonth()&&b.getFullYear()==a.getFullYear())return this.cells.removeClass("x-date-selected"),void this.cells.each(function(a){return a.dom.firstChild.dateValue==c?(a.addClass("x-date-selected"),setTimeout(function(){try{a.dom.firstChild.focus()}catch(b){}},50),!1):void 0})}var d=a.getDaysInMonth(),e=a.getFirstDateOfMonth(),f=e.getDay()-this.startDay;f<=this.startDay&&(f+=7);var g=a.add("mo",-1),h=g.getDaysInMonth()-f,i=this.cells.elements,j=this.textNodes;d+=f;for(var k=new Date(g.getFullYear(),g.getMonth(),h).clearTime(),l=(new Date).clearTime().getTime(),m=a.clearTime().getTime(),n=this.minDate?this.minDate.clearTime():Number.NEGATIVE_INFINITY,o=this.maxDate?this.maxDate.clearTime():Number.POSITIVE_INFINITY,p=this.disabledDatesRE,q=this.disabledDatesText,r=this.disabledDays?this.disabledDays.join(""):!1,s=this.disabledDaysText,t=this.format,u=function(a,b){b.title="";var c=k.getTime();if(b.firstChild.dateValue=c,c==l&&(b.className+=" x-date-today",b.title=a.todayText),c==m&&(b.className+=" x-date-selected",setTimeout(function(){try{b.firstChild.focus()}catch(a){}},50)),n>c)return b.className=" x-date-disabled",void(b.title=a.minText);if(c>o)return b.className=" x-date-disabled",void(b.title=a.maxText);if(r&&-1!=r.indexOf(k.getDay())&&(b.title=s,b.className=" x-date-disabled"),p&&t){var d=k.dateFormat(t);p.test(d)&&(b.title=q.replace("%0",d),b.className=" x-date-disabled")}},v=0;f>v;v++)j[v].innerHTML=++h,k.setDate(k.getDate()+1),i[v].className="x-date-prevday",u(this,i[v]);for(;d>v;v++)intDay=v-f+1,j[v].innerHTML=intDay,k.setDate(k.getDate()+1),i[v].className="x-date-active",u(this,i[v]);for(var w=0;42>v;v++)j[v].innerHTML=++w,k.setDate(k.getDate()+1),i[v].className="x-date-nextday",u(this,i[v]);if(this.mbtn.setText(this.monthNames[a.getMonth()]+" "+a.getFullYear()),!this.internalRender){var x=this.el.dom.firstChild,y=x.offsetWidth;this.el.setWidth(y+this.el.getBorderWidth("lr")),Ext.fly(x).setWidth(y),this.internalRender=!0,Ext.isOpera&&!this.secondPass&&(x.rows[0].cells[1].style.width=y-(x.rows[0].cells[0].offsetWidth+x.rows[0].cells[2].offsetWidth)+"px",this.secondPass=!0,this.update.defer(10,this,[a]))}}}),Ext.TabPanel=function(a,b){this.el=Ext.get(a,!0),b&&("boolean"==typeof b?this.tabPosition=b?"bottom":"top":Ext.apply(this,b)),"bottom"==this.tabPosition&&(this.bodyEl=Ext.get(this.createBody(this.el.dom)),this.el.addClass("x-tabs-bottom")),this.stripWrap=Ext.get(this.createStrip(this.el.dom),!0),this.stripEl=Ext.get(this.createStripList(this.stripWrap.dom),!0),this.stripBody=Ext.get(this.stripWrap.dom.firstChild.firstChild,!0),Ext.isIE&&Ext.fly(this.stripWrap.dom.firstChild).setStyle("overflow-x","hidden"),"bottom"!=this.tabPosition&&(this.bodyEl=Ext.get(this.createBody(this.el.dom)),this.el.addClass("x-tabs-top")),this.items=[],this.bodyEl.setStyle("position","relative"),this.active=null,this.activateDelegate=this.activate.createDelegate(this),this.addEvents({tabchange:!0,beforetabchange:!0}),Ext.EventManager.onWindowResize(this.onResize,this),this.cpad=this.el.getPadding("lr"),this.hiddenCount=0,Ext.TabPanel.superclass.constructor.call(this)},Ext.extend(Ext.TabPanel,Ext.util.Observable,{tabPosition:"top",currentTabWidth:0,minTabWidth:40,maxTabWidth:250,preferredTabWidth:175,resizeTabs:!1,monitorResize:!0,addTab:function(a,b,c,d){var e=new Ext.TabPanelItem(this,a,b,d);return this.addTabItem(e),c&&e.setContent(c),e},getTab:function(a){return this.items[a]},hideTab:function(a){var b=this.items[a];b.isHidden()||(b.setHidden(!0),this.hiddenCount++,this.autoSizeTabs())},unhideTab:function(a){var b=this.items[a];b.isHidden()&&(b.setHidden(!1),this.hiddenCount--,this.autoSizeTabs())},addTabItem:function(a){this.items[a.id]=a,this.items.push(a),this.resizeTabs?(a.setWidth(this.currentTabWidth||this.preferredTabWidth),this.autoSizeTabs()):a.autoSize()},removeTab:function(a){var b=this.items,c=b[a];if(c){var d=b.indexOf(c);if(this.active==c&&b.length>1){var e=this.getNextAvailable(d);e&&e.activate()}this.stripEl.dom.removeChild(c.pnode.dom),c.bodyEl.dom.parentNode==this.bodyEl.dom&&this.bodyEl.dom.removeChild(c.bodyEl.dom),b.splice(d,1),delete this.items[c.id],c.fireEvent("close",c),c.purgeListeners(),this.autoSizeTabs()}},getNextAvailable:function(a){for(var b=this.items,c=a;c<b.length;){var d=b[++c];if(d&&!d.isHidden())return d}for(c=a;c>=0;){var d=b[--c];if(d&&!d.isHidden())return d}return null},disableTab:function(a){var b=this.items[a];b&&this.active!=b&&b.disable()},enableTab:function(a){var b=this.items[a];b.enable()},activate:function(a){var b=this.items[a];if(!b)return null;if(b==this.active||b.disabled)return b;var c={};return this.fireEvent("beforetabchange",this,c,b),c.cancel===!0||b.disabled||(this.active&&this.active.hide(),this.active=this.items[a],this.active.show(),this.fireEvent("tabchange",this,this.active)),b},getActiveTab:function(){return this.active},syncHeight:function(a){var b=(a||this.el.getHeight())-this.el.getBorderWidth("tb")-this.el.getPadding("tb"),c=this.bodyEl.getMargins(),d=b-(this.stripWrap.getHeight()||0)-(c.top+c.bottom);return this.bodyEl.setHeight(d),d},onResize:function(){this.monitorResize&&this.autoSizeTabs()},beginUpdate:function(){this.updating=!0},endUpdate:function(){this.updating=!1,this.autoSizeTabs()},autoSizeTabs:function(){var a=this.items.length,b=a-this.hiddenCount;if(!(!this.resizeTabs||1>a||1>b||this.updating)){var c=Math.max(this.el.getWidth()-this.cpad,10),d=Math.floor(c/b),e=this.stripBody;if(e.getWidth()>c){this.items;this.setTabWidth(Math.max(d,this.minTabWidth)-2),d<this.minTabWidth}else this.currentTabWidth<this.preferredTabWidth&&this.setTabWidth(Math.min(d,this.preferredTabWidth)-2)}},getCount:function(){return this.items.length},setTabWidth:function(a){this.currentTabWidth=a;for(var b=0,c=this.items.length;c>b;b++)this.items[b].isHidden()||this.items[b].setWidth(a)},destroy:function(a){Ext.EventManager.removeResizeListener(this.onResize,this);for(var b=0,c=this.items.length;c>b;b++)this.items[b].purgeListeners();a===!0&&(this.el.update(""),this.el.remove())}}),Ext.TabPanelItem=function(a,b,c,d){this.tabPanel=a,this.id=b,this.disabled=!1,this.text=c,this.loaded=!1,this.closable=d,this.bodyEl=Ext.get(a.createItemBody(a.bodyEl.dom,b)),this.bodyEl.setVisibilityMode(Ext.Element.VISIBILITY),this.bodyEl.setStyle("display","block"),this.bodyEl.setStyle("zoom","1"),this.hideAction();var e=a.createStripElements(a.stripEl.dom,c,d);if(this.el=Ext.get(e.el,!0),this.inner=Ext.get(e.inner,!0),this.textEl=Ext.get(this.el.dom.firstChild.firstChild.firstChild,!0),this.pnode=Ext.get(e.el.parentNode,!0),this.el.on("mousedown",this.onTabMouseDown,this),this.el.on("click",this.onTabClick,this),d){var f=Ext.get(e.close,!0);f.dom.title=this.closeText,f.addClassOnOver("close-over"),f.on("click",this.closeClick,this)}this.addEvents({activate:!0,beforeclose:!0,close:!0,deactivate:!0}),this.hidden=!1,Ext.TabPanelItem.superclass.constructor.call(this)},Ext.extend(Ext.TabPanelItem,Ext.util.Observable,{purgeListeners:function(){Ext.util.Observable.prototype.purgeListeners.call(this),this.el.removeAllListeners()},show:function(){this.pnode.addClass("on"),this.showAction(),Ext.isOpera&&this.tabPanel.stripWrap.repaint(),this.fireEvent("activate",this.tabPanel,this)},isActive:function(){return this.tabPanel.getActiveTab()==this},hide:function(){this.pnode.removeClass("on"),this.hideAction(),this.fireEvent("deactivate",this.tabPanel,this)},hideAction:function(){this.bodyEl.hide(),this.bodyEl.setStyle("position","absolute"),this.bodyEl.setLeft("-20000px"),this.bodyEl.setTop("-20000px")},showAction:function(){this.bodyEl.setStyle("position","relative"),this.bodyEl.setTop(""),this.bodyEl.setLeft(""),this.bodyEl.show()},setTooltip:function(a){Ext.QuickTips&&Ext.QuickTips.isEnabled()?(this.textEl.dom.qtip=a,this.textEl.dom.removeAttribute("title")):this.textEl.dom.title=a},onTabClick:function(a){a.preventDefault(),this.tabPanel.activate(this.id)},onTabMouseDown:function(a){a.preventDefault(),this.tabPanel.activate(this.id)},getWidth:function(){return this.inner.getWidth()},setWidth:function(a){var b=a-this.pnode.getPadding("lr");this.inner.setWidth(b),this.textEl.setWidth(b-this.inner.getPadding("lr")),this.pnode.setWidth(a)},setHidden:function(a){this.hidden=a,this.pnode.setStyle("display",a?"none":"")},isHidden:function(){return this.hidden},getText:function(){return this.text},autoSize:function(){this.textEl.setWidth(1),this.setWidth(this.textEl.dom.scrollWidth+this.pnode.getPadding("lr")+this.inner.getPadding("lr"))},setText:function(a){this.text=a,this.textEl.update(a),this.setTooltip(a),this.tabPanel.resizeTabs||this.autoSize()},activate:function(){this.tabPanel.activate(this.id)},disable:function(){this.tabPanel.active!=this&&(this.disabled=!0,this.pnode.addClass("disabled"))},enable:function(){this.disabled=!1,this.pnode.removeClass("disabled")},setContent:function(a,b){this.bodyEl.update(a,b)},getUpdateManager:function(){return this.bodyEl.getUpdateManager()},setUrl:function(a,b,c){return this.refreshDelegate&&this.un("activate",this.refreshDelegate),this.refreshDelegate=this._handleRefresh.createDelegate(this,[a,b,c]),this.on("activate",this.refreshDelegate),this.bodyEl.getUpdateManager()},_handleRefresh:function(a,b,c){if(!c||!this.loaded){var d=this.bodyEl.getUpdateManager();d.update(a,b,this._setLoaded.createDelegate(this))}},refresh:function(){this.refreshDelegate&&(this.loaded=!1,this.refreshDelegate())},_setLoaded:function(){this.loaded=!0},closeClick:function(a){var b={};a.stopEvent(),this.fireEvent("beforeclose",this,b),b.cancel!==!0&&this.tabPanel.removeTab(this.id)},closeText:"Close this tab"}),Ext.TabPanel.prototype.createStrip=function(a){var b=document.createElement("div");return b.className="x-tabs-wrap",a.appendChild(b),b},Ext.TabPanel.prototype.createStripList=function(a){return a.innerHTML='<div class="x-tabs-strip-wrap"><table class="x-tabs-strip" cellspacing="0" cellpadding="0" border="0"><tbody><tr></tr></tbody></table></div>',a.firstChild.firstChild.firstChild.firstChild},Ext.TabPanel.prototype.createBody=function(a){var b=document.createElement("div");return Ext.id(b,"tab-body"),Ext.fly(b).addClass("x-tabs-body"),a.appendChild(b),b},Ext.TabPanel.prototype.createItemBody=function(a,b){var c=Ext.getDom(b);return c||(c=document.createElement("div"),c.id=b),Ext.fly(c).addClass("x-tabs-item-body"),a.insertBefore(c,a.firstChild),c},Ext.TabPanel.prototype.createStripElements=function(a,b,c){var d=document.createElement("td");if(a.appendChild(d),c){d.className="x-tabs-closable",this.closeTpl||(this.closeTpl=new Ext.Template('<a href="#" class="x-tabs-right"><span class="x-tabs-left"><em class="x-tabs-inner"><span unselectable="on"'+(this.disableTooltips?"":' title="{text}"')+' class="x-tabs-text">{text}</span><div unselectable="on" class="close-icon">&#160;</div></em></span></a>'));var e=this.closeTpl.overwrite(d,{text:b}),f=e.getElementsByTagName("div")[0],g=e.getElementsByTagName("em")[0];return{el:e,close:f,inner:g}}this.tabTpl||(this.tabTpl=new Ext.Template('<a href="#" class="x-tabs-right"><span class="x-tabs-left"><em class="x-tabs-inner"><span unselectable="on"'+(this.disableTooltips?"":' title="{text}"')+' class="x-tabs-text">{text}</span></em></span></a>'));var e=this.tabTpl.overwrite(d,{text:b}),g=e.getElementsByTagName("em")[0];return{el:e,inner:g}},Ext.Button=function(a,b){Ext.apply(this,b),this.addEvents({click:!0,toggle:!0,mouseover:!0,mouseout:!0}),this.menu&&(this.menu=Ext.menu.MenuMgr.get(this.menu)),a&&this.render(a),Ext.Button.superclass.constructor.call(this)},Ext.extend(Ext.Button,Ext.util.Observable,{hidden:!1,disabled:!1,pressed:!1,tabIndex:void 0,enableToggle:!1,menu:void 0,menuAlign:"tl-bl?",iconCls:void 0,type:"button",menuClassTarget:"tr",clickEvent:"click",handleMouseEvents:!0,tooltipType:"qtip",render:function(a){var b;if(this.hideParent&&(this.parentEl=Ext.get(a)),this.dhconfig)b=Ext.DomHelper.append(Ext.get(a).dom,this.dhconfig,!0);else{this.template||(Ext.Button.buttonTemplate||(Ext.Button.buttonTemplate=new Ext.Template('<table border="0" cellpadding="0" cellspacing="0" class="x-btn-wrap"><tbody><tr>','<td class="x-btn-left"><i>&#160;</i></td><td class="x-btn-center"><em unselectable="on"><button class="x-btn-text" type="{1}">{0}</button></em></td><td class="x-btn-right"><i>&#160;</i></td>',"</tr></tbody></table>")),this.template=Ext.Button.buttonTemplate),b=this.template.append(a,[this.text||"&#160;",this.type],!0);var c=b.child("button:first");c.on("focus",this.onFocus,this),c.on("blur",this.onBlur,this),this.cls&&b.addClass(this.cls),this.icon&&c.setStyle("background-image","url("+this.icon+")"),this.iconCls&&(c.addClass(this.iconCls),this.cls||b.addClass(this.text?"x-btn-text-icon":"x-btn-icon")),void 0!==this.tabIndex&&(c.dom.tabIndex=this.tabIndex),this.tooltip&&("object"==typeof this.tooltip?Ext.QuickTips.tips(Ext.apply({target:c.id},this.tooltip)):c.dom[this.tooltipType]=this.tooltip)}if(this.el=b,this.id&&(this.el.dom.id=this.el.id=this.id),this.menu&&(this.el.child(this.menuClassTarget).addClass("x-btn-with-menu"),this.menu.on("show",this.onMenuShow,this),this.menu.on("hide",this.onMenuHide,this)),b.addClass("x-btn"),Ext.isIE&&!Ext.isIE7?this.autoWidth.defer(1,this):this.autoWidth(),this.handleMouseEvents&&(b.on("mouseover",this.onMouseOver,this),b.on("mouseout",this.onMouseOut,this),b.on("mousedown",this.onMouseDown,this)),b.on(this.clickEvent,this.onClick,this),this.hidden&&this.hide(),this.disabled&&this.disable(),Ext.ButtonToggleMgr.register(this),this.pressed&&this.el.addClass("x-btn-pressed"),this.repeat){var d=new Ext.util.ClickRepeater(b,"object"==typeof this.repeat?this.repeat:{});d.on("click",this.onClick,this)}},getEl:function(){return this.el},destroy:function(){Ext.ButtonToggleMgr.unregister(this),this.el.removeAllListeners(),this.purgeListeners(),this.el.remove()},autoWidth:function(){if(this.el){if(this.el.setWidth("auto"),Ext.isIE7&&Ext.isStrict){var a=this.el.child("button");a&&a.getWidth()>20&&(a.clip(),a.setWidth(Ext.util.TextMetrics.measure(a,this.text).width+a.getFrameWidth("lr")))}this.minWidth&&(this.hidden&&this.el.beginMeasure(),this.el.getWidth()<this.minWidth&&this.el.setWidth(this.minWidth),this.hidden&&this.el.endMeasure())}},setHandler:function(a,b){this.handler=a,this.scope=b},setText:function(a){this.text=a,this.el&&this.el.child("td.x-btn-center button.x-btn-text").update(a),this.autoWidth()},getText:function(){return this.text},show:function(){this.hidden=!1,this.el&&this[this.hideParent?"parentEl":"el"].setStyle("display","")},hide:function(){this.hidden=!0,this.el&&this[this.hideParent?"parentEl":"el"].setStyle("display","none")},setVisible:function(a){a?this.show():this.hide()},toggle:function(a){a=void 0===a?!this.pressed:a,a!=this.pressed&&(a?(this.el.addClass("x-btn-pressed"),this.pressed=!0,this.fireEvent("toggle",this,!0)):(this.el.removeClass("x-btn-pressed"),this.pressed=!1,this.fireEvent("toggle",this,!1)),this.toggleHandler&&this.toggleHandler.call(this.scope||this,this,a))},focus:function(){this.el.child("button:first").focus()},disable:function(){this.el&&this.el.addClass("x-btn-disabled"),this.disabled=!0},enable:function(){this.el&&this.el.removeClass("x-btn-disabled"),this.disabled=!1},setDisabled:function(a){this[a!==!0?"enable":"disable"]()},onClick:function(a){a&&a.preventDefault(),0==a.button&&(this.disabled||(this.enableToggle&&this.toggle(),this.menu&&!this.menu.isVisible()&&this.menu.show(this.el,this.menuAlign),this.fireEvent("click",this,a),this.handler&&(this.el.removeClass("x-btn-over"),this.handler.call(this.scope||this,this,a))))},onMouseOver:function(a){this.disabled||(this.el.addClass("x-btn-over"),this.fireEvent("mouseover",this,a))},onMouseOut:function(a){a.within(this.el,!0)||(this.el.removeClass("x-btn-over"),this.fireEvent("mouseout",this,a))},onFocus:function(a){this.disabled||this.el.addClass("x-btn-focus")},onBlur:function(a){this.el.removeClass("x-btn-focus")},onMouseDown:function(a){this.disabled||0!=a.button||(this.el.addClass("x-btn-click"),Ext.get(document).on("mouseup",this.onMouseUp,this))},onMouseUp:function(a){0==a.button&&(this.el.removeClass("x-btn-click"),Ext.get(document).un("mouseup",this.onMouseUp,this))},onMenuShow:function(a){this.el.addClass("x-btn-menu-active")},onMenuHide:function(a){this.el.removeClass("x-btn-menu-active")}}),Ext.ButtonToggleMgr=function(){function a(a,c){if(c)for(var d=b[a.toggleGroup],e=0,f=d.length;f>e;e++)d[e]!=a&&d[e].toggle(!1)}var b={};return{register:function(c){if(c.toggleGroup){var d=b[c.toggleGroup];d||(d=b[c.toggleGroup]=[]),d.push(c),c.on("toggle",a)}},unregister:function(c){if(c.toggleGroup){var d=b[c.toggleGroup];d&&(d.remove(c),c.un("toggle",a))}}}}(),Ext.SplitButton=function(a,b){Ext.SplitButton.superclass.constructor.call(this,a,b),this.addEvents({arrowclick:!0})},Ext.extend(Ext.SplitButton,Ext.Button,{render:function(a){var b=new Ext.Template('<table cellspacing="0" class="x-btn-menu-wrap x-btn"><tr><td>','<table cellspacing="0" class="x-btn-wrap x-btn-menu-text-wrap"><tbody>','<tr><td class="x-btn-left"><i>&#160;</i></td><td class="x-btn-center"><button class="x-btn-text" type="{1}">{0}</button></td></tr>',"</tbody></table></td><td>",'<table cellspacing="0" class="x-btn-wrap x-btn-menu-arrow-wrap"><tbody>','<tr><td class="x-btn-center"><button class="x-btn-menu-arrow-el" type="button">&#160;</button></td><td class="x-btn-right"><i>&#160;</i></td></tr>',"</tbody></table></td></tr></table>"),c=b.append(a,[this.text,this.type],!0),d=c.child("button");this.cls&&c.addClass(this.cls),this.icon&&d.setStyle("background-image","url("+this.icon+")"),this.iconCls&&(d.addClass(this.iconCls),this.cls||c.addClass(this.text?"x-btn-text-icon":"x-btn-icon")),this.el=c,this.handleMouseEvents&&(c.on("mouseover",this.onMouseOver,this),c.on("mouseout",this.onMouseOut,this),c.on("mousedown",this.onMouseDown,this),c.on("mouseup",this.onMouseUp,this)),c.on(this.clickEvent,this.onClick,this),this.tooltip&&("object"==typeof this.tooltip?Ext.QuickTips.tips(Ext.apply({target:d.id},this.tooltip)):d.dom[this.tooltipType]=this.tooltip),this.arrowTooltip&&(c.child("button:nth(2)").dom[this.tooltipType]=this.arrowTooltip),this.hidden&&this.hide(),this.disabled&&this.disable(),this.pressed&&this.el.addClass("x-btn-pressed"),Ext.isIE&&!Ext.isIE7?this.autoWidth.defer(1,this):this.autoWidth(),this.menu&&(this.menu.on("show",this.onMenuShow,this),this.menu.on("hide",this.onMenuHide,this))},autoWidth:function(){if(this.el){var a=this.el.child("table:first"),b=this.el.child("table:last");if(this.el.setWidth("auto"),a.setWidth("auto"),Ext.isIE7&&Ext.isStrict){var c=this.el.child("button:first");c&&c.getWidth()>20&&(c.clip(),c.setWidth(Ext.util.TextMetrics.measure(c,this.text).width+c.getFrameWidth("lr")))}this.minWidth&&(this.hidden&&this.el.beginMeasure(),a.getWidth()+b.getWidth()<this.minWidth&&a.setWidth(this.minWidth-b.getWidth()),this.hidden&&this.el.endMeasure()),this.el.setWidth(a.getWidth()+b.getWidth())}},setHandler:function(a,b){this.handler=a,this.scope=b},setArrowHandler:function(a,b){this.arrowHandler=a,this.scope=b},focus:function(){this.el&&this.el.child("button:first").focus()},onClick:function(a){a.preventDefault(),this.disabled||(a.getTarget(".x-btn-menu-arrow-wrap")?(this.menu&&!this.menu.isVisible()&&this.menu.show(this.el,this.menuAlign),this.fireEvent("arrowclick",this,a),this.arrowHandler&&this.arrowHandler.call(this.scope||this,this,a)):(this.fireEvent("click",this,a),this.handler&&this.handler.call(this.scope||this,this,a)))},onMouseDown:function(a){this.disabled||Ext.fly(a.getTarget("table")).addClass("x-btn-click")},onMouseUp:function(a){Ext.fly(a.getTarget("table")).removeClass("x-btn-click")}}),Ext.MenuButton=Ext.SplitButton,Ext.Toolbar=function(a,b,c){a instanceof Array&&(b=a,c=b,a=null),Ext.apply(this,c),this.buttons=b,a&&this.render(a)},Ext.Toolbar.prototype={render:function(a){this.el=Ext.get(a),this.cls&&this.el.addClass(this.cls),this.el.update('<div class="x-toolbar x-small-editor"><table cellspacing="0"><tr></tr></table></div>'),this.tr=this.el.child("tr",!0);var b=0;this.items=new Ext.util.MixedCollection(!1,function(a){return a.id||"item"+ ++b}),this.buttons&&(this.add.apply(this,this.buttons),delete this.buttons)},add:function(){for(var a=arguments,b=a.length,c=0;b>c;c++){var d=a[c];d.applyTo?this.addField(d):d.render?this.addItem(d):"string"==typeof d?"separator"==d||"-"==d?this.addSeparator():" "==d?this.addSpacer():"->"==d?this.addFill():this.addText(d):d.tagName?this.addElement(d):"object"==typeof d&&this.addButton(d)}},getEl:function(){return this.el},addSeparator:function(){return this.addItem(new Ext.Toolbar.Separator)},addSpacer:function(){return this.addItem(new Ext.Toolbar.Spacer)},addFill:function(){return this.addItem(new Ext.Toolbar.Fill)},addElement:function(a){return this.addItem(new Ext.Toolbar.Item(a))},addItem:function(a){var b=this.nextBlock();return a.render(b),this.items.add(a),a},addButton:function(a){if(a instanceof Array){for(var b=[],c=0,d=a.length;d>c;c++)b.push(this.addButton(a[c]));return b}var e=a;a instanceof Ext.Toolbar.Button||(e=a.split?new Ext.Toolbar.SplitButton(a):new Ext.Toolbar.Button(a));var f=this.nextBlock();return e.render(f),this.items.add(e),e},addText:function(a){return this.addItem(new Ext.Toolbar.TextItem(a))},insertButton:function(a,b){if(b instanceof Array){for(var c=[],d=0,e=b.length;e>d;d++)c.push(this.insertButton(a+d,b[d]));return c}b instanceof Ext.Toolbar.Button||(b=new Ext.Toolbar.Button(b));var f=document.createElement("td");return this.tr.insertBefore(f,this.tr.childNodes[a]),b.render(f),this.items.insert(a,b),b},addDom:function(a,b){var c=this.nextBlock();Ext.DomHelper.overwrite(c,a);var d=new Ext.Toolbar.Item(c.firstChild);return d.render(c),this.items.add(d),d},addField:function(a){var b=this.nextBlock();a.render(b);var c=new Ext.Toolbar.Item(b.firstChild);return c.render(b),this.items.add(c),c},nextBlock:function(){var a=document.createElement("td");return this.tr.appendChild(a),a},destroy:function(){this.items&&Ext.destroy.apply(Ext,this.items.items),Ext.Element.uncache(this.el,this.tr)}},Ext.Toolbar.Item=function(a){this.el=Ext.getDom(a),this.id=Ext.id(this.el),this.hidden=!1},Ext.Toolbar.Item.prototype={getEl:function(){return this.el},render:function(a){this.td=a,a.appendChild(this.el)},destroy:function(){this.td.parentNode.removeChild(this.td)},show:function(){this.hidden=!1,this.td.style.display=""},hide:function(){this.hidden=!0,this.td.style.display="none"},setVisible:function(a){a?this.show():this.hide()},focus:function(){Ext.fly(this.el).focus()},disable:function(){Ext.fly(this.td).addClass("x-item-disabled"),this.disabled=!0,this.el.disabled=!0},enable:function(){Ext.fly(this.td).removeClass("x-item-disabled"),this.disabled=!1,this.el.disabled=!1}},Ext.Toolbar.Separator=function(){var a=document.createElement("span");a.className="ytb-sep",Ext.Toolbar.Separator.superclass.constructor.call(this,a)},Ext.extend(Ext.Toolbar.Separator,Ext.Toolbar.Item,{enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn}),Ext.Toolbar.Spacer=function(){var a=document.createElement("div");a.className="ytb-spacer",Ext.Toolbar.Spacer.superclass.constructor.call(this,a)},Ext.extend(Ext.Toolbar.Spacer,Ext.Toolbar.Item,{enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn}),Ext.Toolbar.Fill=Ext.extend(Ext.Toolbar.Spacer,{render:function(a){a.style.width="100%",Ext.Toolbar.Fill.superclass.render.call(this,a)}}),Ext.Toolbar.TextItem=function(a){var b=document.createElement("span");b.className="ytb-text",b.innerHTML=a,Ext.Toolbar.TextItem.superclass.constructor.call(this,b)},Ext.extend(Ext.Toolbar.TextItem,Ext.Toolbar.Item,{enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn}),Ext.Toolbar.Button=function(a){Ext.Toolbar.Button.superclass.constructor.call(this,null,a)},Ext.extend(Ext.Toolbar.Button,Ext.Button,{render:function(a){this.td=a,Ext.Toolbar.Button.superclass.render.call(this,a)},destroy:function(){Ext.Toolbar.Button.superclass.destroy.call(this),this.td.parentNode.removeChild(this.td)},show:function(){this.hidden=!1,this.td.style.display=""},hide:function(){this.hidden=!0,this.td.style.display="none"},disable:function(){Ext.fly(this.td).addClass("x-item-disabled"),this.disabled=!0},enable:function(){Ext.fly(this.td).removeClass("x-item-disabled"),this.disabled=!1}}),Ext.ToolbarButton=Ext.Toolbar.Button,Ext.Toolbar.SplitButton=function(a){Ext.Toolbar.SplitButton.superclass.constructor.call(this,null,a)},Ext.extend(Ext.Toolbar.SplitButton,Ext.SplitButton,{render:function(a){this.td=a,Ext.Toolbar.SplitButton.superclass.render.call(this,a)},destroy:function(){Ext.Toolbar.SplitButton.superclass.destroy.call(this),this.td.parentNode.removeChild(this.td)},show:function(){this.hidden=!1,this.td.style.display=""},hide:function(){this.hidden=!0,this.td.style.display="none"}}),Ext.Toolbar.MenuButton=Ext.Toolbar.SplitButton,Ext.PagingToolbar=function(a,b,c){Ext.PagingToolbar.superclass.constructor.call(this,a,null,c),this.ds=b,this.cursor=0,this.renderButtons(this.el),this.bind(b)},Ext.extend(Ext.PagingToolbar,Ext.Toolbar,{pageSize:20,displayMsg:"Displaying {0} - {1} of {2}",emptyMsg:"No data to display",beforePageText:"Page",afterPageText:"of {0}",firstText:"First Page",prevText:"Previous Page",nextText:"Next Page",lastText:"Last Page",refreshText:"Refresh",renderButtons:function(a){Ext.PagingToolbar.superclass.render.call(this,a),this.first=this.addButton({tooltip:this.firstText,cls:"x-btn-icon x-grid-page-first",disabled:!0,handler:this.onClick.createDelegate(this,["first"])}),this.prev=this.addButton({tooltip:this.prevText,cls:"x-btn-icon x-grid-page-prev",disabled:!0,handler:this.onClick.createDelegate(this,["prev"])}),this.addSeparator(),this.add(this.beforePageText),this.field=Ext.get(this.addDom({tag:"input",type:"text",size:"3",value:"1",cls:"x-grid-page-number"}).el),this.field.on("keydown",this.onPagingKeydown,this),this.field.on("focus",function(){this.dom.select()}),this.afterTextEl=this.addText(String.format(this.afterPageText,1)),this.field.setHeight(18),this.addSeparator(),this.next=this.addButton({tooltip:this.nextText,cls:"x-btn-icon x-grid-page-next",disabled:!0,handler:this.onClick.createDelegate(this,["next"])}),this.last=this.addButton({tooltip:this.lastText,cls:"x-btn-icon x-grid-page-last",disabled:!0,handler:this.onClick.createDelegate(this,["last"])}),this.addSeparator(),this.loading=this.addButton({tooltip:this.refreshText,cls:"x-btn-icon x-grid-loading",handler:this.onClick.createDelegate(this,["refresh"])}),this.displayInfo&&(this.displayEl=Ext.fly(this.el.dom.firstChild).createChild({cls:"x-paging-info"}))},updateInfo:function(){if(this.displayEl){var a=this.ds.getCount(),b=0==a?this.emptyMsg:String.format(this.displayMsg,this.cursor+1,this.cursor+a,this.ds.getTotalCount());this.displayEl.update(b)}},onLoad:function(a,b,c){this.cursor=c.params?c.params.start:0;var d=this.getPageData(),e=d.activePage,f=d.pages;this.afterTextEl.el.innerHTML=String.format(this.afterPageText,d.pages),this.field.dom.value=e,this.first.setDisabled(1==e),this.prev.setDisabled(1==e),this.next.setDisabled(e==f),this.last.setDisabled(e==f),this.loading.enable(),this.updateInfo()},getPageData:function(){var a=this.ds.getTotalCount();return{total:a,activePage:Math.ceil((this.cursor+this.pageSize)/this.pageSize),pages:a<this.pageSize?1:Math.ceil(a/this.pageSize)}},onLoadError:function(){this.loading.enable()},onPagingKeydown:function(a){var b=a.getKey(),c=this.getPageData();if(b==a.RETURN){var d,e=this.field.dom.value;if(!e||isNaN(d=parseInt(e,10)))return void(this.field.dom.value=c.activePage);d=Math.min(Math.max(1,d),c.pages)-1,this.ds.load({params:{start:d*this.pageSize,limit:this.pageSize}}),a.stopEvent()}else if(b==a.HOME||b==a.UP&&a.ctrlKey||b==a.PAGEUP&&a.ctrlKey||b==a.RIGHT&&a.ctrlKey||b==a.END||b==a.DOWN&&a.ctrlKey||b==a.LEFT&&a.ctrlKey||b==a.PAGEDOWN&&a.ctrlKey){var d=b==a.HOME||b==a.DOWN&&a.ctrlKey||b==a.LEFT&&a.ctrlKey||b==a.PAGEDOWN&&a.ctrlKey?1:c.pages;this.field.dom.value=d,this.ds.load({params:{start:(d-1)*this.pageSize,limit:this.pageSize}}),a.stopEvent()}else if(b==a.UP||b==a.RIGHT||b==a.PAGEUP||b==a.DOWN||b==a.LEFT||b==a.PAGEDOWN){var d,e=this.field.dom.value,f=a.shiftKey?10:1;if((b==a.DOWN||b==a.LEFT||b==a.PAGEDOWN)&&(f*=-1),!e||isNaN(d=parseInt(e,10)))return void(this.field.dom.value=c.activePage);parseInt(e,10)+f>=1&parseInt(e,10)+f<=c.pages&&(this.field.dom.value=parseInt(e,10)+f,d=Math.min(Math.max(1,d+f),c.pages)-1,this.ds.load({params:{start:d*this.pageSize,limit:this.pageSize}})),a.stopEvent()}},beforeLoad:function(){this.loading&&this.loading.disable()},onClick:function(a){var b=this.ds;switch(a){case"first":b.load({params:{start:0,limit:this.pageSize}});break;case"prev":b.load({params:{start:Math.max(0,this.cursor-this.pageSize),limit:this.pageSize}});break;case"next":b.load({params:{start:this.cursor+this.pageSize,limit:this.pageSize}});break;case"last":var c=b.getTotalCount(),d=c%this.pageSize,e=d?c-d:c-this.pageSize;b.load({params:{start:e,limit:this.pageSize}});break;case"refresh":b.load({params:{start:this.cursor,limit:this.pageSize}})}},unbind:function(a){a.un("beforeload",this.beforeLoad,this),a.un("load",this.onLoad,this),a.un("loadexception",this.onLoadError,this),this.ds=void 0},bind:function(a){a.on("beforeload",this.beforeLoad,this),a.on("load",this.onLoad,this),a.on("loadexception",this.onLoadError,this),this.ds=a}}),Ext.Resizable=function(a,b){if(this.el=Ext.get(a),b&&b.wrap){if(b.resizeChild=this.el,this.el=this.el.wrap("object"==typeof b.wrap?b.wrap:{cls:"xresizable-wrap"}),this.el.id=this.el.dom.id=b.resizeChild.id+"-rzwrap",this.el.setStyle("overflow","hidden"),this.el.setPositioning(b.resizeChild.getPositioning()),b.resizeChild.clearPositioning(),!b.width||!b.height){var c=b.resizeChild.getSize();this.el.setSize(c.width,c.height)}b.pinned&&!b.adjustments&&(b.adjustments="auto")}this.proxy=this.el.createProxy({tag:"div",cls:"x-resizable-proxy",id:this.el.id+"-rzproxy"}),this.proxy.unselectable(),this.proxy.enableDisplayMode("block"),Ext.apply(this,b),this.pinned&&(this.disableTrackOver=!0,this.el.addClass("x-resizable-pinned"));var d=this.el.getStyle("position");"absolute"!=d&&"fixed"!=d&&this.el.setStyle("position","relative"),this.handles||(this.handles="s,e,se",this.multiDirectional&&(this.handles+=",n,w")),"all"==this.handles&&(this.handles="n s e w ne nw se sw");for(var e=this.handles.split(/\s*?[,;]\s*?| /),f=Ext.Resizable.positions,g=0,h=e.length;h>g;g++)if(e[g]&&f[e[g]]){var i=f[e[g]];this[i]=new Ext.Resizable.Handle(this,i,this.disableTrackOver,this.transparent)}if(this.corner=this.southeast,(-1!=this.handles.indexOf("n")||-1!=this.handles.indexOf("w"))&&(this.updateBox=!0),this.activeHandle=null,
this.resizeChild&&("boolean"==typeof this.resizeChild?this.resizeChild=Ext.get(this.el.dom.firstChild,!0):this.resizeChild=Ext.get(this.resizeChild,!0)),"auto"==this.adjustments){var j=this.resizeChild,k=this.west,l=this.east,m=this.north,e=this.south;j&&(k||m)&&(j.position("relative"),j.setLeft(k?k.el.getWidth():0),j.setTop(m?m.el.getHeight():0)),this.adjustments=[(l?-l.el.getWidth():0)+(k?-k.el.getWidth():0),(m?-m.el.getHeight():0)+(e?-e.el.getHeight():0)-1]}this.draggable&&(this.dd=this.dynamic?this.el.initDD(null):this.el.initDDProxy(null,{dragElId:this.proxy.id}),this.dd.setHandleElId(this.resizeChild?this.resizeChild.id:this.el.id)),this.addEvents({beforeresize:!0,resize:!0}),null!==this.width&&null!==this.height?this.resizeTo(this.width,this.height):this.updateChildSize(),Ext.isIE&&(this.el.dom.style.zoom=1),Ext.Resizable.superclass.constructor.call(this)},Ext.extend(Ext.Resizable,Ext.util.Observable,{resizeChild:!1,adjustments:[0,0],minWidth:5,minHeight:5,maxWidth:1e4,maxHeight:1e4,enabled:!0,animate:!1,duration:.35,dynamic:!1,handles:!1,multiDirectional:!1,disableTrackOver:!1,easing:"easeOutStrong",widthIncrement:0,heightIncrement:0,pinned:!1,width:null,height:null,preserveRatio:!1,transparent:!1,minX:0,minY:0,draggable:!1,constrainTo:void 0,resizeRegion:void 0,resizeTo:function(a,b){this.el.setSize(a,b),this.updateChildSize(),this.fireEvent("resize",this,a,b,null)},startSizing:function(a,b){if(this.fireEvent("beforeresize",this,a),this.enabled){if(this.overlay||(this.overlay=this.el.createProxy({tag:"div",cls:"x-resizable-overlay",html:"&#160;"}),this.overlay.unselectable(),this.overlay.enableDisplayMode("block"),this.overlay.on("mousemove",this.onMouseMove,this),this.overlay.on("mouseup",this.onMouseUp,this)),this.overlay.setStyle("cursor",b.el.getStyle("cursor")),this.resizing=!0,this.startBox=this.el.getBox(),this.startPoint=a.getXY(),this.offsets=[this.startBox.x+this.startBox.width-this.startPoint[0],this.startBox.y+this.startBox.height-this.startPoint[1]],this.overlay.setSize(Ext.lib.Dom.getViewWidth(!0),Ext.lib.Dom.getViewHeight(!0)),this.overlay.show(),this.constrainTo){var c=Ext.get(this.constrainTo);this.resizeRegion=c.getRegion().adjust(c.getFrameWidth("t"),c.getFrameWidth("l"),-c.getFrameWidth("b"),-c.getFrameWidth("r"))}this.proxy.setStyle("visibility","hidden"),this.proxy.show(),this.proxy.setBox(this.startBox),this.dynamic||this.proxy.setStyle("visibility","visible")}},onMouseDown:function(a,b){this.enabled&&(b.stopEvent(),this.activeHandle=a,this.startSizing(b,a))},onMouseUp:function(a){var b=this.resizeElement();this.resizing=!1,this.handleOut(),this.overlay.hide(),this.proxy.hide(),this.fireEvent("resize",this,b.width,b.height,a)},updateChildSize:function(){if(this.resizeChild){var a=this.el,b=this.resizeChild,c=this.adjustments;if(a.dom.offsetWidth){var d=a.getSize(!0);b.setSize(d.width+c[0],d.height+c[1])}Ext.isIE&&setTimeout(function(){if(a.dom.offsetWidth){var d=a.getSize(!0);b.setSize(d.width+c[0],d.height+c[1])}},10)}},snap:function(a,b,c){if(!b||!a)return a;var d=a,e=a%b;return e>0&&(d=e>b/2?a+(b-e):a-e),Math.max(c,d)},resizeElement:function(){var a=this.proxy.getBox();return this.updateBox?this.el.setBox(a,!1,this.animate,this.duration,null,this.easing):this.el.setSize(a.width,a.height,this.animate,this.duration,null,this.easing),this.updateChildSize(),this.dynamic||this.proxy.hide(),a},constrain:function(a,b,c,d){return c>a-b?b=a-c:a-b>d&&(b=d-a),b},onMouseMove:function(a){if(this.enabled)try{if(this.resizeRegion&&!this.resizeRegion.contains(a.getPoint()))return;var b=this.curSize||this.startBox,c=this.startBox.x,d=this.startBox.y,e=b.width,f=b.height,g=e,h=f,i=this.minWidth,j=this.minHeight,k=this.maxWidth,l=this.maxHeight,m=this.widthIncrement,n=this.heightIncrement,o=a.getXY(),p=-(this.startPoint[0]-Math.max(this.minX,o[0])),q=-(this.startPoint[1]-Math.max(this.minY,o[1])),r=this.activeHandle.position;switch(r){case"east":e+=p,e=Math.min(Math.max(i,e),k);break;case"south":f+=q,f=Math.min(Math.max(j,f),l);break;case"southeast":e+=p,f+=q,e=Math.min(Math.max(i,e),k),f=Math.min(Math.max(j,f),l);break;case"north":q=this.constrain(f,q,j,l),d+=q,f-=q;break;case"west":p=this.constrain(e,p,i,k),c+=p,e-=p;break;case"northeast":e+=p,e=Math.min(Math.max(i,e),k),q=this.constrain(f,q,j,l),d+=q,f-=q;break;case"northwest":p=this.constrain(e,p,i,k),q=this.constrain(f,q,j,l),d+=q,f-=q,c+=p,e-=p;break;case"southwest":p=this.constrain(e,p,i,k),f+=q,f=Math.min(Math.max(j,f),l),c+=p,e-=p}var s=this.snap(e,m,i),t=this.snap(f,n,j);if(s!=e||t!=f){switch(r){case"northeast":d-=t-f;break;case"north":d-=t-f;break;case"southwest":c-=s-e;break;case"west":c-=s-e;break;case"northwest":c-=s-e,d-=t-f}e=s,f=t}if(this.preserveRatio)switch(r){case"southeast":case"east":f=h*(e/g),f=Math.min(Math.max(j,f),l),e=g*(f/h);break;case"south":e=g*(f/h),e=Math.min(Math.max(i,e),k),f=h*(e/g);break;case"northeast":e=g*(f/h),e=Math.min(Math.max(i,e),k),f=h*(e/g);break;case"north":var u=e;e=g*(f/h),e=Math.min(Math.max(i,e),k),f=h*(e/g),c+=(u-e)/2;break;case"southwest":f=h*(e/g),f=Math.min(Math.max(j,f),l);var u=e;e=g*(f/h),c+=u-e;break;case"west":var v=f;f=h*(e/g),f=Math.min(Math.max(j,f),l),d+=(v-f)/2;var u=e;e=g*(f/h),c+=u-e;break;case"northwest":var u=e,v=f;f=h*(e/g),f=Math.min(Math.max(j,f),l),e=g*(f/h),d+=v-f,c+=u-e}this.proxy.setBounds(c,d,e,f),this.dynamic&&this.resizeElement()}catch(a){}},handleOver:function(){this.enabled&&this.el.addClass("x-resizable-over")},handleOut:function(){this.resizing||this.el.removeClass("x-resizable-over")},getEl:function(){return this.el},getResizeChild:function(){return this.resizeChild},destroy:function(a){this.proxy.remove(),this.overlay&&(this.overlay.removeAllListeners(),this.overlay.remove());var b=Ext.Resizable.positions;for(var c in b)if("function"!=typeof b[c]&&this[b[c]]){var d=this[b[c]];d.el.removeAllListeners(),d.el.remove()}a&&(this.el.update(""),this.el.remove())}}),Ext.Resizable.positions={n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"},Ext.Resizable.Handle=function(a,b,c,d){if(!this.tpl){var e=Ext.DomHelper.createTemplate({tag:"div",cls:"x-resizable-handle x-resizable-handle-{0}"});e.compile(),Ext.Resizable.Handle.prototype.tpl=e}this.position=b,this.rz=a,this.el=this.tpl.append(a.el.dom,[this.position],!0),this.el.unselectable(),d&&this.el.setOpacity(0),this.el.on("mousedown",this.onMouseDown,this),c||(this.el.on("mouseover",this.onMouseOver,this),this.el.on("mouseout",this.onMouseOut,this))},Ext.Resizable.Handle.prototype={afterResize:function(a){},onMouseDown:function(a){this.rz.onMouseDown(this,a)},onMouseOver:function(a){this.rz.handleOver(this,a)},onMouseOut:function(a){this.rz.handleOut(this,a)}},Ext.Editor=function(a,b){Ext.Editor.superclass.constructor.call(this,b),this.field=a,this.addEvents({beforestartedit:!0,startedit:!0,beforecomplete:!0,complete:!0,specialkey:!0})},Ext.extend(Ext.Editor,Ext.Component,{value:"",alignment:"c-c?",shadow:"frame",constrain:!1,completeOnEnter:!1,cancelOnEsc:!1,updateEl:!1,onRender:function(a,b){this.el=new Ext.Layer({shadow:this.shadow,cls:"x-editor",parentEl:a,shim:this.shim,shadowOffset:4,id:this.id,constrain:this.constrain}),this.el.setStyle("overflow",Ext.isGecko?"auto":"hidden"),"title"!=this.field.msgTarget&&(this.field.msgTarget="qtip"),this.field.render(this.el),Ext.isGecko&&this.field.el.dom.setAttribute("autocomplete","off"),this.field.on("specialkey",this.onSpecialKey,this),this.swallowKeys&&this.field.el.swallowEvent(["keydown","keypress"]),this.field.show(),this.field.on("blur",this.onBlur,this),this.field.grow&&this.field.on("autosize",this.el.sync,this.el,{delay:1})},onSpecialKey:function(a,b){this.completeOnEnter&&b.getKey()==b.ENTER?(b.stopEvent(),this.completeEdit()):this.cancelOnEsc&&b.getKey()==b.ESC?this.cancelEdit():this.fireEvent("specialkey",a,b)},startEdit:function(a,b){this.editing&&this.completeEdit(),this.boundEl=Ext.get(a);var c=void 0!==b?b:this.boundEl.dom.innerHTML;if(this.rendered||this.render(this.parentEl||document.body),this.fireEvent("beforestartedit",this,this.boundEl,c)!==!1){if(this.startValue=c,this.field.setValue(c),this.autoSize){var d=this.boundEl.getSize();switch(this.autoSize){case"width":this.setSize(d.width,"");break;case"height":this.setSize("",d.height);break;default:this.setSize(d.width,d.height)}}this.el.alignTo(this.boundEl,this.alignment),this.editing=!0,Ext.QuickTips&&Ext.QuickTips.disable(),this.show()}},setSize:function(a,b){this.field.setSize(a,b),this.el&&this.el.sync()},realign:function(){this.el.alignTo(this.boundEl,this.alignment)},completeEdit:function(a){if(this.editing){var b=this.getValue();return this.revertInvalid===!1||this.field.isValid()||(b=this.startValue,this.cancelEdit(!0)),String(b)===String(this.startValue)&&this.ignoreNoChange?(this.editing=!1,void this.hide()):void(this.fireEvent("beforecomplete",this,b,this.startValue)!==!1&&(this.editing=!1,this.updateEl&&this.boundEl&&this.boundEl.update(b),a!==!0&&this.hide(),this.fireEvent("complete",this,b,this.startValue)))}},onShow:function(){this.el.show(),this.hideEl!==!1&&this.boundEl.hide(),this.field.show(),Ext.isIE&&!this.fixIEFocus?(this.fixIEFocus=!0,this.deferredFocus.defer(50,this)):this.field.focus(),this.fireEvent("startedit",this.boundEl,this.startValue)},deferredFocus:function(){this.editing&&this.field.focus()},cancelEdit:function(a){this.editing&&(this.setValue(this.startValue),a!==!0&&this.hide())},onBlur:function(){this.allowBlur!==!0&&this.editing&&this.completeEdit()},onHide:function(){return this.editing?void this.completeEdit():(this.field.blur(),this.field.collapse&&this.field.collapse(),this.el.hide(),this.hideEl!==!1&&this.boundEl.show(),void(Ext.QuickTips&&Ext.QuickTips.enable()))},setValue:function(a){this.field.setValue(a)},getValue:function(){return this.field.getValue()}}),Ext.BasicDialog=function(a,b){this.el=Ext.get(a);var c=Ext.DomHelper;if(!this.el&&b&&b.autoCreate&&("object"==typeof b.autoCreate?(b.autoCreate.id||(b.autoCreate.id=a),this.el=c.append(document.body,b.autoCreate,!0)):this.el=c.append(document.body,{tag:"div",id:a,style:"visibility:hidden;"},!0)),a=this.el,a.setDisplayed(!0),a.hide=this.hideAction,this.id=a.id,a.addClass("x-dlg"),Ext.apply(this,b),this.proxy=a.createProxy("x-dlg-proxy"),this.proxy.hide=this.hideAction,this.proxy.setOpacity(.5),this.proxy.hide(),b.width&&a.setWidth(b.width),b.height&&a.setHeight(b.height),this.size=a.getSize(),"undefined"!=typeof b.x&&"undefined"!=typeof b.y?this.xy=[b.x,b.y]:this.xy=a.getCenterXY(!0),this.header=a.child("> .x-dlg-hd"),this.body=a.child("> .x-dlg-bd"),this.footer=a.child("> .x-dlg-ft"),this.header||(this.header=a.createChild({tag:"div",cls:"x-dlg-hd",html:"&#160;"},this.body?this.body.dom:null)),this.body||(this.body=a.createChild({tag:"div",cls:"x-dlg-bd"})),this.header.unselectable(),this.title&&this.header.update(this.title),this.focusEl=a.createChild({tag:"a",href:"#",cls:"x-dlg-focus",tabIndex:"-1"}),this.focusEl.swallowEvent("click",!0),this.header.wrap({cls:"x-dlg-hd-right"}).wrap({cls:"x-dlg-hd-left"},!0),this.bwrap=this.body.wrap({tag:"div",cls:"x-dlg-dlg-body"}),this.footer&&this.bwrap.dom.appendChild(this.footer.dom),this.bg=this.el.createChild({tag:"div",cls:"x-dlg-bg",html:'<div class="x-dlg-bg-left"><div class="x-dlg-bg-right"><div class="x-dlg-bg-center">&#160;</div></div></div>'}),this.centerBg=this.bg.child("div.x-dlg-bg-center"),this.autoScroll===!1||this.autoTabs||this.body.setStyle("overflow","auto"),this.toolbox=this.el.createChild({cls:"x-dlg-toolbox"}),this.closable!==!1&&(this.el.addClass("x-dlg-closable"),this.close=this.toolbox.createChild({cls:"x-dlg-close"}),this.close.on("click",this.closeClick,this),this.close.addClassOnOver("x-dlg-close-over")),this.collapsible!==!1&&(this.collapseBtn=this.toolbox.createChild({cls:"x-dlg-collapse"}),this.collapseBtn.on("click",this.collapseClick,this),this.collapseBtn.addClassOnOver("x-dlg-collapse-over"),this.header.on("dblclick",this.collapseClick,this)),this.resizable!==!1&&(this.el.addClass("x-dlg-resizable"),this.resizer=new Ext.Resizable(a,{minWidth:this.minWidth||80,minHeight:this.minHeight||80,handles:this.resizeHandles||"all",pinned:!0}),this.resizer.on("beforeresize",this.beforeResize,this),this.resizer.on("resize",this.onResize,this)),this.draggable!==!1){if(a.addClass("x-dlg-draggable"),this.proxyDrag)var d=new Ext.dd.DDProxy(a.dom.id,"WindowDrag",{dragElId:this.proxy.id});else var d=new Ext.dd.DD(a.dom.id,"WindowDrag");d.setHandleElId(this.header.id),d.endDrag=this.endMove.createDelegate(this),d.startDrag=this.startMove.createDelegate(this),d.onDrag=this.onDrag.createDelegate(this),d.scroll=!1,this.dd=d}this.modal&&(this.mask=c.append(document.body,{tag:"div",cls:"x-dlg-mask"},!0),this.mask.enableDisplayMode("block"),this.mask.hide(),this.el.addClass("x-dlg-modal")),this.shadow?this.shadow=new Ext.Shadow({mode:"string"==typeof this.shadow?this.shadow:"sides",offset:this.shadowOffset}):this.shadowOffset=0,Ext.useShims&&this.shim!==!1?(this.shim=this.el.createShim(),this.shim.hide=this.hideAction,this.shim.hide()):this.shim=!1,this.autoTabs&&this.initTabs(),this.addEvents({keydown:!0,move:!0,resize:!0,beforehide:!0,hide:!0,beforeshow:!0,show:!0}),a.on("keydown",this.onKeyDown,this),a.on("mousedown",this.toFront,this),Ext.EventManager.onWindowResize(this.adjustViewport,this,!0),this.el.hide(),Ext.DialogManager.register(this),Ext.BasicDialog.superclass.constructor.call(this)},Ext.extend(Ext.BasicDialog,Ext.util.Observable,{shadowOffset:Ext.isIE?6:5,minHeight:80,minWidth:200,minButtonWidth:75,defaultButton:null,buttonAlign:"right",tabTag:"div",firstShow:!0,setTitle:function(a){return this.header.update(a),this},closeClick:function(){this.hide()},collapseClick:function(){this[this.collapsed?"expand":"collapse"]()},collapse:function(){this.collapsed||(this.collapsed=!0,this.el.addClass("x-dlg-collapsed"),this.restoreHeight=this.el.getHeight(),this.resizeTo(this.el.getWidth(),this.header.getHeight()))},expand:function(){this.collapsed&&(this.collapsed=!1,this.el.removeClass("x-dlg-collapsed"),this.resizeTo(this.el.getWidth(),this.restoreHeight))},initTabs:function(){for(var a=this.getTabs();a.getTab(0);)a.removeTab(0);return this.el.select(this.tabTag+".x-dlg-tab").each(function(b){var c=b.dom;a.addTab(Ext.id(c),c.title),c.title=""}),a.activate(0),a},beforeResize:function(){this.resizer.minHeight=Math.max(this.minHeight,this.getHeaderFooterHeight(!0)+40)},onResize:function(){this.refreshSize(),this.syncBodyHeight(),this.adjustAssets(),this.focus(),this.fireEvent("resize",this,this.size.width,this.size.height)},onKeyDown:function(a){this.isVisible()&&this.fireEvent("keydown",this,a)},resizeTo:function(a,b){return this.el.setSize(a,b),this.size={width:a,height:b},this.syncBodyHeight(),this.fixedcenter&&this.center(),this.isVisible()&&(this.constrainXY(),this.adjustAssets()),this.fireEvent("resize",this,a,b),this},setContentSize:function(a,b){return b+=this.getHeaderFooterHeight()+this.body.getMargins("tb"),a+=this.body.getMargins("lr")+this.bwrap.getMargins("lr")+this.centerBg.getPadding("lr"),b+=this.body.getPadding("tb")+this.bwrap.getBorderWidth("tb")+this.body.getBorderWidth("tb")+this.el.getBorderWidth("tb"),a+=this.body.getPadding("lr")+this.bwrap.getBorderWidth("lr")+this.body.getBorderWidth("lr")+this.bwrap.getPadding("lr")+this.el.getBorderWidth("lr"),this.tabs&&(b+=this.tabs.stripWrap.getHeight()+this.tabs.bodyEl.getMargins("tb")+this.tabs.bodyEl.getPadding("tb"),a+=this.tabs.bodyEl.getMargins("lr")+this.tabs.bodyEl.getPadding("lr")),this.resizeTo(a,b),this},addKeyListener:function(a,b,c){var d,e,f,g;"object"!=typeof a||a instanceof Array?d=a:(d=a.key,e=a.shift,f=a.ctrl,g=a.alt);var h=function(a,h){if((!e||h.shiftKey)&&(!f||h.ctrlKey)&&(!g||h.altKey)){var i=h.getKey();if(d instanceof Array){for(var j=0,k=d.length;k>j;j++)if(d[j]==i)return void b.call(c||window,a,i,h)}else i==d&&b.call(c||window,a,i,h)}};return this.on("keydown",h),this},getTabs:function(){return this.tabs||(this.el.addClass("x-dlg-auto-tabs"),this.body.addClass("bottom"==this.tabPosition?"x-tabs-bottom":"x-tabs-top"),this.tabs=new Ext.TabPanel(this.body.dom,"bottom"==this.tabPosition)),this.tabs},addButton:function(a,b,c){var d=Ext.DomHelper;if(this.footer||(this.footer=d.append(this.bwrap,{tag:"div",cls:"x-dlg-ft"},!0)),!this.btnContainer){var e=this.footer.createChild({cls:"x-dlg-btns x-dlg-btns-"+this.buttonAlign,html:'<table cellspacing="0"><tbody><tr></tr></tbody></table><div class="x-clear"></div>'},null,!0);this.btnContainer=e.firstChild.firstChild.firstChild}var f={handler:b,scope:c,minWidth:this.minButtonWidth,hideParent:!0};"string"==typeof a?f.text=a:a.tag?f.dhconfig=a:Ext.apply(f,a);var g=new Ext.Button(this.btnContainer.appendChild(document.createElement("td")),f);return this.syncBodyHeight(),this.buttons||(this.buttons=[]),this.buttons.push(g),g},setDefaultButton:function(a){return this.defaultButton=a,this},getHeaderFooterHeight:function(a){var b=0;if(this.header&&(b+=this.header.getHeight()),this.footer){var c=this.footer.getMargins();b+=this.footer.getHeight()+c.top+c.bottom}return b+=this.bwrap.getPadding("tb")+this.bwrap.getBorderWidth("tb"),b+=this.centerBg.getPadding("tb")},syncBodyHeight:function(){var a=this.body,b=this.centerBg,c=this.bwrap,d=this.size.height-this.getHeaderFooterHeight(!1);a.setHeight(d-a.getMargins("tb"));var e=this.header.getHeight(),f=this.size.height-e;b.setHeight(f),c.setLeftTop(b.getPadding("l"),e+b.getPadding("t")),c.setHeight(f-b.getPadding("tb")),c.setWidth(this.el.getWidth(!0)-b.getPadding("lr")),a.setWidth(c.getWidth(!0)),this.tabs&&(this.tabs.syncHeight(),Ext.isIE&&this.tabs.el.repaint())},restoreState:function(){var a=Ext.state.Manager.get(this.stateId||this.el.id+"-state");return a&&a.width&&(this.xy=[a.x,a.y],this.resizeTo(a.width,a.height)),this},beforeShow:function(){this.expand(),this.fixedcenter&&(this.xy=this.el.getCenterXY(!0)),this.modal&&(Ext.get(document.body).addClass("x-body-masked"),this.mask.setSize(Ext.lib.Dom.getViewWidth(!0),Ext.lib.Dom.getViewHeight(!0)),this.mask.show()),this.constrainXY()},animShow:function(){var a=Ext.get(this.animateTarget,!0).getBox();this.proxy.setSize(a.width,a.height),this.proxy.setLocation(a.x,a.y),this.proxy.show(),this.proxy.setBounds(this.xy[0],this.xy[1],this.size.width,this.size.height,!0,.35,this.showEl.createDelegate(this))},show:function(a){return this.fireEvent("beforeshow",this)!==!1?(this.syncHeightBeforeShow?this.syncBodyHeight():this.firstShow&&(this.firstShow=!1,this.syncBodyHeight()),this.animateTarget=a||this.animateTarget,this.el.isVisible()||(this.beforeShow(),this.animateTarget?this.animShow():this.showEl()),this):void 0},showEl:function(){this.proxy.hide(),this.el.setXY(this.xy),this.el.show(),this.adjustAssets(!0),this.toFront(),this.focus(),Ext.isIE&&this.el.repaint(),this.fireEvent("show",this)},focus:function(){this.defaultButton?this.defaultButton.focus():this.focusEl.focus()},constrainXY:function(){if(this.constraintoviewport!==!1){if(!this.viewSize)if(this.container){var a=this.container.getSize();this.viewSize=[a.width,a.height]}else this.viewSize=[Ext.lib.Dom.getViewWidth(),Ext.lib.Dom.getViewHeight()];var a=Ext.get(this.container||document).getScroll(),b=this.xy[0],c=this.xy[1],d=this.size.width,e=this.size.height,f=this.viewSize[0],g=this.viewSize[1],h=!1;b+d>f+a.left&&(b=f-d,h=!0),c+e>g+a.top&&(c=g-e,h=!0),b<a.left&&(b=a.left,h=!0),c<a.top&&(c=a.top,h=!0),h&&(this.xy=[b,c],this.isVisible()&&(this.el.setLocation(b,c),this.adjustAssets()))}},onDrag:function(){this.proxyDrag||(this.xy=this.el.getXY(),this.adjustAssets())},adjustAssets:function(a){var b=this.xy[0],c=this.xy[1],d=this.size.width,e=this.size.height;a===!0&&(this.shadow&&this.shadow.show(this.el),this.shim&&this.shim.show()),this.shadow&&this.shadow.isVisible()&&this.shadow.show(this.el),this.shim&&this.shim.isVisible()&&this.shim.setBounds(b,c,d,e)},adjustViewport:function(a,b){a&&b||(a=Ext.lib.Dom.getViewWidth(),b=Ext.lib.Dom.getViewHeight()),this.viewSize=[a,b],this.modal&&this.mask.isVisible()&&(this.mask.setSize(a,b),this.mask.setSize(Ext.lib.Dom.getViewWidth(!0),Ext.lib.Dom.getViewHeight(!0))),this.isVisible()&&this.constrainXY()},destroy:function(a){if(this.isVisible()&&(this.animateTarget=null,this.hide()),Ext.EventManager.removeResizeListener(this.adjustViewport,this),this.tabs&&this.tabs.destroy(a),Ext.destroy(this.shim,this.proxy,this.resizer,this.close,this.mask),this.dd&&this.dd.unreg(),this.buttons)for(var b=0,c=this.buttons.length;c>b;b++)this.buttons[b].destroy();this.el.removeAllListeners(),a===!0&&(this.el.update(""),this.el.remove()),Ext.DialogManager.unregister(this)},startMove:function(){this.proxyDrag&&this.proxy.show(),this.constraintoviewport!==!1&&this.dd.constrainTo(document.body,{right:this.shadowOffset,bottom:this.shadowOffset})},endMove:function(){this.proxyDrag?(Ext.dd.DDProxy.prototype.endDrag.apply(this.dd,arguments),this.proxy.hide()):Ext.dd.DD.prototype.endDrag.apply(this.dd,arguments),this.refreshSize(),this.adjustAssets(),this.focus(),this.fireEvent("move",this,this.xy[0],this.xy[1])},toFront:function(){return Ext.DialogManager.bringToFront(this),this},toBack:function(){return Ext.DialogManager.sendToBack(this),this},center:function(){var a=this.el.getCenterXY(!0);return this.moveTo(a[0],a[1]),this},moveTo:function(a,b){return this.xy=[a,b],this.isVisible()&&(this.el.setXY(this.xy),this.adjustAssets()),this},alignTo:function(a,b,c){return this.xy=this.el.getAlignToXY(a,b,c),this.isVisible()&&(this.el.setXY(this.xy),this.adjustAssets()),this},anchorTo:function(a,b,c,d){var e=function(){this.alignTo(a,b,c)};Ext.EventManager.onWindowResize(e,this);var f=typeof d;return"undefined"!=f&&Ext.EventManager.on(window,"scroll",e,this,{buffer:"number"==f?d:50}),e.call(this),this},isVisible:function(){return this.el.isVisible()},animHide:function(a){var b=Ext.get(this.animateTarget).getBox();this.proxy.show(),this.proxy.setBounds(this.xy[0],this.xy[1],this.size.width,this.size.height),this.el.hide(),this.proxy.setBounds(b.x,b.y,b.width,b.height,!0,.35,this.hideEl.createDelegate(this,[a]))},hide:function(a){return this.fireEvent("beforehide",this)!==!1?(this.shadow&&this.shadow.hide(),this.shim&&this.shim.hide(),this.animateTarget?this.animHide(a):(this.el.hide(),this.hideEl(a)),this):void 0},hideEl:function(a){this.proxy.hide(),this.modal&&(this.mask.hide(),Ext.get(document.body).removeClass("x-body-masked")),this.fireEvent("hide",this),"function"==typeof a&&a()},hideAction:function(){this.setLeft("-10000px"),this.setTop("-10000px"),this.setStyle("visibility","hidden")},refreshSize:function(){this.size=this.el.getSize(),this.xy=this.el.getXY(),Ext.state.Manager.set(this.stateId||this.el.id+"-state",this.el.getBox())},setZIndex:function(a){this.modal&&this.mask.setStyle("z-index",a),this.shim&&this.shim.setStyle("z-index",++a),this.shadow&&this.shadow.setZIndex(++a),this.el.setStyle("z-index",++a),this.proxy&&this.proxy.setStyle("z-index",++a),this.resizer&&this.resizer.proxy.setStyle("z-index",++a),this.lastZIndex=a},getEl:function(){return this.el}}),Ext.DialogManager=function(){var a={},b=[],c=null,d=function(a,b){return!a._lastAccess||a._lastAccess<b._lastAccess?-1:1},e=function(){b.sort(d);for(var a=Ext.DialogManager.zseed,c=0,e=b.length;e>c;c++){var f=b[c];f&&f.setZIndex(a+10*c)}};return{zseed:9e3,register:function(c){a[c.id]=c,b.push(c)},unregister:function(c){if(delete a[c.id],b.indexOf){var d=b.indexOf(c);-1!=d&&b.splice(d,1)}else for(var d=0,e=b.length;e>d;d++)if(b[d]==c)return void b.splice(d,1)},get:function(b){return"object"==typeof b?b:a[b]},bringToFront:function(a){return a=this.get(a),a!=c&&(c=a,a._lastAccess=(new Date).getTime(),e()),a},sendToBack:function(a){return a=this.get(a),a._lastAccess=-(new Date).getTime(),e(),a},hideAll:function(){for(var b in a)a[b]&&"function"!=typeof a[b]&&a[b].isVisible()&&a[b].hide()}}}(),Ext.LayoutDialog=function(a,b){b.autoTabs=!1,Ext.LayoutDialog.superclass.constructor.call(this,a,b),this.body.setStyle({overflow:"hidden",position:"relative"}),this.layout=new Ext.BorderLayout(this.body.dom,b),this.layout.monitorWindowResize=!1,this.el.addClass("x-dlg-auto-layout"),this.center=Ext.BasicDialog.prototype.center,this.on("show",this.layout.layout,this.layout,!0)},Ext.extend(Ext.LayoutDialog,Ext.BasicDialog,{endUpdate:function(){this.layout.endUpdate()},beginUpdate:function(){this.layout.beginUpdate()},getLayout:function(){return this.layout},showEl:function(){Ext.LayoutDialog.superclass.showEl.apply(this,arguments),Ext.isIE7&&this.layout.layout()},syncBodyHeight:function(){Ext.LayoutDialog.superclass.syncBodyHeight.call(this),this.layout&&this.layout.layout()}}),Ext.MessageBox=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n=function(c){a.hide(),Ext.callback(b.fn,b.scope||window,[c,l.dom.value],1)},o=function(){b&&b.cls&&a.el.removeClass(b.cls),d&&(Ext.TaskMgr.stop(d),d=null)},p=function(b){var c=0;if(!b)return k.ok.hide(),k.cancel.hide(),k.yes.hide(),k.no.hide(),a.footer.dom.style.display="none",c;a.footer.dom.style.display="";for(var d in k)"function"!=typeof k[d]&&(b[d]?(k[d].show(),k[d].setText("string"==typeof b[d]?b[d]:Ext.MessageBox.buttonText[d]),c+=k[d].el.getWidth()+15):k[d].hide());return c},q=function(c,d,e){b&&b.closable!==!1&&a.hide(),e&&e.stopEvent()};return{getDialog:function(){if(!a){a=new Ext.BasicDialog("x-msg-box",{autoCreate:!0,shadow:!0,draggable:!0,resizable:!1,constraintoviewport:!1,fixedcenter:!0,collapsible:!1,shim:!0,modal:!0,width:400,height:100,buttonAlign:"center",closeClick:function(){n(b&&b.buttons&&b.buttons.no&&!b.buttons.cancel?"no":"cancel")}}),a.on("hide",o),c=a.mask,a.addKeyListener(27,q),k={};var d=this.buttonText;k.ok=a.addButton(d.ok,n.createCallback("ok")),k.yes=a.addButton(d.yes,n.createCallback("yes")),k.no=a.addButton(d.no,n.createCallback("no")),k.cancel=a.addButton(d.cancel,n.createCallback("cancel")),e=a.body.createChild({html:'<span class="ext-mb-text"></span><br /><input type="text" class="ext-mb-input" /><textarea class="ext-mb-textarea"></textarea><div class="ext-mb-progress-wrap"><div class="ext-mb-progress"><div class="ext-mb-progress-bar">&#160;</div></div></div>'}),f=e.dom.firstChild,g=Ext.get(e.dom.childNodes[2]),g.enableDisplayMode(),g.addKeyListener([10,13],function(){a.isVisible()&&b&&b.buttons&&(b.buttons.ok?n("ok"):b.buttons.yes&&n("yes"))}),h=Ext.get(e.dom.childNodes[3]),h.enableDisplayMode(),i=Ext.get(e.dom.childNodes[4]),i.enableDisplayMode();var l=i.dom.firstChild;j=Ext.get(l.firstChild),j.setHeight(l.offsetHeight)}return a},updateText:function(c){a.isVisible()||b.width||a.resizeTo(this.maxWidth,100),f.innerHTML=c||"&#160;";var d=Math.max(Math.min(b.width||f.offsetWidth,this.maxWidth),Math.max(b.minWidth||this.minWidth,m));return b.prompt&&l.setWidth(d),a.isVisible()&&(a.fixedcenter=!1),a.setContentSize(d,e.getHeight()),a.isVisible()&&(a.fixedcenter=!0),this},updateProgress:function(a,b){return b&&this.updateText(b),j.setWidth(Math.floor(a*i.dom.firstChild.offsetWidth)),this},isVisible:function(){return a&&a.isVisible()},hide:function(){this.isVisible()&&a.hide()},show:function(d){this.isVisible()&&this.hide();var e=this.getDialog();if(b=d,e.setTitle(b.title||"&#160;"),e.close.setDisplayed(b.closable!==!1),l=g,b.prompt=b.prompt||(b.multiline?!0:!1),b.prompt?b.multiline?(g.hide(),h.show(),h.setHeight("number"==typeof b.multiline?b.multiline:this.defaultTextHeight),l=h):(g.show(),h.hide()):(g.hide(),h.hide()),i.setDisplayed(b.progress===!0),this.updateProgress(0),l.dom.value=b.value||"",b.prompt)a.setDefaultButton(l);else{var f=b.buttons,j=null;f&&f.ok?j=k.ok:f&&f.yes&&(j=k.yes),a.setDefaultButton(j)}return m=p(b.buttons),this.updateText(b.msg),b.cls&&e.el.addClass(b.cls),e.proxyDrag=b.proxyDrag===!0,e.modal=b.modal!==!1,e.mask=b.modal!==!1?c:!1,e.isVisible()||(document.body.appendChild(a.el.dom),e.animateTarget=null,e.show(d.animEl)),this},progress:function(a,b){return this.show({title:a,msg:b,buttons:!1,progress:!0,closable:!1,minWidth:this.minProgressWidth}),this},alert:function(a,b,c,d){return this.show({title:a,msg:b,buttons:this.OK,fn:c,scope:d}),this},wait:function(a,b){return this.show({title:b,msg:a,buttons:!1,closable:!1,progress:!0,modal:!0,width:300,wait:!0}),d=Ext.TaskMgr.start({run:function(a){Ext.MessageBox.updateProgress(5*((a+20)%20+1)*.01)},interval:1e3}),this},confirm:function(a,b,c,d){return this.show({title:a,msg:b,buttons:this.YESNO,fn:c,scope:d}),this},prompt:function(a,b,c,d,e){return this.show({title:a,msg:b,buttons:this.OKCANCEL,fn:c,minWidth:250,scope:d,prompt:!0,multiline:e}),this},OK:{ok:!0},YESNO:{yes:!0,no:!0},OKCANCEL:{ok:!0,cancel:!0},YESNOCANCEL:{yes:!0,no:!0,cancel:!0},defaultTextHeight:75,maxWidth:600,minWidth:100,minProgressWidth:250,buttonText:{ok:"OK",cancel:"Cancel",yes:"Yes",no:"No"}}}(),Ext.Msg=Ext.MessageBox,Ext.QuickTips=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n={},o=null,p=!0,q=!1,r=1,s=1,t=1,u=[],v=function(a){if(!p){var b=a.getTarget();if(b&&1===b.nodeType&&b!=document&&b!=document.body){if(k&&b==k.el)return void clearTimeout(s);if(b&&n[b.id])return n[b.id].el=b,void(r=A.defer(e.showDelay,e,[n[b.id]]));var c,d=Ext.fly(b),g=f.namespace;e.interceptTitles&&b.title?(c=b.title,b.qtip=c,b.removeAttribute("title"),a.preventDefault()):c=b.qtip||d.getAttributeNS(g,f.attribute),c&&(r=A.defer(e.showDelay,e,[{el:b,text:c,width:d.getAttributeNS(g,f.width),autoHide:"user"!=d.getAttributeNS(g,f.hide),title:d.getAttributeNS(g,f.title),cls:d.getAttributeNS(g,f.cls)}]))}}},w=function(a){clearTimeout(r);var b=a.getTarget();b&&k&&k.el==b&&e.autoHide&&k.autoHide!==!1&&(s=setTimeout(C,e.hideDelay))},x=function(b){p||(l=b.getXY(),l[1]+=18,e.trackMouse&&k&&a.setXY(l))},y=function(b){clearTimeout(r),clearTimeout(s),b.within(a)||e.hideOnClick&&(C(),e.disable(),e.enable.defer(100,e))},z=function(){return i.getPadding("l")+j.getPadding("r")},A=function(b){if(!p){clearTimeout(t),k=b,o&&(a.removeClass(o),o=null),k.cls&&(a.addClass(k.cls),o=k.cls),k.title?(d.update(k.title),d.show()):(d.update(""),d.hide()),a.dom.style.width=e.maxWidth+"px",c.update(b.text);var f=z(),h=k.width;if(!h){var i=c.dom,j=Math.max(i.offsetWidth,i.clientWidth,i.scrollWidth);h=j>e.maxWidth?e.maxWidth:j<e.minWidth?e.minWidth:j}a.setWidth(parseInt(h,10)+f),k.autoHide===!1?(g.setDisplayed(!0),m&&m.unlock()):(g.setDisplayed(!1),m&&m.lock()),l&&(a.avoidY=l[1]-18,a.setXY(l)),e.animate?(a.setOpacity(.1),a.setStyle("visibility","visible"),a.fadeIn({callback:B})):B()}},B=function(){k&&(a.show(),h.enable(),e.autoDismiss&&k.autoHide!==!1&&(t=setTimeout(C,e.autoDismissDelay)))},C=function(b){clearTimeout(t),clearTimeout(s),k=null,a.isVisible()&&(h.disable(),b!==!0&&e.animate?a.fadeOut({callback:D}):D())},D=function(){a.hide(),o&&(a.removeClass(o),o=null)};return{minWidth:40,maxWidth:300,interceptTitles:!1,trackMouse:!1,hideOnClick:!0,showDelay:500,hideDelay:200,autoHide:!0,autoDismiss:!0,autoDismissDelay:5e3,animate:!1,init:function(){if(e=Ext.QuickTips,f=e.tagConfig,!q){if(!Ext.isReady)return void Ext.onReady(Ext.QuickTips.init,Ext.QuickTips);a=new Ext.Layer({cls:"x-tip",shadow:"drop",shim:!0,constrain:!0,shadowOffset:4}),a.fxDefaults={stopFx:!0},a.update('<div class="x-tip-top-left"><div class="x-tip-top-right"><div class="x-tip-top"></div></div></div><div class="x-tip-bd-left"><div class="x-tip-bd-right"><div class="x-tip-bd"><div class="x-tip-close"></div><h3></h3><div class="x-tip-bd-inner"></div><div class="x-clear"></div></div></div></div><div class="x-tip-ft-left"><div class="x-tip-ft-right"><div class="x-tip-ft"></div></div></div>'),d=a.child("h3"),d.enableDisplayMode("block"),b=a.child("div.x-tip-bd"),c=a.child("div.x-tip-bd-inner"),i=a.child("div.x-tip-bd-left"),j=a.child("div.x-tip-bd-right"),g=a.child("div.x-tip-close"),g.enableDisplayMode("block"),g.on("click",C);var k=Ext.get(document);k.on("mousedown",y),k.on("mouseover",v),k.on("mouseout",w),k.on("mousemove",x),h=k.addKeyListener(27,C),h.disable(),Ext.dd.DD&&(m=a.initDD("default",null,{onDrag:function(){a.sync()}}),m.setHandleElId(d.id),
m.lock()),q=!0}this.enable()},register:function(a){for(var b=a instanceof Array?a:arguments,c=0,d=b.length;d>c;c++){var e=b[c],f=e.target;if(f)if(f instanceof Array)for(var g=0,h=f.length;h>g;g++)n[f[g]]=e;else n["string"==typeof f?f:Ext.id(f)]=e}},unregister:function(a){delete n[Ext.id(a)]},enable:function(){q&&p&&(u.pop(),u.length<1&&(p=!1))},disable:function(){p=!0,clearTimeout(r),clearTimeout(s),clearTimeout(t),k&&C(!0),u.push(1)},isEnabled:function(){return!p},tagConfig:{namespace:"ext",attribute:"qtip",width:"width",target:"target",title:"qtitle",hide:"hide",cls:"qclass"}}}(),Ext.QuickTips.tips=Ext.QuickTips.register,Ext.tree.TreePanel=function(a,b){Ext.apply(this,b),Ext.tree.TreePanel.superclass.constructor.call(this),this.el=Ext.get(a),this.el.addClass("x-tree"),this.id=this.el.id,this.addEvents({beforeload:!0,load:!0,textchange:!0,beforeexpand:!0,beforecollapse:!0,expand:!0,disabledchange:!0,collapse:!0,beforeclick:!0,checkchange:!0,click:!0,dblclick:!0,contextmenu:!0,beforechildrenrendered:!0,startdrag:!0,enddrag:!0,dragdrop:!0,beforenodedrop:!0,nodedrop:!0,nodedragover:!0}),this.singleExpand&&this.on("beforeexpand",this.restrictExpand,this)},Ext.extend(Ext.tree.TreePanel,Ext.data.Tree,{rootVisible:!0,animate:Ext.enableFx,lines:!0,enableDD:!1,hlDrop:Ext.enableFx,restrictExpand:function(a){var b=a.parentNode;b&&(b.expandedChild&&b.expandedChild.parentNode==b&&b.expandedChild.collapse(),b.expandedChild=a)},setRootNode:function(a){return Ext.tree.TreePanel.superclass.setRootNode.call(this,a),this.rootVisible||(a.ui=new Ext.tree.RootTreeNodeUI(a)),a},getEl:function(){return this.el},getLoader:function(){return this.loader},expandAll:function(){this.root.expand(!0)},collapseAll:function(){this.root.collapse(!0)},getSelectionModel:function(){return this.selModel||(this.selModel=new Ext.tree.DefaultSelectionModel),this.selModel},getChecked:function(a,b){b=b||this.root;var c=[],d=function(){this.attributes.checked&&c.push(a?"id"==a?this.id:this.attributes[a]:this)};return b.cascade(d),c},expandPath:function(a,b,c){b=b||"id";var d=a.split(this.pathSeparator),e=this.root;if(e.attributes[b]!=d[1])return void(c&&c(!1,null));var f=1,g=function(){if(++f==d.length)return void(c&&c(!0,e));var a=e.findChild(b,d[f]);return a?(e=a,void a.expand(!1,!1,g)):void(c&&c(!1,e))};e.expand(!1,!1,g)},selectPath:function(a,b,c){b=b||"id";var d=a.split(this.pathSeparator),e=d.pop();if(d.length>0){var f=function(a,d){if(a&&d){var f=d.findChild(b,e);f?(f.select(),c&&c(!0,f)):c&&c(!1,f)}else c&&c(!1,f)};this.expandPath(d.join(this.pathSeparator),b,f)}else this.root.select(),c&&c(!0,this.root)},getTreeEl:function(){return this.el},render:function(){return this.innerCt=this.el.createChild({tag:"ul",cls:"x-tree-root-ct "+(this.lines?"x-tree-lines":"x-tree-no-lines")}),this.containerScroll&&Ext.dd.ScrollManager.register(this.el),!this.enableDD&&!this.enableDrop||this.dropZone||(this.dropZone=new Ext.tree.TreeDropZone(this,this.dropConfig||{ddGroup:this.ddGroup||"TreeDD",appendOnly:this.ddAppendOnly===!0})),!this.enableDD&&!this.enableDrag||this.dragZone||(this.dragZone=new Ext.tree.TreeDragZone(this,this.dragConfig||{ddGroup:this.ddGroup||"TreeDD",scroll:this.ddScroll})),this.getSelectionModel().init(this),this.root.render(),this.rootVisible||this.root.renderChildren(),this}}),Ext.tree.DefaultSelectionModel=function(){this.selNode=null,this.addEvents({selectionchange:!0,beforeselect:!0})},Ext.extend(Ext.tree.DefaultSelectionModel,Ext.util.Observable,{init:function(a){this.tree=a,a.getTreeEl().on("keydown",this.onKeyDown,this),a.on("click",this.onNodeClick,this)},onNodeClick:function(a,b){this.select(a)},select:function(a){var b=this.selNode;return b!=a&&this.fireEvent("beforeselect",this,a,b)!==!1&&(b&&b.ui.onSelectedChange(!1),this.selNode=a,a.ui.onSelectedChange(!0),this.fireEvent("selectionchange",this,a,b)),a},unselect:function(a){this.selNode==a&&this.clearSelections()},clearSelections:function(){var a=this.selNode;return a&&(a.ui.onSelectedChange(!1),this.selNode=null,this.fireEvent("selectionchange",this,null)),a},getSelectedNode:function(){return this.selNode},isSelected:function(a){return this.selNode==a},selectPrevious:function(){var a=this.selNode||this.lastSelNode;if(!a)return null;var b=a.previousSibling;if(b){if(!b.isExpanded()||b.childNodes.length<1)return this.select(b);for(var c=b.lastChild;c&&c.isExpanded()&&c.childNodes.length>0;)c=c.lastChild;return this.select(c)}return!a.parentNode||!this.tree.rootVisible&&a.parentNode.isRoot?null:this.select(a.parentNode)},selectNext:function(){var a=this.selNode||this.lastSelNode;if(!a)return null;if(a.firstChild&&a.isExpanded())return this.select(a.firstChild);if(a.nextSibling)return this.select(a.nextSibling);if(a.parentNode){var b=null;return a.parentNode.bubble(function(){return this.nextSibling?(b=this.getOwnerTree().selModel.select(this.nextSibling),!1):void 0}),b}return null},onKeyDown:function(a){var b=this.selNode||this.lastSelNode;if(b){var c=a.getKey();switch(c){case a.DOWN:a.stopEvent(),this.selectNext();break;case a.UP:a.stopEvent(),this.selectPrevious();break;case a.RIGHT:a.preventDefault(),b.hasChildNodes()&&(b.isExpanded()?b.firstChild&&this.select(b.firstChild,a):b.expand());break;case a.LEFT:a.preventDefault(),b.hasChildNodes()&&b.isExpanded()?b.collapse():b.parentNode&&(this.tree.rootVisible||b.parentNode!=this.tree.getRootNode())&&this.select(b.parentNode,a)}}}}),Ext.tree.MultiSelectionModel=function(){this.selNodes=[],this.selMap={},this.addEvents({selectionchange:!0})},Ext.extend(Ext.tree.MultiSelectionModel,Ext.util.Observable,{init:function(a){this.tree=a,a.getTreeEl().on("keydown",this.onKeyDown,this),a.on("click",this.onNodeClick,this)},onNodeClick:function(a,b){this.select(a,b,b.ctrlKey)},select:function(a,b,c){return c!==!0&&this.clearSelections(!0),this.isSelected(a)?(this.lastSelNode=a,a):(this.selNodes.push(a),this.selMap[a.id]=a,this.lastSelNode=a,a.ui.onSelectedChange(!0),this.fireEvent("selectionchange",this,this.selNodes),a)},unselect:function(a){if(this.selMap[a.id]){a.ui.onSelectedChange(!1);var b=this.selNodes,c=-1;if(b.indexOf)c=b.indexOf(a);else for(var d=0,e=b.length;e>d;d++)if(b[d]==a){c=d;break}-1!=c&&this.selNodes.splice(c,1),delete this.selMap[a.id],this.fireEvent("selectionchange",this,this.selNodes)}},clearSelections:function(a){var b=this.selNodes;if(b.length>0){for(var c=0,d=b.length;d>c;c++)b[c].ui.onSelectedChange(!1);this.selNodes=[],this.selMap={},a!==!0&&this.fireEvent("selectionchange",this,this.selNodes)}},isSelected:function(a){return this.selMap[a.id]?!0:!1},getSelectedNodes:function(){return this.selNodes},onKeyDown:Ext.tree.DefaultSelectionModel.prototype.onKeyDown,selectNext:Ext.tree.DefaultSelectionModel.prototype.selectNext,selectPrevious:Ext.tree.DefaultSelectionModel.prototype.selectPrevious}),Ext.tree.TreeNode=function(a){a=a||{},"string"==typeof a&&(a={text:a}),this.childrenRendered=!1,this.rendered=!1,Ext.tree.TreeNode.superclass.constructor.call(this,a),this.expanded=a.expanded===!0,this.isTarget=a.isTarget!==!1,this.draggable=a.draggable!==!1&&a.allowDrag!==!1,this.allowChildren=a.allowChildren!==!1&&a.allowDrop!==!1,this.text=a.text,this.disabled=a.disabled===!0,this.addEvents({textchange:!0,beforeexpand:!0,beforecollapse:!0,expand:!0,disabledchange:!0,collapse:!0,beforeclick:!0,checkchange:!0,click:!0,dblclick:!0,contextmenu:!0,beforechildrenrendered:!0});var b=this.attributes.uiProvider||Ext.tree.TreeNodeUI;this.ui=new b(this)},Ext.extend(Ext.tree.TreeNode,Ext.data.Node,{preventHScroll:!0,isExpanded:function(){return this.expanded},getUI:function(){return this.ui},setFirstChild:function(a){var b=this.firstChild;Ext.tree.TreeNode.superclass.setFirstChild.call(this,a),this.childrenRendered&&b&&a!=b&&b.renderIndent(!0,!0),this.rendered&&this.renderIndent(!0,!0)},setLastChild:function(a){var b=this.lastChild;Ext.tree.TreeNode.superclass.setLastChild.call(this,a),this.childrenRendered&&b&&a!=b&&b.renderIndent(!0,!0),this.rendered&&this.renderIndent(!0,!0)},appendChild:function(){var a=Ext.tree.TreeNode.superclass.appendChild.apply(this,arguments);return a&&this.childrenRendered&&a.render(),this.ui.updateExpandIcon(),a},removeChild:function(a){return this.ownerTree.getSelectionModel().unselect(a),Ext.tree.TreeNode.superclass.removeChild.apply(this,arguments),this.childrenRendered&&a.ui.remove(),this.childNodes.length<1?this.collapse(!1,!1):this.ui.updateExpandIcon(),this.firstChild||(this.childrenRendered=!1),a},insertBefore:function(a,b){var c=Ext.tree.TreeNode.superclass.insertBefore.apply(this,arguments);return c&&b&&this.childrenRendered&&a.render(),this.ui.updateExpandIcon(),c},setText:function(a){var b=this.text;this.text=a,this.attributes.text=a,this.rendered&&this.ui.onTextChange(this,a,b),this.fireEvent("textchange",this,a,b)},select:function(){this.getOwnerTree().getSelectionModel().select(this)},unselect:function(){this.getOwnerTree().getSelectionModel().unselect(this)},isSelected:function(){return this.getOwnerTree().getSelectionModel().isSelected(this)},expand:function(a,b,c){if(this.expanded)"function"==typeof c&&c(this);else{if(this.fireEvent("beforeexpand",this,a,b)===!1)return;if(this.childrenRendered||this.renderChildren(),this.expanded=!0,!this.isHiddenRoot()&&this.getOwnerTree().animate&&b!==!1||b)return void this.ui.animExpand(function(){this.fireEvent("expand",this),"function"==typeof c&&c(this),a===!0&&this.expandChildNodes(!0)}.createDelegate(this));this.ui.expand(),this.fireEvent("expand",this),"function"==typeof c&&c(this)}a===!0&&this.expandChildNodes(!0)},isHiddenRoot:function(){return this.isRoot&&!this.getOwnerTree().rootVisible},collapse:function(a,b){if(this.expanded&&!this.isHiddenRoot()){if(this.fireEvent("beforecollapse",this,a,b)===!1)return;if(this.expanded=!1,this.getOwnerTree().animate&&b!==!1||b)return void this.ui.animCollapse(function(){this.fireEvent("collapse",this),a===!0&&this.collapseChildNodes(!0)}.createDelegate(this));this.ui.collapse(),this.fireEvent("collapse",this)}if(a===!0)for(var c=this.childNodes,d=0,e=c.length;e>d;d++)c[d].collapse(!0,!1)},delayedExpand:function(a){this.expandProcId||(this.expandProcId=this.expand.defer(a,this))},cancelExpand:function(){this.expandProcId&&clearTimeout(this.expandProcId),this.expandProcId=!1},toggle:function(){this.expanded?this.collapse():this.expand()},ensureVisible:function(a){var b=this.getOwnerTree();b.expandPath(this.parentNode.getPath(),!1,function(){b.getTreeEl().scrollChildIntoView(this.ui.anchor),Ext.callback(a)}.createDelegate(this))},expandChildNodes:function(a){for(var b=this.childNodes,c=0,d=b.length;d>c;c++)b[c].expand(a)},collapseChildNodes:function(a){for(var b=this.childNodes,c=0,d=b.length;d>c;c++)b[c].collapse(a)},disable:function(){this.disabled=!0,this.unselect(),this.rendered&&this.ui.onDisableChange&&this.ui.onDisableChange(this,!0),this.fireEvent("disabledchange",this,!0)},enable:function(){this.disabled=!1,this.rendered&&this.ui.onDisableChange&&this.ui.onDisableChange(this,!1),this.fireEvent("disabledchange",this,!1)},renderChildren:function(a){a!==!1&&this.fireEvent("beforechildrenrendered",this);for(var b=this.childNodes,c=0,d=b.length;d>c;c++)b[c].render(!0);this.childrenRendered=!0},sort:function(a,b){if(Ext.tree.TreeNode.superclass.sort.apply(this,arguments),this.childrenRendered)for(var c=this.childNodes,d=0,e=c.length;e>d;d++)c[d].render(!0)},render:function(a){this.ui.render(a),this.rendered||(this.rendered=!0,this.expanded&&(this.expanded=!1,this.expand(!1,!1)))},renderIndent:function(a,b){if(b&&(this.ui.childIndent=null),this.ui.renderIndent(),a===!0&&this.childrenRendered)for(var c=this.childNodes,d=0,e=c.length;e>d;d++)c[d].renderIndent(!0,b)}}),Ext.tree.AsyncTreeNode=function(a){this.loaded=!1,this.loading=!1,Ext.tree.AsyncTreeNode.superclass.constructor.apply(this,arguments),this.addEvents({beforeload:!0,load:!0})},Ext.extend(Ext.tree.AsyncTreeNode,Ext.tree.TreeNode,{expand:function(a,b,c){if(this.loading){var d,e=function(){this.loading||(clearInterval(d),this.expand(a,b,c))}.createDelegate(this);return void(d=setInterval(e,200))}if(!this.loaded){if(this.fireEvent("beforeload",this)===!1)return;this.loading=!0,this.ui.beforeLoad(this);var f=this.loader||this.attributes.loader||this.getOwnerTree().getLoader();if(f)return void f.load(this,this.loadComplete.createDelegate(this,[a,b,c]))}Ext.tree.AsyncTreeNode.superclass.expand.call(this,a,b,c)},isLoading:function(){return this.loading},loadComplete:function(a,b,c){this.loading=!1,this.loaded=!0,this.ui.afterLoad(this),this.fireEvent("load",this),this.expand(a,b,c)},isLoaded:function(){return this.loaded},hasChildNodes:function(){return this.isLeaf()||this.loaded?Ext.tree.AsyncTreeNode.superclass.hasChildNodes.call(this):!0},reload:function(a){for(this.collapse(!1,!1);this.firstChild;)this.removeChild(this.firstChild);this.childrenRendered=!1,this.loaded=!1,this.isHiddenRoot()&&(this.expanded=!1),this.expand(!1,!1,a)}}),Ext.tree.TreeNodeUI=function(a){this.node=a,this.rendered=!1,this.animating=!1,this.emptyIcon=Ext.BLANK_IMAGE_URL},Ext.tree.TreeNodeUI.prototype={removeChild:function(a){this.rendered&&this.ctNode.removeChild(a.ui.getEl())},beforeLoad:function(){this.addClass("x-tree-node-loading")},afterLoad:function(){this.removeClass("x-tree-node-loading")},onTextChange:function(a,b,c){this.rendered&&(this.textNode.innerHTML=b)},onDisableChange:function(a,b){this.disabled=b,b?this.addClass("x-tree-node-disabled"):this.removeClass("x-tree-node-disabled")},onSelectedChange:function(a){a?(this.focus(),this.addClass("x-tree-selected")):this.removeClass("x-tree-selected")},onMove:function(a,b,c,d,e,f){if(this.childIndent=null,this.rendered){var g=d.ui.getContainer();if(!g)return this.holder=document.createElement("div"),void this.holder.appendChild(this.wrap);var h=f?f.ui.getEl():null;h?g.insertBefore(this.wrap,h):g.appendChild(this.wrap),this.node.renderIndent(!0)}},addClass:function(a){this.elNode&&Ext.fly(this.elNode).addClass(a)},removeClass:function(a){this.elNode&&Ext.fly(this.elNode).removeClass(a)},remove:function(){this.rendered&&(this.holder=document.createElement("div"),this.holder.appendChild(this.wrap))},fireEvent:function(){return this.node.fireEvent.apply(this.node,arguments)},initEvents:function(){this.node.on("move",this.onMove,this);var a=Ext.EventManager,b=this.anchor,c=Ext.fly(b,"_treeui");Ext.isOpera&&c.setStyle("text-decoration","none"),c.on("click",this.onClick,this),c.on("dblclick",this.onDblClick,this),this.checkbox&&Ext.EventManager.on(this.checkbox,Ext.isIE?"click":"change",this.onCheckChange,this),c.on("contextmenu",this.onContextMenu,this);var d=Ext.fly(this.iconNode);d.on("click",this.onClick,this),d.on("dblclick",this.onDblClick,this),d.on("contextmenu",this.onContextMenu,this),a.on(this.ecNode,"click",this.ecClick,this,!0),this.node.disabled&&this.addClass("x-tree-node-disabled"),this.node.hidden&&this.addClass("x-tree-node-disabled");var e=this.node.getOwnerTree(),f=e.enableDD||e.enableDrag||e.enableDrop;!f||this.node.isRoot&&!e.rootVisible||Ext.dd.Registry.register(this.elNode,{node:this.node,handles:this.getDDHandles(),isHandle:!1})},getDDHandles:function(){return[this.iconNode,this.textNode]},hide:function(){this.rendered&&(this.wrap.style.display="none")},show:function(){this.rendered&&(this.wrap.style.display="")},onContextMenu:function(a){(this.node.hasListener("contextmenu")||this.node.getOwnerTree().hasListener("contextmenu"))&&(a.preventDefault(),this.focus(),this.fireEvent("contextmenu",this.node,a))},onClick:function(a){if(this.dropping)return void a.stopEvent();if(this.fireEvent("beforeclick",this.node,a)!==!1){if(!this.disabled&&this.node.attributes.href)return void this.fireEvent("click",this.node,a);if(a.preventDefault(),this.disabled)return;this.node.attributes.singleClickExpand&&!this.animating&&this.node.hasChildNodes()&&this.node.toggle(),this.fireEvent("click",this.node,a)}else a.stopEvent()},onDblClick:function(a){a.preventDefault(),this.disabled||(this.checkbox&&this.toggleCheck(),!this.animating&&this.node.hasChildNodes()&&this.node.toggle(),this.fireEvent("dblclick",this.node,a))},onCheckChange:function(){var a=this.checkbox.checked;this.node.attributes.checked=a,this.fireEvent("checkchange",this.node,a)},ecClick:function(a){!this.animating&&this.node.hasChildNodes()&&this.node.toggle()},startDrop:function(){this.dropping=!0},endDrop:function(){setTimeout(function(){this.dropping=!1}.createDelegate(this),50)},expand:function(){this.updateExpandIcon(),this.ctNode.style.display=""},focus:function(){if(this.node.preventHScroll){if(!Ext.isIE)try{var a=this.node.getOwnerTree().getTreeEl().dom,b=a.scrollLeft;this.anchor.focus(),a.scrollLeft=b}catch(c){}}else try{this.anchor.focus()}catch(c){}},toggleCheck:function(a){var b=this.checkbox;b&&(b.checked=void 0===a?!b.checked:a)},blur:function(){try{this.anchor.blur()}catch(a){}},animExpand:function(a){var b=Ext.get(this.ctNode);return b.stopFx(),this.node.hasChildNodes()?(this.animating=!0,this.updateExpandIcon(),void b.slideIn("t",{callback:function(){this.animating=!1,Ext.callback(a)},scope:this,duration:this.node.ownerTree.duration||.25})):(this.updateExpandIcon(),this.ctNode.style.display="",void Ext.callback(a))},highlight:function(){var a=this.node.getOwnerTree();Ext.fly(this.wrap).highlight(a.hlColor||"C3DAF9",{endColor:a.hlBaseColor})},collapse:function(){this.updateExpandIcon(),this.ctNode.style.display="none"},animCollapse:function(a){var b=Ext.get(this.ctNode);b.enableDisplayMode("block"),b.stopFx(),this.animating=!0,this.updateExpandIcon(),b.slideOut("t",{callback:function(){this.animating=!1,Ext.callback(a)},scope:this,duration:this.node.ownerTree.duration||.25})},getContainer:function(){return this.ctNode},getEl:function(){return this.wrap},appendDDGhost:function(a){a.appendChild(this.elNode.cloneNode(!0))},getDDRepairXY:function(){return Ext.lib.Dom.getXY(this.iconNode)},onRender:function(){this.render()},render:function(a){var b=this.node,c=b.attributes,d=b.parentNode?b.parentNode.ui.getContainer():b.ownerTree.innerCt.dom;this.rendered?a===!0&&d.appendChild(this.wrap):(this.rendered=!0,this.renderElements(b,c,d,a),c.qtip?this.textNode.setAttributeNS?(this.textNode.setAttributeNS("ext","qtip",c.qtip),c.qtipTitle&&this.textNode.setAttributeNS("ext","qtitle",c.qtipTitle)):(this.textNode.setAttribute("ext:qtip",c.qtip),c.qtipTitle&&this.textNode.setAttribute("ext:qtitle",c.qtipTitle)):c.qtipCfg&&(c.qtipCfg.target=Ext.id(this.textNode),Ext.QuickTips.register(c.qtipCfg)),this.initEvents(),this.node.expanded||this.updateExpandIcon())},renderElements:function(a,b,c,d){this.indentMarkup=a.parentNode?a.parentNode.ui.getChildIndent():"";var e="boolean"==typeof b.checked,f=b.href?b.href:Ext.isGecko?"":"#",g=['<li class="x-tree-node"><div class="x-tree-node-el ',b.cls,'">','<span class="x-tree-node-indent">',this.indentMarkup,"</span>",'<img src="',this.emptyIcon,'" class="x-tree-ec-icon" />','<img src="',b.icon||this.emptyIcon,'" class="x-tree-node-icon',b.icon?" x-tree-node-inline-icon":"",b.iconCls?" "+b.iconCls:"",'" unselectable="on" />',e?'<input class="x-tree-node-cb" type="checkbox" '+(b.checked?'checked="checked" />':" />"):"",'<a hidefocus="on" href="',f,'" tabIndex="1" ',b.hrefTarget?' target="'+b.hrefTarget+'"':"",'><span unselectable="on">',a.text,"</span></a></div>",'<ul class="x-tree-node-ct" style="display:none;"></ul>',"</li>"];d!==!0&&a.nextSibling&&a.nextSibling.ui.getEl()?this.wrap=Ext.DomHelper.insertHtml("beforeBegin",a.nextSibling.ui.getEl(),g.join("")):this.wrap=Ext.DomHelper.insertHtml("beforeEnd",c,g.join("")),this.elNode=this.wrap.childNodes[0],this.ctNode=this.wrap.childNodes[1];var h=this.elNode.childNodes;this.indentNode=h[0],this.ecNode=h[1],this.iconNode=h[2];var i=3;e&&(this.checkbox=h[3],i++),this.anchor=h[i],this.textNode=h[i].firstChild},getAnchor:function(){return this.anchor},getTextEl:function(){return this.textNode},getIconEl:function(){return this.iconNode},isChecked:function(){return this.checkbox?this.checkbox.checked:!1},updateExpandIcon:function(){if(this.rendered){var a,b,c=this.node,d=c.isLast()?"x-tree-elbow-end":"x-tree-elbow",e=c.hasChildNodes();e?(c.expanded?(d+="-minus",a="x-tree-node-collapsed",b="x-tree-node-expanded"):(d+="-plus",a="x-tree-node-expanded",b="x-tree-node-collapsed"),this.wasLeaf&&(this.removeClass("x-tree-node-leaf"),this.wasLeaf=!1),(this.c1!=a||this.c2!=b)&&(Ext.fly(this.elNode).replaceClass(a,b),this.c1=a,this.c2=b)):this.wasLeaf||(Ext.fly(this.elNode).replaceClass("x-tree-node-expanded","x-tree-node-leaf"),delete this.c1,delete this.c2,this.wasLeaf=!0);var f="x-tree-ec-icon "+d;this.ecc!=f&&(this.ecNode.className=f,this.ecc=f)}},getChildIndent:function(){if(!this.childIndent){for(var a=[],b=this.node;b;)(!b.isRoot||b.isRoot&&b.ownerTree.rootVisible)&&(b.isLast()?a.unshift('<img src="'+this.emptyIcon+'" class="x-tree-icon" />'):a.unshift('<img src="'+this.emptyIcon+'" class="x-tree-elbow-line" />')),b=b.parentNode;this.childIndent=a.join("")}return this.childIndent},renderIndent:function(){if(this.rendered){var a="",b=this.node.parentNode;b&&(a=b.ui.getChildIndent()),this.indentMarkup!=a&&(this.indentNode.innerHTML=a,this.indentMarkup=a),this.updateExpandIcon()}}},Ext.tree.RootTreeNodeUI=function(){Ext.tree.RootTreeNodeUI.superclass.constructor.apply(this,arguments)},Ext.extend(Ext.tree.RootTreeNodeUI,Ext.tree.TreeNodeUI,{render:function(){if(!this.rendered){var a=this.node.ownerTree.innerCt.dom;this.node.expanded=!0,a.innerHTML='<div class="x-tree-root-node"></div>',this.wrap=this.ctNode=a.firstChild}},collapse:function(){},expand:function(){}}),Ext.tree.TreeLoader=function(a){this.baseParams={},this.requestMethod="POST",Ext.apply(this,a),this.addEvents({beforeload:!0,load:!0,loadexception:!0}),Ext.tree.TreeLoader.superclass.constructor.call(this)},Ext.extend(Ext.tree.TreeLoader,Ext.util.Observable,{uiProviders:{},clearOnLoad:!0,load:function(a,b){if(this.clearOnLoad)for(;a.firstChild;)a.removeChild(a.firstChild);if(a.attributes.children){for(var c=a.attributes.children,d=0,e=c.length;e>d;d++)a.appendChild(this.createNode(c[d]));"function"==typeof b&&b()}else this.dataUrl&&this.requestData(a,b)},getParams:function(a){var b=[],c=this.baseParams;for(var d in c)"function"!=typeof c[d]&&b.push(encodeURIComponent(d),"=",encodeURIComponent(c[d]),"&");return b.push("node=",encodeURIComponent(a.id)),b.join("")},requestData:function(a,b){this.fireEvent("beforeload",this,a,b)!==!1?this.transId=Ext.Ajax.request({method:this.requestMethod,url:this.dataUrl||this.url,success:this.handleResponse,failure:this.handleFailure,scope:this,argument:{callback:b,node:a},params:this.getParams(a)}):"function"==typeof b&&b()},isLoading:function(){return this.transId?!0:!1},abort:function(){this.isLoading()&&Ext.Ajax.abort(this.transId)},createNode:function(attr){return this.baseAttrs&&Ext.applyIf(attr,this.baseAttrs),this.applyLoader!==!1&&(attr.loader=this),"string"==typeof attr.uiProvider&&(attr.uiProvider=this.uiProviders[attr.uiProvider]||eval(attr.uiProvider)),attr.leaf?new Ext.tree.TreeNode(attr):new Ext.tree.AsyncTreeNode(attr)},processResponse:function(response,node,callback){var json=response.responseText;try{for(var o=eval("("+json+")"),i=0,len=o.length;len>i;i++){var n=this.createNode(o[i]);n&&node.appendChild(n)}"function"==typeof callback&&callback(this,node)}catch(e){this.handleFailure(response)}},handleResponse:function(a){this.transId=!1;var b=a.argument;this.processResponse(a,b.node,b.callback),this.fireEvent("load",this,b.node,a)},handleFailure:function(a){this.transId=!1;var b=a.argument;this.fireEvent("loadexception",this,b.node,a),"function"==typeof b.callback&&b.callback(this,b.node)}}),Ext.tree.TreeFilter=function(a,b){this.tree=a,this.filtered={},Ext.apply(this,b)},Ext.tree.TreeFilter.prototype={clearBlank:!1,reverse:!1,autoClear:!1,remove:!1,filter:function(a,b,c){b=b||"text";var d;if("string"==typeof a){var e=a.length;if(0==e&&this.clearBlank)return void this.clear();a=a.toLowerCase(),d=function(c){return c.attributes[b].substr(0,e).toLowerCase()==a}}else{if(!a.exec)throw"Illegal filter type, must be string or regex";d=function(c){return a.test(c.attributes[b])}}this.filterBy(d,null,c)},filterBy:function(a,b,c){c=c||this.tree.root,this.autoClear&&this.clear();var d=this.filtered,e=this.reverse,f=function(f){if(f==c)return!0;if(d[f.id])return!1;var g=a.call(b||f,f);return!g||e?(d[f.id]=f,f.ui.hide(),!1):!0};if(c.cascade(f),this.remove)for(var g in d)if("function"!=typeof g){var h=d[g];h&&h.parentNode&&h.parentNode.removeChild(h)}},clear:function(){var a=(this.tree,this.filtered);for(var b in a)if("function"!=typeof b){var c=a[b];c&&c.ui.show()}this.filtered={}}},Ext.tree.TreeSorter=function(a,b){Ext.apply(this,b),a.on("beforechildrenrendered",this.doSort,this),a.on("append",this.updateSort,this),a.on("insert",this.updateSort,this);var c=this.dir&&"desc"==this.dir.toLowerCase(),d=this.property||"text",e=this.sortType,f=this.folderSort,g=this.caseSensitive===!0,h=this.leafAttr||"leaf";this.sortFn=function(a,b){if(f){if(a.attributes[h]&&!b.attributes[h])return 1;if(!a.attributes[h]&&b.attributes[h])return-1}var i=e?e(a):g?a.attributes[d]:a.attributes[d].toUpperCase(),j=e?e(b):g?b.attributes[d]:b.attributes[d].toUpperCase();return j>i?c?1:-1:i>j?c?-1:1:0}},Ext.tree.TreeSorter.prototype={doSort:function(a){a.sort(this.sortFn)},compareNodes:function(a,b){return a.text.toUpperCase()>b.text.toUpperCase()?1:-1},updateSort:function(a,b){b.childrenRendered&&this.doSort.defer(1,this,[b])}},Ext.dd.DropZone&&(Ext.tree.TreeDropZone=function(a,b){this.allowParentInsert=!1,this.allowContainerDrop=!1,this.appendOnly=!1,Ext.tree.TreeDropZone.superclass.constructor.call(this,a.innerCt,b),this.tree=a,this.lastInsertClass="x-tree-no-status",this.dragOverData={}},Ext.extend(Ext.tree.TreeDropZone,Ext.dd.DropZone,{ddGroup:"TreeDD",expandDelay:1e3,expandNode:function(a){a.hasChildNodes()&&!a.isExpanded()&&a.expand(!1,null,this.triggerCacheRefresh.createDelegate(this))},queueExpand:function(a){this.expandProcId=this.expandNode.defer(this.expandDelay,this,[a])},cancelExpand:function(){this.expandProcId&&(clearTimeout(this.expandProcId),this.expandProcId=!1)},isValidDropPoint:function(a,b,c,d,e){if(!a||!e)return!1;var f=a.node,g=e.node;if(!(f&&f.isTarget&&b))return!1;if("append"==b&&f.allowChildren===!1)return!1;if(("above"==b||"below"==b)&&f.parentNode&&f.parentNode.allowChildren===!1)return!1;if(g&&(f==g||g.contains(f)))return!1;var h=this.dragOverData;h.tree=this.tree,h.target=f,h.data=e,h.point=b,h.source=c,h.rawEvent=d,h.dropNode=g,h.cancel=!1;var i=this.tree.fireEvent("nodedragover",h);return h.cancel===!1&&i!==!1},getDropPoint:function(a,b,c){var d=b.node;if(d.isRoot)return d.allowChildren!==!1?"append":!1;var e=b.ddel,f=Ext.lib.Dom.getY(e),g=f+e.offsetHeight,h=Ext.lib.Event.getPageY(a),i=d.allowChildren===!1||d.isLeaf();if(this.appendOnly||d.parentNode.allowChildren===!1)return i?!1:"append";var j=!1;this.allowParentInsert||(j=d.hasChildNodes()&&d.isExpanded());var k=(g-f)/(i?2:3);return h>=f&&f+k>h?"above":!j&&(i||h>=g-k&&g>=h)?"below":"append"},onNodeEnter:function(a,b,c,d){this.cancelExpand()},onNodeOver:function(a,b,c,d){var e=this.getDropPoint(c,a,b),f=a.node;this.expandProcId||"append"!=e||!f.hasChildNodes()||a.node.isExpanded()?"append"!=e&&this.cancelExpand():this.queueExpand(f);var g=this.dropNotAllowed;if(this.isValidDropPoint(a,e,b,c,d)&&e){var h,i=a.ddel;"above"==e?(g=a.node.isFirst()?"x-tree-drop-ok-above":"x-tree-drop-ok-between",h="x-tree-drag-insert-above"):"below"==e?(g=a.node.isLast()?"x-tree-drop-ok-below":"x-tree-drop-ok-between",h="x-tree-drag-insert-below"):(g="x-tree-drop-ok-append",h="x-tree-drag-append"),this.lastInsertClass!=h&&(Ext.fly(i).replaceClass(this.lastInsertClass,h),this.lastInsertClass=h)}return g},onNodeOut:function(a,b,c,d){this.cancelExpand(),this.removeDropIndicators(a)},onNodeDrop:function(a,b,c,d){var e=this.getDropPoint(c,a,b),f=a.node;if(f.ui.startDrop(),!this.isValidDropPoint(a,e,b,c,d))return f.ui.endDrop(),!1;var g=d.node||(b.getTreeNode?b.getTreeNode(d,f,e,c):null),h={tree:this.tree,target:f,data:d,point:e,source:b,rawEvent:c,dropNode:g,cancel:!g},i=this.tree.fireEvent("beforenodedrop",h);return i!==!1&&h.cancel!==!0&&h.dropNode?(f=h.target,"append"!=e||f.isExpanded()?this.completeDrop(h):f.expand(!1,null,function(){this.completeDrop(h)}.createDelegate(this)),!0):(f.ui.endDrop(),!1)},completeDrop:function(a){var b=a.dropNode,c=a.point,d=a.target;b instanceof Array||(b=[b]);for(var e,f=0,g=b.length;g>f;f++)e=b[f],"above"==c?d.parentNode.insertBefore(e,d):"below"==c?d.parentNode.insertBefore(e,d.nextSibling):d.appendChild(e);e.ui.focus(),this.tree.hlDrop&&e.ui.highlight(),d.ui.endDrop(),this.tree.fireEvent("nodedrop",a)},afterNodeMoved:function(a,b,c,d,e){this.tree.hlDrop&&(e.ui.focus(),e.ui.highlight()),this.tree.fireEvent("nodedrop",this.tree,d,b,a,c)},getTree:function(){return this.tree},removeDropIndicators:function(a){if(a&&a.ddel){var b=a.ddel;Ext.fly(b).removeClass(["x-tree-drag-insert-above","x-tree-drag-insert-below","x-tree-drag-append"]),this.lastInsertClass="_noclass"}},beforeDragDrop:function(a,b,c){return this.cancelExpand(),!0},afterRepair:function(a){a&&Ext.enableFx&&a.node.ui.highlight(),this.hideProxy()}})),Ext.dd.DragZone&&(Ext.tree.TreeDragZone=function(a,b){Ext.tree.TreeDragZone.superclass.constructor.call(this,a.getTreeEl(),b),this.tree=a},Ext.extend(Ext.tree.TreeDragZone,Ext.dd.DragZone,{ddGroup:"TreeDD",onBeforeDrag:function(a,b){var c=a.node;return c&&c.draggable&&!c.disabled},onInitDrag:function(a){var b=this.dragData;this.tree.getSelectionModel().select(b.node),this.proxy.update(""),b.node.ui.appendDDGhost(this.proxy.ghost.dom),this.tree.fireEvent("startdrag",this.tree,b.node,a)},getRepairXY:function(a,b){return b.node.ui.getDDRepairXY()},onEndDrag:function(a,b){this.tree.fireEvent("enddrag",this.tree,a.node,b)},onValidDrop:function(a,b,c){this.tree.fireEvent("dragdrop",this.tree,this.dragData.node,a,b),this.hideProxy()},beforeInvalidDrop:function(a,b){var c=this.tree.getSelectionModel();c.clearSelections(),c.select(this.dragData.node)}})),Ext.tree.TreeEditor=function(a,b){b=b||{};var c=b.events?b:new Ext.form.TextField(b);Ext.tree.TreeEditor.superclass.constructor.call(this,c),this.tree=a,a.on("beforeclick",this.beforeNodeClick,this),a.getTreeEl().on("mousedown",this.hide,this),this.on("complete",this.updateNode,this),this.on("beforestartedit",this.fitToTree,this),this.on("startedit",this.bindScroll,this,{delay:10}),this.on("specialkey",this.onSpecialKey,this)},Ext.extend(Ext.tree.TreeEditor,Ext.Editor,{alignment:"l-l",autoSize:!1,hideEl:!1,cls:"x-small-editor x-tree-editor",shim:!1,shadow:"frame",maxWidth:250,editDelay:350,fitToTree:function(a,b){var c=this.tree.getTreeEl().dom,d=b.dom;c.scrollLeft>d.offsetLeft&&(c.scrollLeft=d.offsetLeft);var e=Math.min(this.maxWidth,(c.clientWidth>20?c.clientWidth:c.offsetWidth)-Math.max(0,d.offsetLeft-c.scrollLeft)-5);this.setSize(e,"")},triggerEdit:function(a){this.completeEdit(),this.editNode=a,this.startEdit(a.ui.textNode,a.text)},bindScroll:function(){this.tree.getTreeEl().on("scroll",this.cancelEdit,this)},beforeNodeClick:function(a,b){var c=this.lastClick?this.lastClick.getElapsed():0;return this.lastClick=new Date,c>this.editDelay&&this.tree.getSelectionModel().isSelected(a)?(b.stopEvent(),this.triggerEdit(a),!1):void 0},updateNode:function(a,b){this.tree.getTreeEl().un("scroll",this.cancelEdit,this),this.editNode.setText(b)},onHide:function(){Ext.tree.TreeEditor.superclass.onHide.call(this),this.editNode&&this.editNode.ui.focus()},onSpecialKey:function(a,b){var c=b.getKey();c==b.ESC?(b.stopEvent(),this.cancelEdit()):c!=b.ENTER||b.hasModifier()||(b.stopEvent(),this.completeEdit())}}),Ext.menu.Menu=function(a){Ext.apply(this,a),this.id=this.id||Ext.id(),this.addEvents({beforeshow:!0,beforehide:!0,show:!0,hide:!0,click:!0,mouseover:!0,mouseout:!0,itemclick:!0}),Ext.menu.MenuMgr.register(this);var b=this.items;this.items=new Ext.util.MixedCollection,
b&&this.add.apply(this,b)},Ext.extend(Ext.menu.Menu,Ext.util.Observable,{minWidth:120,shadow:"sides",subMenuAlign:"tl-tr?",defaultAlign:"tl-bl?",allowOtherMenus:!1,hidden:!0,render:function(){if(!this.el){var a=this.el=new Ext.Layer({cls:"x-menu",shadow:this.shadow,constrain:!1,parentEl:this.parentEl||document.body,zindex:15e3});this.keyNav=new Ext.menu.MenuNav(this),this.plain&&a.addClass("x-menu-plain"),this.cls&&a.addClass(this.cls),this.focusEl=a.createChild({tag:"a",cls:"x-menu-focus",href:"#",onclick:"return false;",tabIndex:"-1"});var b=a.createChild({tag:"ul",cls:"x-menu-list"});b.on("click",this.onClick,this),b.on("mouseover",this.onMouseOver,this),b.on("mouseout",this.onMouseOut,this),this.items.each(function(a){var c=document.createElement("li");c.className="x-menu-list-item",b.dom.appendChild(c),a.render(c,this)},this),this.ul=b,this.autoWidth()}},autoWidth:function(){var a=this.el,b=this.ul;if(a){var c=this.width;if(c)a.setWidth(c);else if(Ext.isIE){a.setWidth(this.minWidth);a.dom.offsetWidth;a.setWidth(b.getWidth()+a.getFrameWidth("lr"))}}},delayAutoWidth:function(){this.rendered&&(this.awTask||(this.awTask=new Ext.util.DelayedTask(this.autoWidth,this)),this.awTask.delay(20))},findTargetItem:function(a){var b=a.getTarget(".x-menu-list-item",this.ul,!0);return b&&b.menuItemId?this.items.get(b.menuItemId):void 0},onClick:function(a){var b;(b=this.findTargetItem(a))&&(b.onClick(a),this.fireEvent("click",this,b,a))},setActiveItem:function(a,b){a!=this.activeItem?(this.activeItem&&this.activeItem.deactivate(),this.activeItem=a,a.activate(b)):b&&a.expandMenu()},tryActivate:function(a,b){for(var c=this.items,d=a,e=c.length;d>=0&&e>d;d+=b){var f=c.get(d);if(!f.disabled&&f.canActivate)return this.setActiveItem(f,!1),f}return!1},onMouseOver:function(a){var b;(b=this.findTargetItem(a))&&b.canActivate&&!b.disabled&&this.setActiveItem(b,!0),this.fireEvent("mouseover",this,a,b)},onMouseOut:function(a){var b;(b=this.findTargetItem(a))&&b==this.activeItem&&b.shouldDeactivate(a)&&(this.activeItem.deactivate(),delete this.activeItem),this.fireEvent("mouseout",this,a,b)},isVisible:function(){return this.el&&!this.hidden},show:function(a,b,c){this.parentMenu=c,this.el||this.render(),this.fireEvent("beforeshow",this),this.showAt(this.el.getAlignToXY(a,b||this.defaultAlign),c,!1)},showAt:function(a,b,c){this.parentMenu=b,this.el||this.render(),c!==!1&&(this.fireEvent("beforeshow",this),a=this.el.adjustForConstraints(a)),this.el.setXY(a),this.el.show(),this.hidden=!1,this.focus(),this.fireEvent("show",this)},focus:function(){this.hidden||this.doFocus.defer(50,this)},doFocus:function(){this.hidden||this.focusEl.focus()},hide:function(a){this.el&&this.isVisible()&&(this.fireEvent("beforehide",this),this.activeItem&&(this.activeItem.deactivate(),this.activeItem=null),this.el.hide(),this.hidden=!0,this.fireEvent("hide",this)),a===!0&&this.parentMenu&&this.parentMenu.hide(!0)},add:function(){for(var a,b=arguments,c=b.length,d=0;c>d;d++){var e=b[d];e.render?a=this.addItem(e):"string"==typeof e?a="separator"==e||"-"==e?this.addSeparator():this.addText(e):e.tagName||e.el?a=this.addElement(e):"object"==typeof e&&(a=this.addMenuItem(e))}return a},getEl:function(){return this.el||this.render(),this.el},addSeparator:function(){return this.addItem(new Ext.menu.Separator)},addElement:function(a){return this.addItem(new Ext.menu.BaseItem(a))},addItem:function(a){if(this.items.add(a),this.ul){var b=document.createElement("li");b.className="x-menu-list-item",this.ul.dom.appendChild(b),a.render(b,this),this.delayAutoWidth()}return a},addMenuItem:function(a){return a instanceof Ext.menu.Item||(a="boolean"==typeof a.checked?new Ext.menu.CheckItem(a):new Ext.menu.Item(a)),this.addItem(a)},addText:function(a){return this.addItem(new Ext.menu.TextItem(a))},insert:function(a,b){if(this.items.insert(a,b),this.ul){var c=document.createElement("li");c.className="x-menu-list-item",this.ul.dom.insertBefore(c,this.ul.dom.childNodes[a]),b.render(c,this),this.delayAutoWidth()}return b},remove:function(a){this.items.removeKey(a.id),a.destroy()},removeAll:function(){for(var a;a=this.items.first();)this.remove(a)}}),Ext.menu.MenuNav=function(a){Ext.menu.MenuNav.superclass.constructor.call(this,a.el),this.scope=this.menu=a},Ext.extend(Ext.menu.MenuNav,Ext.KeyNav,{doRelay:function(a,b){var c=a.getKey();return!this.menu.activeItem&&a.isNavKeyPress()&&c!=a.SPACE&&c!=a.RETURN?(this.menu.tryActivate(0,1),!1):b.call(this.scope||this,a,this.menu)},up:function(a,b){b.tryActivate(b.items.indexOf(b.activeItem)-1,-1)||b.tryActivate(b.items.length-1,-1)},down:function(a,b){b.tryActivate(b.items.indexOf(b.activeItem)+1,1)||b.tryActivate(0,1)},right:function(a,b){b.activeItem&&b.activeItem.expandMenu(!0)},left:function(a,b){b.hide(),b.parentMenu&&b.parentMenu.activeItem&&b.parentMenu.activeItem.activate()},enter:function(a,b){return b.activeItem?(a.stopPropagation(),b.activeItem.onClick(a),b.fireEvent("click",this,b.activeItem),!0):void 0}}),Ext.menu.MenuMgr=function(){function a(){i={},j=new Ext.util.MixedCollection,Ext.get(document).addKeyListener(27,function(){j.length>0&&b()})}function b(){if(j&&j.length>0){var a=j.clone();a.each(function(a){a.hide()})}}function c(a){j.remove(a),j.length<1&&(Ext.get(document).un("mousedown",g),l=!1)}function d(a){var b=j.last();m=new Date,j.add(a),l||(Ext.get(document).on("mousedown",g),l=!0),a.parentMenu?(a.getEl().setZIndex(parseInt(a.parentMenu.getEl().getStyle("z-index"),10)+3),a.parentMenu.activeChild=a):b&&b.isVisible()&&a.getEl().setZIndex(parseInt(b.getEl().getStyle("z-index"),10)+3)}function e(a){a.activeChild&&a.activeChild.hide(),a.autoHideTimer&&(clearTimeout(a.autoHideTimer),delete a.autoHideTimer)}function f(a){var c=a.parentMenu;c||a.allowOtherMenus?c&&c.activeChild&&c.activeChild.hide():b()}function g(a){m.getElapsed()>50&&j.length>0&&!a.getTarget(".x-menu")&&b()}function h(a,b){if(b)for(var c=k[a.group],d=0,e=c.length;e>d;d++)c[d]!=a&&c[d].setChecked(!1)}var i,j,k={},l=!1,m=new Date;return{hideAll:function(){b()},register:function(b){i||a(),i[b.id]=b,b.on("beforehide",e),b.on("hide",c),b.on("beforeshow",f),b.on("show",d);var g=b.group;g&&b.events.checkchange&&(k[g]||(k[g]=[]),k[g].push(b),b.on("checkchange",onCheck))},get:function(a){return"string"==typeof a?i[a]:a.events?a:"number"==typeof a.length?new Ext.menu.Menu({items:a}):new Ext.menu.Menu(a)},unregister:function(a){delete i[a.id],a.un("beforehide",e),a.un("hide",c),a.un("beforeshow",f),a.un("show",d);var b=a.group;b&&a.events.checkchange&&(k[b].remove(a),a.un("checkchange",onCheck))},registerCheckable:function(a){var b=a.group;b&&(k[b]||(k[b]=[]),k[b].push(a),a.on("beforecheckchange",h))},unregisterCheckable:function(a){var b=a.group;b&&(k[b].remove(a),a.un("beforecheckchange",h))}}}(),Ext.menu.BaseItem=function(a){Ext.menu.BaseItem.superclass.constructor.call(this,a),this.addEvents({click:!0,activate:!0,deactivate:!0}),this.handler&&this.on("click",this.handler,this.scope,!0)},Ext.extend(Ext.menu.BaseItem,Ext.Component,{canActivate:!1,activeClass:"x-menu-item-active",hideOnClick:!0,hideDelay:100,ctype:"Ext.menu.BaseItem",actionMode:"container",render:function(a,b){this.parentMenu=b,Ext.menu.BaseItem.superclass.render.call(this,a),this.container.menuItemId=this.id},onRender:function(a,b){this.el=Ext.get(this.el),a.dom.appendChild(this.el.dom)},onClick:function(a){this.disabled||this.fireEvent("click",this,a)===!1||this.parentMenu.fireEvent("itemclick",this,a)===!1?a.stopEvent():this.handleClick(a)},activate:function(){if(this.disabled)return!1;var a=this.container;return a.addClass(this.activeClass),this.region=a.getRegion().adjust(2,2,-2,-2),this.fireEvent("activate",this),!0},deactivate:function(){this.container.removeClass(this.activeClass),this.fireEvent("deactivate",this)},shouldDeactivate:function(a){return!this.region||!this.region.contains(a.getPoint())},handleClick:function(a){this.hideOnClick&&this.parentMenu.hide.defer(this.hideDelay,this.parentMenu,[!0])},expandMenu:function(a){},hideMenu:function(){}}),Ext.menu.TextItem=function(a){this.text=a,Ext.menu.TextItem.superclass.constructor.call(this)},Ext.extend(Ext.menu.TextItem,Ext.menu.BaseItem,{hideOnClick:!1,itemCls:"x-menu-text",onRender:function(){var a=document.createElement("span");a.className=this.itemCls,a.innerHTML=this.text,this.el=a,Ext.menu.TextItem.superclass.onRender.apply(this,arguments)}}),Ext.menu.Separator=function(a){Ext.menu.Separator.superclass.constructor.call(this,a)},Ext.extend(Ext.menu.Separator,Ext.menu.BaseItem,{itemCls:"x-menu-sep",hideOnClick:!1,onRender:function(a){var b=document.createElement("span");b.className=this.itemCls,b.innerHTML="&#160;",this.el=b,a.addClass("x-menu-sep-li"),Ext.menu.Separator.superclass.onRender.apply(this,arguments)}}),Ext.menu.Item=function(a){Ext.menu.Item.superclass.constructor.call(this,a),this.menu&&(this.menu=Ext.menu.MenuMgr.get(this.menu))},Ext.extend(Ext.menu.Item,Ext.menu.BaseItem,{itemCls:"x-menu-item",canActivate:!0,showDelay:200,hideDelay:200,ctype:"Ext.menu.Item",onRender:function(a,b){var c=document.createElement("a");c.hideFocus=!0,c.unselectable="on",c.href=this.href||"#",this.hrefTarget&&(c.target=this.hrefTarget),c.className=this.itemCls+(this.menu?" x-menu-item-arrow":"")+(this.cls?" "+this.cls:""),c.innerHTML=String.format('<img src="{0}" class="x-menu-item-icon {2}" />{1}',this.icon||Ext.BLANK_IMAGE_URL,this.text,this.iconCls||""),this.el=c,Ext.menu.Item.superclass.onRender.call(this,a,b)},setText:function(a){this.text=a,this.rendered&&(this.el.update(String.format('<img src="{0}" class="x-menu-item-icon {2}">{1}',this.icon||Ext.BLANK_IMAGE_URL,this.text,this.iconCls||"")),this.parentMenu.autoWidth())},handleClick:function(a){this.href||a.stopEvent(),Ext.menu.Item.superclass.handleClick.apply(this,arguments)},activate:function(a){return Ext.menu.Item.superclass.activate.apply(this,arguments)&&(this.focus(),a&&this.expandMenu()),!0},shouldDeactivate:function(a){return Ext.menu.Item.superclass.shouldDeactivate.call(this,a)?this.menu&&this.menu.isVisible()?!this.menu.getEl().getRegion().contains(a.getPoint()):!0:!1},deactivate:function(){Ext.menu.Item.superclass.deactivate.apply(this,arguments),this.hideMenu()},expandMenu:function(a){!this.disabled&&this.menu&&(clearTimeout(this.hideTimer),delete this.hideTimer,this.menu.isVisible()||this.showTimer?this.menu.isVisible()&&a&&this.menu.tryActivate(0,1):this.showTimer=this.deferExpand.defer(this.showDelay,this,[a]))},deferExpand:function(a){delete this.showTimer,this.menu.show(this.container,this.parentMenu.subMenuAlign||"tl-tr?",this.parentMenu),a&&this.menu.tryActivate(0,1)},hideMenu:function(){clearTimeout(this.showTimer),delete this.showTimer,!this.hideTimer&&this.menu&&this.menu.isVisible()&&(this.hideTimer=this.deferHide.defer(this.hideDelay,this))},deferHide:function(){delete this.hideTimer,this.menu.hide()}}),Ext.menu.CheckItem=function(a){Ext.menu.CheckItem.superclass.constructor.call(this,a),this.addEvents({beforecheckchange:!0,checkchange:!0}),this.checkHandler&&this.on("checkchange",this.checkHandler,this.scope)},Ext.extend(Ext.menu.CheckItem,Ext.menu.Item,{itemCls:"x-menu-item x-menu-check-item",groupClass:"x-menu-group-item",checked:!1,ctype:"Ext.menu.CheckItem",onRender:function(a){Ext.menu.CheckItem.superclass.onRender.apply(this,arguments),this.group&&this.el.addClass(this.groupClass),Ext.menu.MenuMgr.registerCheckable(this),this.checked&&(this.checked=!1,this.setChecked(!0,!0))},destroy:function(){this.rendered&&Ext.menu.MenuMgr.unregisterCheckable(this),Ext.menu.CheckItem.superclass.destroy.apply(this,arguments)},setChecked:function(a,b){this.checked!=a&&this.fireEvent("beforecheckchange",this,a)!==!1&&(this.container&&this.container[a?"addClass":"removeClass"]("x-menu-item-checked"),this.checked=a,b!==!0&&this.fireEvent("checkchange",this,a))},handleClick:function(a){this.disabled||this.checked&&this.group||this.setChecked(!this.checked),Ext.menu.CheckItem.superclass.handleClick.apply(this,arguments)}}),Ext.menu.Adapter=function(a,b){Ext.menu.Adapter.superclass.constructor.call(this,b),this.component=a},Ext.extend(Ext.menu.Adapter,Ext.menu.BaseItem,{canActivate:!0,onRender:function(a,b){this.component.render(a),this.el=this.component.getEl()},activate:function(){return this.disabled?!1:(this.component.focus(),this.fireEvent("activate",this),!0)},deactivate:function(){this.fireEvent("deactivate",this)},disable:function(){this.component.disable(),Ext.menu.Adapter.superclass.disable.call(this)},enable:function(){this.component.enable(),Ext.menu.Adapter.superclass.enable.call(this)}}),Ext.menu.DateItem=function(a){Ext.menu.DateItem.superclass.constructor.call(this,new Ext.DatePicker(a),a),this.picker=this.component,this.addEvents({select:!0}),this.picker.on("render",function(a){a.getEl().swallowEvent("click"),a.container.addClass("x-menu-date-item")}),this.picker.on("select",this.onSelect,this)},Ext.extend(Ext.menu.DateItem,Ext.menu.Adapter,{onSelect:function(a,b){this.fireEvent("select",this,b,a),Ext.menu.DateItem.superclass.handleClick.call(this)}}),Ext.menu.ColorItem=function(a){Ext.menu.ColorItem.superclass.constructor.call(this,new Ext.ColorPalette(a),a),this.palette=this.component,this.relayEvents(this.palette,["select"]),this.selectHandler&&this.on("select",this.selectHandler,this.scope)},Ext.extend(Ext.menu.ColorItem,Ext.menu.Adapter),Ext.menu.DateMenu=function(a){Ext.menu.DateMenu.superclass.constructor.call(this,a),this.plain=!0;var b=new Ext.menu.DateItem(a);this.add(b),this.picker=b.picker,this.relayEvents(b,["select"]),this.on("beforeshow",function(){this.picker&&this.picker.hideMonthPicker(!0)},this)},Ext.extend(Ext.menu.DateMenu,Ext.menu.Menu,{cls:"x-date-menu"}),Ext.menu.ColorMenu=function(a){Ext.menu.ColorMenu.superclass.constructor.call(this,a),this.plain=!0;var b=new Ext.menu.ColorItem(a);this.add(b),this.palette=b.palette,this.relayEvents(b,["select"])},Ext.extend(Ext.menu.ColorMenu,Ext.menu.Menu),Ext.form.Field=function(a){Ext.form.Field.superclass.constructor.call(this,a)},Ext.extend(Ext.form.Field,Ext.BoxComponent,{invalidClass:"x-form-invalid",invalidText:"The value in this field is invalid",focusClass:"x-form-focus",validationEvent:"keyup",validateOnBlur:!0,validationDelay:250,defaultAutoCreate:{tag:"input",type:"text",size:"20",autocomplete:"off"},fieldClass:"x-form-field",msgTarget:"qtip",msgFx:"normal",readOnly:!1,disabled:!1,inputType:void 0,tabIndex:void 0,isFormField:!0,hasFocus:!1,value:void 0,initComponent:function(){Ext.form.Field.superclass.initComponent.call(this),this.addEvents({focus:!0,blur:!0,specialkey:!0,change:!0,invalid:!0,valid:!0})},getName:function(){return this.rendered&&this.el.dom.name?this.el.dom.name:this.hiddenName||""},onRender:function(a,b){if(Ext.form.Field.superclass.onRender.call(this,a,b),!this.el){var c=this.getAutoCreate();c.name||(c.name=this.name||this.id),this.inputType&&(c.type=this.inputType),this.el=a.createChild(c,b)}var d=this.el.dom.type;d&&("password"==d&&(d="text"),this.el.addClass("x-form-"+d)),this.readOnly&&(this.el.dom.readOnly=!0),void 0!==this.tabIndex&&this.el.dom.setAttribute("tabIndex",this.tabIndex),this.el.addClass([this.fieldClass,this.cls]),this.initValue()},applyTo:function(a){return this.allowDomMove=!1,this.el=Ext.get(a),this.render(this.el.dom.parentNode),this},initValue:function(){void 0!==this.value?this.setValue(this.value):this.el.dom.value.length>0&&this.setValue(this.el.dom.value)},isDirty:function(){return this.disabled?!1:String(this.getValue())!==String(this.originalValue)},afterRender:function(){Ext.form.Field.superclass.afterRender.call(this),this.initEvents()},fireKey:function(a){a.isNavKeyPress()&&this.fireEvent("specialkey",this,a)},reset:function(){this.setValue(this.originalValue),this.clearInvalid()},initEvents:function(){this.el.on(Ext.isIE?"keydown":"keypress",this.fireKey,this),this.el.on("focus",this.onFocus,this),this.el.on("blur",this.onBlur,this),this.originalValue=this.getValue()},onFocus:function(){!Ext.isOpera&&this.focusClass&&this.el.addClass(this.focusClass),this.hasFocus||(this.hasFocus=!0,this.startValue=this.getValue(),this.fireEvent("focus",this))},beforeBlur:Ext.emptyFn,onBlur:function(){this.beforeBlur(),!Ext.isOpera&&this.focusClass&&this.el.removeClass(this.focusClass),this.hasFocus=!1,this.validationEvent!==!1&&this.validateOnBlur&&"blur"!=this.validationEvent&&this.validate();var a=this.getValue();String(a)!==String(this.startValue)&&this.fireEvent("change",this,a,this.startValue),this.fireEvent("blur",this)},isValid:function(a){if(this.disabled)return!0;var b=this.preventMark;this.preventMark=a===!0;var c=this.validateValue(this.processValue(this.getRawValue()));return this.preventMark=b,c},validate:function(){return this.disabled||this.validateValue(this.processValue(this.getRawValue()))?(this.clearInvalid(),!0):!1},processValue:function(a){return a},validateValue:function(a){return!0},markInvalid:function(a){if(this.rendered&&!this.preventMark){switch(this.el.addClass(this.invalidClass),a=a||this.invalidText,this.msgTarget){case"qtip":this.el.dom.qtip=a,this.el.dom.qclass="x-form-invalid-tip",Ext.QuickTips&&Ext.QuickTips.enable();break;case"title":this.el.dom.title=a;break;case"under":if(!this.errorEl){var b=this.el.findParent(".x-form-element",5,!0);this.errorEl=b.createChild({cls:"x-form-invalid-msg"}),this.errorEl.setWidth(b.getWidth(!0)-20)}this.errorEl.update(a),Ext.form.Field.msgFx[this.msgFx].show(this.errorEl,this);break;case"side":if(!this.errorIcon){var b=this.el.findParent(".x-form-element",5,!0);this.errorIcon=b.createChild({cls:"x-form-invalid-icon"})}this.alignErrorIcon(),this.errorIcon.dom.qtip=a,this.errorIcon.dom.qclass="x-form-invalid-tip",this.errorIcon.show(),this.on("resize",this.alignErrorIcon,this);break;default:var c=Ext.getDom(this.msgTarget);c.innerHTML=a,c.style.display=this.msgDisplay}this.fireEvent("invalid",this,a)}},alignErrorIcon:function(){this.errorIcon.alignTo(this.el,"tl-tr",[2,0])},clearInvalid:function(){if(this.rendered&&!this.preventMark){switch(this.el.removeClass(this.invalidClass),this.msgTarget){case"qtip":this.el.dom.qtip="";break;case"title":this.el.dom.title="";break;case"under":this.errorEl&&Ext.form.Field.msgFx[this.msgFx].hide(this.errorEl,this);break;case"side":this.errorIcon&&(this.errorIcon.dom.qtip="",this.errorIcon.hide(),this.un("resize",this.alignErrorIcon,this));break;default:var a=Ext.getDom(this.msgTarget);a.innerHTML="",a.style.display="none"}this.fireEvent("valid",this)}},getRawValue:function(){var a=this.el.getValue();return a===this.emptyText&&(a=""),a},getValue:function(){var a=this.el.getValue();return(a===this.emptyText||void 0===a)&&(a=""),a},setRawValue:function(a){return this.el.dom.value=null===a||void 0===a?"":a},setValue:function(a){this.value=a,this.rendered&&(this.el.dom.value=null===a||void 0===a?"":a,this.validate())},adjustSize:function(a,b){var c=Ext.form.Field.superclass.adjustSize.call(this,a,b);return c.width=this.adjustWidth(this.el.dom.tagName,c.width),c},adjustWidth:function(a,b){if(a=a.toLowerCase(),"number"==typeof b&&Ext.isStrict&&!Ext.isSafari)if(!Ext.isIE||"input"!=a&&"textarea"!=a){if(Ext.isOpera){if("input"==a)return b+2;if(a="textarea")return b-2}}else{if("input"==a)return b+2;if(a="textarea")return b-2}return b}}),Ext.form.Field.msgFx={normal:{show:function(a,b){a.setDisplayed("block")},hide:function(a,b){a.setDisplayed(!1).update("")}},slide:{show:function(a,b){a.slideIn("t",{stopFx:!0})},hide:function(a,b){a.slideOut("t",{stopFx:!0,useDisplay:!0})}},slideRight:{show:function(a,b){a.fixDisplay(),a.alignTo(b.el,"tl-tr"),a.slideIn("l",{stopFx:!0})},hide:function(a,b){a.slideOut("l",{stopFx:!0,useDisplay:!0})}}},Ext.form.TextField=function(a){Ext.form.TextField.superclass.constructor.call(this,a),this.addEvents({autosize:!0})},Ext.extend(Ext.form.TextField,Ext.form.Field,{grow:!1,growMin:30,growMax:800,vtype:null,maskRe:null,disableKeyFilter:!1,allowBlank:!0,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",selectOnFocus:!1,blankText:"This field is required",validator:null,regex:null,regexText:"",emptyText:null,emptyClass:"x-form-empty-field",initEvents:function(){Ext.form.TextField.superclass.initEvents.call(this),"keyup"==this.validationEvent?(this.validationTask=new Ext.util.DelayedTask(this.validate,this),this.el.on("keyup",this.filterValidation,this)):this.validationEvent!==!1&&this.el.on(this.validationEvent,this.validate,this,{buffer:this.validationDelay}),(this.selectOnFocus||this.emptyText)&&(this.on("focus",this.preFocus,this),this.emptyText&&(this.on("blur",this.postBlur,this),this.applyEmptyText())),(this.maskRe||this.vtype&&this.disableKeyFilter!==!0&&(this.maskRe=Ext.form.VTypes[this.vtype+"Mask"]))&&this.el.on("keypress",this.filterKeys,this),this.grow&&(this.el.on("keyup",this.onKeyUp,this,{buffer:50}),this.el.on("click",this.autoSize,this))},processValue:function(a){if(this.stripCharsRe){var b=a.replace(this.stripCharsRe,"");if(b!==a)return this.setRawValue(b),b}return a},filterValidation:function(a){a.isNavKeyPress()||this.validationTask.delay(this.validationDelay)},onKeyUp:function(a){a.isNavKeyPress()||this.autoSize()},reset:function(){Ext.form.TextField.superclass.reset.call(this),this.applyEmptyText()},applyEmptyText:function(){this.rendered&&this.emptyText&&this.getRawValue().length<1&&(this.setRawValue(this.emptyText),this.el.addClass(this.emptyClass))},preFocus:function(){this.emptyText&&(this.el.dom.value==this.emptyText&&this.setRawValue(""),this.el.removeClass(this.emptyClass)),this.selectOnFocus&&this.el.dom.select()},postBlur:function(){this.applyEmptyText()},filterKeys:function(a){var b=a.getKey();if(Ext.isIE||!(a.isNavKeyPress()||b==a.BACKSPACE||b==a.DELETE&&-1==a.button)){var c=a.getCharCode(),d=String.fromCharCode(c);(!Ext.isIE||!a.isSpecialKey()&&d)&&(this.maskRe.test(d)||a.stopEvent())}},setValue:function(a){this.emptyText&&this.el&&void 0!==a&&null!==a&&""!==a&&this.el.removeClass(this.emptyClass),Ext.form.TextField.superclass.setValue.apply(this,arguments),this.applyEmptyText(),this.autoSize()},validateValue:function(a){if(a.length<1||a===this.emptyText)return this.allowBlank?(this.clearInvalid(),!0):(this.markInvalid(this.blankText),!1);if(a.length<this.minLength)return this.markInvalid(String.format(this.minLengthText,this.minLength)),!1;if(a.length>this.maxLength)return this.markInvalid(String.format(this.maxLengthText,this.maxLength)),!1;if(this.vtype){var b=Ext.form.VTypes;if(!b[this.vtype](a,this))return this.markInvalid(this.vtypeText||b[this.vtype+"Text"]),!1}if("function"==typeof this.validator){var c=this.validator(a);if(c!==!0)return this.markInvalid(c),!1}return this.regex&&!this.regex.test(a)?(this.markInvalid(this.regexText),!1):!0},selectText:function(a,b){var c=this.getRawValue();if(c.length>0){a=void 0===a?0:a,b=void 0===b?c.length:b;var d=this.el.dom;if(d.setSelectionRange)d.setSelectionRange(a,b);else if(d.createTextRange){var e=d.createTextRange();e.moveStart("character",a),e.moveEnd("character",c.length-b),e.select()}}},autoSize:function(){if(this.grow&&this.rendered){this.metrics||(this.metrics=Ext.util.TextMetrics.createInstance(this.el));var a=this.el,b=a.dom.value,c=document.createElement("div");c.appendChild(document.createTextNode(b)),b=c.innerHTML,c=null,b+="&#160;";var d=Math.min(this.growMax,Math.max(this.metrics.getWidth(b)+10,this.growMin));this.el.setWidth(d),this.fireEvent("autosize",this,d)}}}),Ext.form.TriggerField=function(a){this.mimicing=!1,Ext.form.TriggerField.superclass.constructor.call(this,a)},Ext.extend(Ext.form.TriggerField,Ext.form.TextField,{defaultAutoCreate:{tag:"input",type:"text",size:"16",autocomplete:"off"},hideTrigger:!1,autoSize:Ext.emptyFn,monitorTab:!0,deferHeight:!0,onResize:function(a,b){Ext.form.TriggerField.superclass.onResize.apply(this,arguments),"number"==typeof a&&this.el.setWidth(this.adjustWidth("input",a-this.trigger.getWidth()))},adjustSize:Ext.BoxComponent.prototype.adjustSize,getResizeEl:function(){return this.wrap},getPositionEl:function(){return this.wrap},alignErrorIcon:function(){this.errorIcon.alignTo(this.wrap,"tl-tr",[2,0])},onRender:function(a,b){Ext.form.TriggerField.superclass.onRender.call(this,a,b),this.wrap=this.el.wrap({cls:"x-form-field-wrap"}),this.trigger=this.wrap.createChild(this.triggerConfig||{tag:"img",src:Ext.BLANK_IMAGE_URL,cls:"x-form-trigger "+this.triggerClass}),this.hideTrigger&&this.trigger.setDisplayed(!1),this.initTrigger(),this.width||this.wrap.setWidth(this.el.getWidth()+this.trigger.getWidth())},initTrigger:function(){this.trigger.on("click",this.onTriggerClick,this,{preventDefault:!0}),this.trigger.addClassOnOver("x-form-trigger-over"),this.trigger.addClassOnClick("x-form-trigger-click")},onDestroy:function(){this.trigger&&(this.trigger.removeAllListeners(),this.trigger.remove()),this.wrap&&this.wrap.remove(),Ext.form.TriggerField.superclass.onDestroy.call(this)},onFocus:function(){Ext.form.TriggerField.superclass.onFocus.call(this),this.mimicing||(this.wrap.addClass("x-trigger-wrap-focus"),this.mimicing=!0,Ext.get(Ext.isIE?document.body:document).on("mousedown",this.mimicBlur,this),this.monitorTab&&this.el.on("keydown",this.checkTab,this))},checkTab:function(a){a.getKey()==a.TAB&&this.triggerBlur()},onBlur:function(){},mimicBlur:function(a,b){!this.wrap.contains(b)&&this.validateBlur()&&this.triggerBlur()},triggerBlur:function(){this.mimicing=!1,Ext.get(Ext.isIE?document.body:document).un("mousedown",this.mimicBlur),this.monitorTab&&this.el.un("keydown",this.checkTab,this),this.wrap.removeClass("x-trigger-wrap-focus"),Ext.form.TriggerField.superclass.onBlur.call(this)},validateBlur:function(a,b){return!0},onDisable:function(){Ext.form.TriggerField.superclass.onDisable.call(this),this.wrap&&this.wrap.addClass("x-item-disabled")},onEnable:function(){Ext.form.TriggerField.superclass.onEnable.call(this),this.wrap&&this.wrap.removeClass("x-item-disabled")},onShow:function(){this.wrap&&(this.wrap.dom.style.display="",this.wrap.dom.style.visibility="visible")},onHide:function(){this.wrap.dom.style.display="none"},onTriggerClick:Ext.emptyFn}),Ext.form.TwinTriggerField=Ext.extend(Ext.form.TriggerField,{initComponent:function(){Ext.form.TwinTriggerField.superclass.initComponent.call(this),this.triggerConfig={tag:"span",cls:"x-form-twin-triggers",cn:[{tag:"img",src:Ext.BLANK_IMAGE_URL,cls:"x-form-trigger "+this.trigger1Class},{tag:"img",src:Ext.BLANK_IMAGE_URL,cls:"x-form-trigger "+this.trigger2Class}]}},getTrigger:function(a){return this.triggers[a]},initTrigger:function(){var a=this.trigger.select(".x-form-trigger",!0);this.wrap.setStyle("overflow","hidden");var b=this;a.each(function(a,c,d){a.hide=function(){var a=b.wrap.getWidth();this.dom.style.display="none",b.el.setWidth(a-b.trigger.getWidth())},a.show=function(){var a=b.wrap.getWidth();this.dom.style.display="",b.el.setWidth(a-b.trigger.getWidth())};var e="Trigger"+(d+1);this["hide"+e]&&(a.dom.style.display="none"),a.on("click",this["on"+e+"Click"],this,{preventDefault:!0}),a.addClassOnOver("x-form-trigger-over"),a.addClassOnClick("x-form-trigger-click")},this),this.triggers=a.elements},onTrigger1Click:Ext.emptyFn,onTrigger2Click:Ext.emptyFn}),Ext.form.TextArea=function(a){Ext.form.TextArea.superclass.constructor.call(this,a),void 0!==this.minHeight&&(this.growMin=this.minHeight),void 0!==this.maxHeight&&(this.growMax=this.maxHeight)},Ext.extend(Ext.form.TextArea,Ext.form.TextField,{growMin:60,growMax:1e3,preventScrollbars:!1,onRender:function(a,b){this.el||(this.defaultAutoCreate={tag:"textarea",style:"width:300px;height:60px;",autocomplete:"off"}),Ext.form.TextArea.superclass.onRender.call(this,a,b),this.grow&&(this.textSizeEl=Ext.DomHelper.append(document.body,{tag:"pre",cls:"x-form-grow-sizer"}),this.preventScrollbars&&this.el.setStyle("overflow","hidden"),this.el.setHeight(this.growMin))},onDestroy:function(){this.textSizeEl&&this.textSizeEl.parentNode.removeChild(this.textSizeEl),Ext.form.TextArea.superclass.onDestroy.call(this)},onKeyUp:function(a){a.isNavKeyPress()&&a.getKey()!=a.ENTER||this.autoSize()},autoSize:function(){if(this.grow&&this.textSizeEl){var a=this.el,b=a.dom.value,c=this.textSizeEl;c.innerHTML="",c.appendChild(document.createTextNode(b)),b=c.innerHTML,Ext.fly(c).setWidth(this.el.getWidth()),b.length<1?b="&#160;&#160;":(Ext.isIE&&(b=b.replace(/\n/g,"<p>&#160;</p>")),b+="&#160;\n&#160;"),c.innerHTML=b;var d=Math.min(this.growMax,Math.max(c.offsetHeight,this.growMin));d!=this.lastHeight&&(this.lastHeight=d,this.el.setHeight(d),this.fireEvent("autosize",this,d))}}}),Ext.form.NumberField=function(a){Ext.form.NumberField.superclass.constructor.call(this,a)},Ext.extend(Ext.form.NumberField,Ext.form.TextField,{fieldClass:"x-form-field x-form-num-field",allowDecimals:!0,decimalSeparator:".",decimalPrecision:2,allowNegative:!0,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,minText:"The minimum value for this field is {0}",maxText:"The maximum value for this field is {0}",nanText:"{0} is not a valid number",initEvents:function(){Ext.form.NumberField.superclass.initEvents.call(this);var a="0123456789";this.allowDecimals&&(a+=this.decimalSeparator),this.allowNegative&&(a+="-"),this.stripCharsRe=new RegExp("[^"+a+"]","gi");var b=function(b){var c=b.getKey();if(Ext.isIE||!b.isSpecialKey()&&c!=b.BACKSPACE&&c!=b.DELETE){var d=b.getCharCode();-1===a.indexOf(String.fromCharCode(d))&&b.stopEvent()}};this.el.on("keypress",b,this)},validateValue:function(a){if(!Ext.form.NumberField.superclass.validateValue.call(this,a))return!1;if(a.length<1)return!0;var b=this.parseValue(a);return isNaN(b)?(this.markInvalid(String.format(this.nanText,a)),!1):b<this.minValue?(this.markInvalid(String.format(this.minText,this.minValue)),!1):b>this.maxValue?(this.markInvalid(String.format(this.maxText,this.maxValue)),!1):!0},getValue:function(){return this.fixPrecision(this.parseValue(Ext.form.NumberField.superclass.getValue.call(this)))},parseValue:function(a){return a=parseFloat(String(a).replace(this.decimalSeparator,".")),isNaN(a)?"":a},fixPrecision:function(a){var b=isNaN(a);return this.allowDecimals&&-1!=this.decimalPrecision&&!b&&a?parseFloat(a).toFixed(this.decimalPrecision):b?"":a},setValue:function(a){Ext.form.NumberField.superclass.setValue.call(this,String(a).replace(".",this.decimalSeparator))},decimalPrecisionFcn:function(a){return Math.floor(a)},beforeBlur:function(){var a=this.parseValue(this.getRawValue());a&&this.setValue(this.fixPrecision(a))}}),Ext.form.DateField=function(a){if(Ext.form.DateField.superclass.constructor.call(this,a),"string"==typeof this.minValue&&(this.minValue=this.parseDate(this.minValue)),"string"==typeof this.maxValue&&(this.maxValue=this.parseDate(this.maxValue)),this.ddMatch=null,this.disabledDates){for(var b=this.disabledDates,c="(?:",d=0;d<b.length;d++)c+=b[d],d!=b.length-1&&(c+="|");this.ddMatch=new RegExp(c+")")}},Ext.extend(Ext.form.DateField,Ext.form.TriggerField,{format:"m/d/y",altFormats:"m/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d",disabledDays:null,disabledDaysText:"Disabled",disabledDates:null,disabledDatesText:"Disabled",minValue:null,maxValue:null,minText:"The date in this field must be equal to or after {0}",maxText:"The date in this field must be equal to or before {0}",invalidText:"{0} is not a valid date - it must be in the format {1}",triggerClass:"x-form-date-trigger",defaultAutoCreate:{tag:"input",type:"text",size:"10",autocomplete:"off"},validateValue:function(a){if(a=this.formatDate(a),!Ext.form.DateField.superclass.validateValue.call(this,a))return!1;if(a.length<1)return!0;var b=a;if(a=this.parseDate(a),!a)return this.markInvalid(String.format(this.invalidText,b,this.format)),!1;var c=a.getTime();if(this.minValue&&c<this.minValue.getTime())return this.markInvalid(String.format(this.minText,this.formatDate(this.minValue))),!1;if(this.maxValue&&c>this.maxValue.getTime())return this.markInvalid(String.format(this.maxText,this.formatDate(this.maxValue))),!1;if(this.disabledDays)for(var d=a.getDay(),e=0;e<this.disabledDays.length;e++)if(d===this.disabledDays[e])return this.markInvalid(this.disabledDaysText),
!1;var f=this.formatDate(a);return this.ddMatch&&this.ddMatch.test(f)?(this.markInvalid(String.format(this.disabledDatesText,f)),!1):!0},validateBlur:function(){return!this.menu||!this.menu.isVisible()},getValue:function(){return this.parseDate(Ext.form.DateField.superclass.getValue.call(this))||""},setValue:function(a){Ext.form.DateField.superclass.setValue.call(this,this.formatDate(this.parseDate(a)))},parseDate:function(a){if(!a||a instanceof Date)return a;var b=Date.parseDate(a,this.format);if(!b&&this.altFormats){this.altFormatsArray||(this.altFormatsArray=this.altFormats.split("|"));for(var c=0,d=this.altFormatsArray.length;d>c&&!b;c++)b=Date.parseDate(a,this.altFormatsArray[c])}return b},formatDate:function(a){return a&&a instanceof Date?a.dateFormat(this.format):a},menuListeners:{select:function(a,b){this.setValue(b)},show:function(){this.onFocus()},hide:function(){this.focus.defer(10,this);var a=this.menuListeners;this.menu.un("select",a.select,this),this.menu.un("show",a.show,this),this.menu.un("hide",a.hide,this)}},onTriggerClick:function(){this.disabled||(null==this.menu&&(this.menu=new Ext.menu.DateMenu),Ext.apply(this.menu.picker,{minDate:this.minValue,maxDate:this.maxValue,disabledDatesRE:this.ddMatch,disabledDatesText:this.disabledDatesText,disabledDays:this.disabledDays,disabledDaysText:this.disabledDaysText,format:this.format,minText:String.format(this.minText,this.formatDate(this.minValue)),maxText:String.format(this.maxText,this.formatDate(this.maxValue))}),this.menu.on(Ext.apply({},this.menuListeners,{scope:this})),this.menu.picker.setValue(this.getValue()||new Date),this.menu.show(this.el,"tl-bl?"))},beforeBlur:function(){var a=this.parseDate(this.getRawValue());a&&this.setValue(a)}}),Ext.form.ComboBox=function(a){if(Ext.form.ComboBox.superclass.constructor.call(this,a),this.addEvents({expand:!0,collapse:!0,beforeselect:!0,select:!0,beforequery:!0}),this.transform){this.allowDomMove=!1;var b=Ext.getDom(this.transform);if(this.hiddenName||(this.hiddenName=b.name),!this.store){this.mode="local";for(var c=[],d=b.options,e=0,f=d.length;f>e;e++){var g=d[e],h=(Ext.isIE?g.getAttributeNode("value").specified:g.hasAttribute("value"))?g.value:g.text;g.selected&&(this.value=h),c.push([h,g.text])}this.store=new Ext.data.SimpleStore({id:0,fields:["value","text"],data:c}),this.valueField="value",this.displayField="text"}b.name=Ext.id(),this.lazyRender?b.parentNode.removeChild(b):(this.target=!0,this.el=Ext.DomHelper.insertBefore(b,this.autoCreate||this.defaultAutoCreate),b.parentNode.removeChild(b),this.render(this.el.parentNode))}this.selectedIndex=-1,"local"==this.mode&&(void 0===a.queryDelay&&(this.queryDelay=10),void 0===a.minChars&&(this.minChars=0))},Ext.extend(Ext.form.ComboBox,Ext.form.TriggerField,{defaultAutoCreate:{tag:"input",type:"text",size:"24",autocomplete:"off"},listWidth:void 0,displayField:void 0,valueField:void 0,hiddenName:void 0,listClass:"",selectedClass:"x-combo-selected",triggerClass:"x-form-arrow-trigger",shadow:"sides",listAlign:"tl-bl?",maxHeight:300,triggerAction:"query",minChars:4,typeAhead:!1,queryDelay:500,pageSize:0,selectOnFocus:!1,queryParam:"query",loadingText:"Loading...",resizable:!1,handleHeight:8,editable:!0,allQuery:"",mode:"remote",minListWidth:70,forceSelection:!1,typeAheadDelay:250,valueNotFoundText:void 0,onRender:function(a,b){Ext.form.ComboBox.superclass.onRender.call(this,a,b),this.hiddenName&&(this.hiddenField=this.el.insertSibling({tag:"input",type:"hidden",name:this.hiddenName,id:this.hiddenId||this.hiddenName},"before",!0),this.hiddenField.value=void 0!==this.hiddenValue?this.hiddenValue:void 0!==this.value?this.value:"",this.el.dom.removeAttribute("name")),Ext.isGecko&&this.el.dom.setAttribute("autocomplete","off");var c="x-combo-list";this.list=new Ext.Layer({shadow:this.shadow,cls:[c,this.listClass].join(" "),constrain:!1});var d=this.listWidth||Math.max(this.wrap.getWidth(),this.minListWidth);this.list.setWidth(d),this.list.swallowEvent("mousewheel"),this.assetHeight=0,this.title&&(this.header=this.list.createChild({cls:c+"-hd",html:this.title}),this.assetHeight+=this.header.getHeight()),this.innerList=this.list.createChild({cls:c+"-inner"}),this.innerList.on("mouseover",this.onViewOver,this),this.innerList.on("mousemove",this.onViewMove,this),this.innerList.setWidth(d-this.list.getFrameWidth("lr")),this.pageSize&&(this.footer=this.list.createChild({cls:c+"-ft"}),this.pageTb=new Ext.PagingToolbar(this.footer,this.store,{pageSize:this.pageSize}),this.assetHeight+=this.footer.getHeight()),this.tpl||(this.tpl='<div class="'+c+'-item">{'+this.displayField+"}</div>"),this.view=new Ext.View(this.innerList,this.tpl,{singleSelect:!0,store:this.store,selectedClass:this.selectedClass}),this.view.on("click",this.onViewClick,this),this.store.on("beforeload",this.onBeforeLoad,this),this.store.on("load",this.onLoad,this),this.store.on("loadexception",this.collapse,this),this.resizable&&(this.resizer=new Ext.Resizable(this.list,{pinned:!0,handles:"se"}),this.resizer.on("resize",function(a,b,c){this.maxHeight=c-this.handleHeight-this.list.getFrameWidth("tb")-this.assetHeight,this.listWidth=b,this.innerList.setWidth(b-this.list.getFrameWidth("lr")),this.restrictHeight()},this),this[this.pageSize?"footer":"innerList"].setStyle("margin-bottom",this.handleHeight+"px")),this.editable||(this.editable=!0,this.setEditable(!1))},initEvents:function(){Ext.form.ComboBox.superclass.initEvents.call(this),this.keyNav=new Ext.KeyNav(this.el,{up:function(a){this.inKeyMode=!0,this.selectPrev()},down:function(a){this.isExpanded()?(this.inKeyMode=!0,this.selectNext()):this.onTriggerClick()},enter:function(a){this.onViewClick()},esc:function(a){this.collapse()},tab:function(a){return this.onViewClick(!1),!0},scope:this,doRelay:function(a,b,c){return"down"==c||this.scope.isExpanded()?Ext.KeyNav.prototype.doRelay.apply(this,arguments):!0},forceKeyDown:!0}),this.queryDelay=Math.max(this.queryDelay||10,"local"==this.mode?10:250),this.dqTask=new Ext.util.DelayedTask(this.initQuery,this),this.typeAhead&&(this.taTask=new Ext.util.DelayedTask(this.onTypeAhead,this)),this.editable!==!1&&this.el.on("keyup",this.onKeyUp,this),this.forceSelection&&this.on("blur",this.doForce,this)},onDestroy:function(){this.view&&(this.view.setStore(null),this.view.el.removeAllListeners(),this.view.el.remove(),this.view.purgeListeners()),this.list&&this.list.destroy(),this.store&&(this.store.un("beforeload",this.onBeforeLoad,this),this.store.un("load",this.onLoad,this),this.store.un("loadexception",this.collapse,this)),Ext.form.ComboBox.superclass.onDestroy.call(this)},fireKey:function(a){a.isNavKeyPress()&&!this.list.isVisible()&&this.fireEvent("specialkey",this,a)},onResize:function(a,b){if(Ext.form.ComboBox.superclass.onResize.apply(this,arguments),this.list&&void 0===this.listWidth){var c=Math.max(a,this.minListWidth);this.list.setWidth(c),this.innerList.setWidth(c-this.list.getFrameWidth("lr"))}},setEditable:function(a){a!=this.editable&&(this.editable=a,a?(this.el.dom.setAttribute("readOnly",!1),this.el.un("mousedown",this.onTriggerClick,this),this.el.removeClass("x-combo-noedit")):(this.el.dom.setAttribute("readOnly",!0),this.el.on("mousedown",this.onTriggerClick,this),this.el.addClass("x-combo-noedit")))},onBeforeLoad:function(){this.hasFocus&&(this.innerList.update(this.loadingText?'<div class="loading-indicator">'+this.loadingText+"</div>":""),this.restrictHeight(),this.selectedIndex=-1)},onLoad:function(){this.hasFocus&&(this.store.getCount()>0?(this.expand(),this.restrictHeight(),this.lastQuery==this.allQuery?(this.editable&&this.el.dom.select(),this.selectByValue(this.value,!0)||this.select(0,!0)):(this.selectNext(),this.typeAhead&&this.lastKey!=Ext.EventObject.BACKSPACE&&this.lastKey!=Ext.EventObject.DELETE&&this.taTask.delay(this.typeAheadDelay))):this.onEmptyResults())},onTypeAhead:function(){if(this.store.getCount()>0){var a=this.store.getAt(0),b=a.data[this.displayField],c=b.length,d=this.getRawValue().length;d!=c&&(this.setRawValue(b),this.selectText(d,b.length))}},onSelect:function(a,b){this.fireEvent("beforeselect",this,a,b)!==!1&&(this.setValue(a.data[this.valueField||this.displayField]),this.collapse(),this.fireEvent("select",this,a,b))},getValue:function(){return this.valueField?"undefined"!=typeof this.value?this.value:"":Ext.form.ComboBox.superclass.getValue.call(this)},clearValue:function(){this.hiddenField&&(this.hiddenField.value=""),this.setRawValue(""),this.lastSelectionText="",this.applyEmptyText()},setValue:function(a){var b=a;if(this.valueField){var c=this.findRecord(this.valueField,a);c?b=c.data[this.displayField]:void 0!==this.valueNotFoundText&&(b=this.valueNotFoundText)}this.lastSelectionText=b,this.hiddenField&&(this.hiddenField.value=a),Ext.form.ComboBox.superclass.setValue.call(this,b),this.value=a},findRecord:function(a,b){var c;return this.store.getCount()>0&&this.store.each(function(d){return d.data[a]==b?(c=d,!1):void 0}),c},onViewMove:function(a,b){this.inKeyMode=!1},onViewOver:function(a,b){if(!this.inKeyMode){var c=this.view.findItemFromChild(b);if(c){var d=this.view.indexOf(c);this.select(d,!1)}}},onViewClick:function(a){var b=this.view.getSelectedIndexes()[0],c=this.store.getAt(b);c&&this.onSelect(c,b),a!==!1&&this.el.focus()},restrictHeight:function(){this.innerList.dom.style.height="";var a=this.innerList.dom,b=Math.max(a.clientHeight,a.offsetHeight,a.scrollHeight);this.innerList.setHeight(b<this.maxHeight?"auto":this.maxHeight),this.list.beginUpdate(),this.list.setHeight(this.innerList.getHeight()+this.list.getFrameWidth("tb")+(this.resizable?this.handleHeight:0)+this.assetHeight),this.list.alignTo(this.el,this.listAlign),this.list.endUpdate()},onEmptyResults:function(){this.collapse()},isExpanded:function(){return this.list.isVisible()},selectByValue:function(a,b){if(void 0!==a&&null!==a){var c=this.findRecord(this.valueField||this.displayField,a);if(c)return this.select(this.store.indexOf(c),b),!0}return!1},select:function(a,b){if(this.selectedIndex=a,this.view.select(a),b!==!1){var c=this.view.getNode(a);c&&this.innerList.scrollChildIntoView(c,!1)}},selectNext:function(){var a=this.store.getCount();a>0&&(-1==this.selectedIndex?this.select(0):this.selectedIndex<a-1&&this.select(this.selectedIndex+1))},selectPrev:function(){var a=this.store.getCount();a>0&&(-1==this.selectedIndex?this.select(0):0!=this.selectedIndex&&this.select(this.selectedIndex-1))},onKeyUp:function(a){this.editable===!1||a.isSpecialKey()||(this.lastKey=a.getKey(),this.dqTask.delay(this.queryDelay))},validateBlur:function(){return!this.list||!this.list.isVisible()},initQuery:function(){this.doQuery(this.getRawValue())},doForce:function(){this.el.dom.value.length>0&&(this.el.dom.value=void 0===this.lastSelectionText?"":this.lastSelectionText,this.applyEmptyText())},doQuery:function(a,b){(void 0===a||null===a)&&(a="");var c={query:a,forceAll:b,combo:this,cancel:!1};return this.fireEvent("beforequery",c)===!1||c.cancel?!1:(a=c.query,b=c.forceAll,void((b===!0||a.length>=this.minChars)&&(this.lastQuery!=a?(this.lastQuery=a,"local"==this.mode?(this.selectedIndex=-1,b?this.store.clearFilter():this.store.filter(this.displayField,a),this.onLoad()):(this.store.baseParams[this.queryParam]=a,this.store.load({params:this.getParams(a)}),this.expand())):(this.selectedIndex=-1,this.onLoad()))))},getParams:function(a){var b={};return this.pageSize&&(b.start=0,b.limit=this.pageSize),b},collapse:function(){this.isExpanded()&&(this.list.hide(),Ext.get(document).un("mousedown",this.collapseIf,this),Ext.get(document).un("mousewheel",this.collapseIf,this),this.fireEvent("collapse",this))},collapseIf:function(a){a.within(this.wrap)||a.within(this.list)||this.collapse()},expand:function(){!this.isExpanded()&&this.hasFocus&&(this.list.alignTo(this.el,this.listAlign),this.list.show(),Ext.get(document).on("mousedown",this.collapseIf,this),Ext.get(document).on("mousewheel",this.collapseIf,this),this.fireEvent("expand",this))},onTriggerClick:function(){this.disabled||(this.isExpanded()?(this.collapse(),this.el.focus()):(this.hasFocus=!0,"all"==this.triggerAction?this.doQuery(this.allQuery,!0):this.doQuery(this.getRawValue()),this.el.focus()))}}),Ext.form.Checkbox=function(a){Ext.form.Checkbox.superclass.constructor.call(this,a),this.addEvents({check:!0})},Ext.extend(Ext.form.Checkbox,Ext.form.Field,{focusClass:void 0,fieldClass:"x-form-field",checked:!1,defaultAutoCreate:{tag:"input",type:"checkbox",autocomplete:"off"},boxLabel:void 0,onResize:function(){Ext.form.Checkbox.superclass.onResize.apply(this,arguments),this.boxLabel||this.el.alignTo(this.wrap,"c-c")},initEvents:function(){Ext.form.Checkbox.superclass.initEvents.call(this),this.el.on("click",this.onClick,this),this.el.on("change",this.onClick,this)},getResizeEl:function(){return this.wrap},getPositionEl:function(){return this.wrap},onRender:function(a,b){Ext.form.Checkbox.superclass.onRender.call(this,a,b),void 0!==this.inputValue&&(this.el.dom.value=this.inputValue),this.wrap=this.el.wrap({cls:"x-form-check-wrap"}),this.boxLabel&&this.wrap.createChild({tag:"label",htmlFor:this.el.id,cls:"x-form-cb-label",html:this.boxLabel}),this.checked?this.setValue(!0):this.checked=this.el.dom.checked},initValue:Ext.emptyFn,getValue:function(){return this.rendered?this.el.dom.checked:!1},onClick:function(){this.el.dom.checked!=this.checked&&this.setValue(this.el.dom.checked)},setValue:function(a){this.checked=a===!0||"true"===a||"1"==a||"on"==String(a).toLowerCase(),this.el&&this.el.dom&&(this.el.dom.checked=this.checked,this.el.dom.defaultChecked=this.checked),this.fireEvent("check",this,this.checked)}}),Ext.form.Radio=function(){Ext.form.Radio.superclass.constructor.apply(this,arguments)},Ext.extend(Ext.form.Radio,Ext.form.Checkbox,{inputType:"radio",getGroupValue:function(){return this.el.up("form").child("input[name="+this.el.dom.name+"]:checked",!0).value}}),Ext.form.HtmlEditor=Ext.extend(Ext.form.Field,{enableFormat:!0,enableFontSize:!0,enableColors:!0,enableAlignments:!0,enableLists:!0,enableSourceEdit:!0,enableLinks:!0,enableFont:!0,createLinkText:"Please enter the URL for the link:",defaultLinkValue:"http://",fontFamilies:["Arial","Courier New","Tahoma","Times New Roman","Verdana"],defaultFont:"tahoma",validationEvent:!1,deferHeight:!0,initialized:!1,activated:!1,sourceEditMode:!1,onFocus:Ext.emptyFn,iframePad:3,hideMode:"offsets",defaultAutoCreate:{tag:"textarea",style:"width:500px;height:300px;",autocomplete:"off"},initComponent:function(){this.addEvents({initialize:!0,activate:!0,beforesync:!0,beforepush:!0,sync:!0,push:!0,editmodechange:!0})},createFontOptions:function(){for(var a,b,c=[],d=this.fontFamilies,e=0,f=d.length;f>e;e++)a=d[e],b=a.toLowerCase(),c.push('<option value="',b,'" style="font-family:',a,';"',this.defaultFont==b?' selected="true">':">",a,"</option>");return c.join("")},createToolbar:function(a){function b(b,c,d){return{id:b,cls:"x-btn-icon x-edit-"+b,enableToggle:c!==!1,scope:a,handler:d||a.relayBtnCmd,clickEvent:"mousedown",tooltip:a.buttonTips[b]||void 0,tabIndex:-1}}var c=new Ext.Toolbar(this.wrap.dom.firstChild);c.el.on("click",function(a){a.preventDefault()}),this.enableFont&&!Ext.isSafari&&(this.fontSelect=c.el.createChild({tag:"select",tabIndex:-1,cls:"x-font-select",html:this.createFontOptions()}),this.fontSelect.on("change",function(){var a=this.fontSelect.dom.value;this.relayCmd("fontname",a),this.deferFocus()},this),c.add(this.fontSelect.dom,"-")),this.enableFormat&&c.add(b("bold"),b("italic"),b("underline")),this.enableFontSize&&c.add("-",b("increasefontsize",!1,this.adjustFont),b("decreasefontsize",!1,this.adjustFont)),this.enableColors&&c.add("-",{id:"forecolor",cls:"x-btn-icon x-edit-forecolor",clickEvent:"mousedown",tooltip:a.buttonTips.forecolor||void 0,tabIndex:-1,menu:new Ext.menu.ColorMenu({allowReselect:!0,focus:Ext.emptyFn,value:"000000",plain:!0,selectHandler:function(a,b){this.execCmd("forecolor",Ext.isSafari||Ext.isIE?"#"+b:b),this.deferFocus()},scope:this,clickEvent:"mousedown"})},{id:"backcolor",cls:"x-btn-icon x-edit-backcolor",clickEvent:"mousedown",tooltip:a.buttonTips.backcolor||void 0,tabIndex:-1,menu:new Ext.menu.ColorMenu({focus:Ext.emptyFn,value:"FFFFFF",plain:!0,allowReselect:!0,selectHandler:function(a,b){Ext.isGecko?(this.execCmd("useCSS",!1),this.execCmd("hilitecolor",b),this.execCmd("useCSS",!0),this.deferFocus()):(this.execCmd(Ext.isOpera?"hilitecolor":"backcolor",Ext.isSafari||Ext.isIE?"#"+b:b),this.deferFocus())},scope:this,clickEvent:"mousedown"})}),this.enableAlignments&&c.add("-",b("justifyleft"),b("justifycenter"),b("justifyright")),Ext.isSafari||(this.enableLinks&&c.add("-",b("createlink",!1,this.createLink)),this.enableLists&&c.add("-",b("insertorderedlist"),b("insertunorderedlist")),this.enableSourceEdit&&c.add("-",b("sourceedit",!0,function(a){this.toggleSourceEdit(a.pressed)}))),this.tb=c},getDocMarkup:function(){return'<html><head><style type="text/css">body{border:0;margin:0;padding:3px;height:98%;cursor:text;}</style></head><body></body></html>'},onRender:function(a,b){Ext.form.HtmlEditor.superclass.onRender.call(this,a,b),this.el.dom.style.border="0 none",this.el.dom.setAttribute("tabIndex",-1),this.el.addClass("x-hidden"),Ext.isIE&&this.el.applyStyles("margin-top:-1px;margin-bottom:-1px;"),this.wrap=this.el.wrap({cls:"x-html-editor-wrap",cn:{cls:"x-html-editor-tb"}}),this.createToolbar(this),this.tb.items.each(function(a){"sourceedit"!=a.id&&a.disable()});var c=document.createElement("iframe");c.name=Ext.id(),c.frameBorder="no",c.src=Ext.SSL_SECURE_URL||"javascript:false",this.wrap.dom.appendChild(c),this.iframe=c,Ext.isIE?(this.doc=c.contentWindow.document,this.win=c.contentWindow):(this.doc=c.contentDocument||window.frames[c.name].document,this.win=window.frames[c.name]),this.doc.designMode="on",this.doc.open(),this.doc.write(this.getDocMarkup()),this.doc.close();var d={run:function(){(this.doc.body||"complete"==this.doc.readyState)&&(this.doc.designMode="on",Ext.TaskMgr.stop(d),this.initEditor.defer(10,this))},interval:10,duration:1e4,scope:this};Ext.TaskMgr.start(d),this.width||this.setSize(this.el.getSize())},onResize:function(a,b){if(Ext.form.HtmlEditor.superclass.onResize.apply(this,arguments),this.el&&this.iframe){if("number"==typeof a){var c=a-this.wrap.getFrameWidth("lr");this.el.setWidth(this.adjustWidth("textarea",c)),this.iframe.style.width=c+"px"}if("number"==typeof b){var d=b-this.wrap.getFrameWidth("tb")-this.tb.el.getHeight();this.el.setHeight(this.adjustWidth("textarea",d)),this.iframe.style.height=d+"px",this.doc&&((this.doc.body||this.doc.documentElement).style.height=d-2*this.iframePad+"px")}}},toggleSourceEdit:function(a){void 0===a&&(a=!this.sourceEditMode),this.sourceEditMode=a===!0;var b=this.tb.items.get("sourceedit");return b.pressed!==this.sourceEditMode?void b.toggle(this.sourceEditMode):(this.sourceEditMode?(this.tb.items.each(function(a){"sourceedit"!=a.id&&a.disable()}),this.syncValue(),this.iframe.className="x-hidden",this.el.removeClass("x-hidden"),this.el.dom.removeAttribute("tabIndex"),this.el.focus()):(this.initialized&&this.tb.items.each(function(a){a.enable()}),this.pushValue(),this.iframe.className="",this.el.addClass("x-hidden"),this.el.dom.setAttribute("tabIndex",-1),this.deferFocus()),this.setSize(this.wrap.getSize()),void this.fireEvent("editmodechange",this,this.sourceEditMode))},createLink:function(){var a=prompt(this.createLinkText,this.defaultLinkValue);a&&"http://"!=a&&this.relayCmd("createlink",a)},adjustSize:Ext.BoxComponent.prototype.adjustSize,getResizeEl:function(){return this.wrap},getPositionEl:function(){return this.wrap},initEvents:function(){this.originalValue=this.getValue()},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,setValue:function(a){Ext.form.HtmlEditor.superclass.setValue.call(this,a),this.pushValue()},cleanHtml:function(a){return a=String(a),a.length>5&&Ext.isSafari&&(a=a.replace(/\sclass="(?:Apple-style-span|khtml-block-placeholder)"/gi,"")),"&nbsp;"==a&&(a=""),a},syncValue:function(){if(this.initialized){var a=this.doc.body||this.doc.documentElement,b=a.innerHTML;if(Ext.isSafari){var c=a.getAttribute("style"),d=c.match(/text-align:(.*?);/i);d&&d[1]&&(b='<div style="'+d[0]+'">'+b+"</div>")}b=this.cleanHtml(b),this.fireEvent("beforesync",this,b)!==!1&&(this.el.dom.value=b,this.fireEvent("sync",this,b))}},pushValue:function(){if(this.initialized){var a=this.el.dom.value;a.length<1&&(a="&nbsp;"),this.fireEvent("beforepush",this,a)!==!1&&((this.doc.body||this.doc.documentElement).innerHTML=a,this.fireEvent("push",this,a))}},deferFocus:function(){this.focus.defer(10,this)},focus:function(){this.win&&!this.sourceEditMode?this.win.focus():this.el.focus()},initEditor:function(){var a=this.doc.body||this.doc.documentElement,b=this.el.getStyles("font-size","font-family","background-image","background-repeat");b["background-attachment"]="fixed",a.bgProperties="fixed",Ext.DomHelper.applyStyles(a,b),Ext.EventManager.on(this.doc,{mousedown:this.onEditorEvent,dblclick:this.onEditorEvent,click:this.onEditorEvent,keyup:this.onEditorEvent,buffer:100,scope:this}),Ext.isGecko&&Ext.EventManager.on(this.doc,"keypress",this.applyCommand,this),(Ext.isIE||Ext.isSafari||Ext.isOpera)&&Ext.EventManager.on(this.doc,"keydown",this.fixKeys,this),this.initialized=!0,this.fireEvent("initialize",this),this.pushValue()},onDestroy:function(){this.rendered&&(this.tb.items.each(function(a){a.menu&&(a.menu.removeAll(),a.menu.el&&a.menu.el.destroy()),a.destroy()}),this.wrap.dom.innerHTML="",this.wrap.remove())},onFirstFocus:function(){if(this.activated=!0,this.tb.items.each(function(a){a.enable()}),Ext.isGecko){this.win.focus();var a=this.win.getSelection();if(!a.focusNode||3!=a.focusNode.nodeType){var b=a.getRangeAt(0);b.selectNodeContents(this.doc.body||this.doc.documentElement),b.collapse(!0),this.deferFocus()}try{this.execCmd("useCSS",!0),this.execCmd("styleWithCSS",!1)}catch(c){}}this.fireEvent("activate",this)},adjustFont:function(a){var b="increasefontsize"==a.id?1:-1;Ext.isSafari&&(b*=2);var c=parseInt(this.doc.queryCommandValue("FontSize")||3,10);c=Math.max(1,c+b),this.execCmd("FontSize",c+(Ext.isSafari?"px":0))},onEditorEvent:function(a){this.updateToolbar()},updateToolbar:function(){if(!this.activated)return void this.onFirstFocus();var a=this.tb.items.map,b=this.doc;if(this.enableFont&&!Ext.isSafari){var c=(this.doc.queryCommandValue("FontName")||this.defaultFont).toLowerCase();c!=this.fontSelect.dom.value&&(this.fontSelect.dom.value=c)}this.enableFormat&&(a.bold.toggle(b.queryCommandState("bold")),a.italic.toggle(b.queryCommandState("italic")),a.underline.toggle(b.queryCommandState("underline"))),this.enableAlignments&&(a.justifyleft.toggle(b.queryCommandState("justifyleft")),a.justifycenter.toggle(b.queryCommandState("justifycenter")),a.justifyright.toggle(b.queryCommandState("justifyright"))),!Ext.isSafari&&this.enableLists&&(a.insertorderedlist.toggle(b.queryCommandState("insertorderedlist")),a.insertunorderedlist.toggle(b.queryCommandState("insertunorderedlist"))),Ext.menu.MenuMgr.hideAll(),this.syncValue()},relayBtnCmd:function(a){this.relayCmd(a.id)},relayCmd:function(a,b){this.win.focus(),this.execCmd(a,b),this.updateToolbar(),this.deferFocus()},execCmd:function(a,b){this.doc.execCommand(a,!1,void 0===b?null:b),this.syncValue()},applyCommand:function(a){if(a.ctrlKey){var b,c=a.getCharCode();if(c>0){switch(c=String.fromCharCode(c)){case"b":b="bold";break;case"i":b="italic";break;case"u":b="underline"}b&&(this.win.focus(),this.execCmd(b),this.deferFocus(),a.preventDefault())}}},insertAtCursor:function(a){if(this.activated)if(Ext.isIE){this.win.focus();var b=this.doc.selection.createRange();b&&(b.collapse(!0),b.pasteHTML(a),this.syncValue(),this.deferFocus())}else Ext.isGecko||Ext.isOpera?(this.win.focus(),this.execCmd("InsertHTML",a),this.deferFocus()):Ext.isSafari&&(this.execCmd("InsertText",a),this.deferFocus())},fixKeys:function(){return Ext.isIE?function(a){var b,c=a.getKey();if(c==a.TAB)a.stopEvent(),b=this.doc.selection.createRange(),b&&(b.collapse(!0),b.pasteHTML("&nbsp;&nbsp;&nbsp;&nbsp;"),this.deferFocus());else if(c==a.ENTER&&(b=this.doc.selection.createRange())){var d=b.parentElement();d&&"li"==d.tagName.toLowerCase()||(a.stopEvent(),b.pasteHTML("<br />"),b.collapse(!1),b.select())}}:Ext.isOpera?function(a){var b=a.getKey();b==a.TAB&&(a.stopEvent(),this.win.focus(),this.execCmd("InsertHTML","&nbsp;&nbsp;&nbsp;&nbsp;"),this.deferFocus())}:Ext.isSafari?function(a){var b=a.getKey();b==a.TAB&&(a.stopEvent(),this.execCmd("InsertText","	"),this.deferFocus())}:void 0}(),getToolbar:function(){return this.tb},buttonTips:{bold:{title:"Bold (Ctrl+B)",text:"Make the selected text bold.",cls:"x-html-editor-tip"},italic:{title:"Italic (Ctrl+I)",text:"Make the selected text italic.",cls:"x-html-editor-tip"},underline:{title:"Underline (Ctrl+U)",text:"Underline the selected text.",cls:"x-html-editor-tip"},increasefontsize:{title:"Grow Text",text:"Increase the font size.",cls:"x-html-editor-tip"},decreasefontsize:{title:"Shrink Text",text:"Decrease the font size.",cls:"x-html-editor-tip"},backcolor:{title:"Text Highlight Color",text:"Change the background color of the selected text.",cls:"x-html-editor-tip"},forecolor:{title:"Font Color",text:"Change the color of the selected text.",cls:"x-html-editor-tip"},justifyleft:{title:"Align Text Left",text:"Align text to the left.",cls:"x-html-editor-tip"},justifycenter:{title:"Center Text",text:"Center text in the editor.",cls:"x-html-editor-tip"},justifyright:{title:"Align Text Right",text:"Align text to the right.",cls:"x-html-editor-tip"},insertunorderedlist:{title:"Bullet List",text:"Start a bulleted list.",cls:"x-html-editor-tip"},insertorderedlist:{title:"Numbered List",text:"Start a numbered list.",cls:"x-html-editor-tip"},createlink:{title:"Hyperlink",text:"Make the selected text a hyperlink.",cls:"x-html-editor-tip"},sourceedit:{title:"Source Edit",text:"Switch to source editing mode.",cls:"x-html-editor-tip"}}}),Ext.form.BasicForm=function(a,b){Ext.apply(this,b),this.items=new Ext.util.MixedCollection(!1,function(a){return a.id||(a.id=Ext.id())}),this.addEvents({beforeaction:!0,actionfailed:!0,actioncomplete:!0}),a&&this.initEl(a),Ext.form.BasicForm.superclass.constructor.call(this)},Ext.extend(Ext.form.BasicForm,Ext.util.Observable,{timeout:30,activeAction:null,trackResetOnLoad:!1,waitMsgTarget:void 0,initEl:function(a){this.el=Ext.get(a),this.id=this.el.id||Ext.id(),this.el.on("submit",this.onSubmit,this),this.el.addClass("x-form")},onSubmit:function(a){a.stopEvent()},isValid:function(){var a=!0;return this.items.each(function(b){b.validate()||(a=!1)}),a},isDirty:function(){var a=!1;return this.items.each(function(b){return b.isDirty()?(a=!0,!1):void 0}),a},doAction:function(a,b){return"string"==typeof a&&(a=new Ext.form.Action.ACTION_TYPES[a](this,b)),this.fireEvent("beforeaction",this,a)!==!1&&(this.beforeAction(a),a.run.defer(100,a)),this},submit:function(a){return this.doAction("submit",a),this},load:function(a){return this.doAction("load",a),this},updateRecord:function(a){a.beginEdit();var b=a.fields;return b.each(function(b){var c=this.findField(b.name);c&&a.set(b.name,c.getValue())},this),a.endEdit(),this},loadRecord:function(a){return this.setValues(a.data),this},beforeAction:function(a){var b=a.options;b.waitMsg&&(this.waitMsgTarget===!0?this.el.mask(b.waitMsg,"x-mask-loading"):this.waitMsgTarget?(this.waitMsgTarget=Ext.get(this.waitMsgTarget),this.waitMsgTarget.mask(b.waitMsg,"x-mask-loading")):Ext.MessageBox.wait(b.waitMsg,b.waitTitle||this.waitTitle||"Please Wait..."))},afterAction:function(a,b){this.activeAction=null;var c=a.options;c.waitMsg&&(this.waitMsgTarget===!0?this.el.unmask():this.waitMsgTarget?this.waitMsgTarget.unmask():(Ext.MessageBox.updateProgress(1),Ext.MessageBox.hide())),b?(c.reset&&this.reset(),Ext.callback(c.success,c.scope,[this,a]),this.fireEvent("actioncomplete",this,a)):(Ext.callback(c.failure,c.scope,[this,a]),this.fireEvent("actionfailed",this,a))},findField:function(a){var b=this.items.get(a);return b||this.items.each(function(c){return!c.isFormField||c.dataIndex!=a&&c.id!=a&&c.getName()!=a?void 0:(b=c,!1)}),b||null},markInvalid:function(a){if(a instanceof Array)for(var b=0,c=a.length;c>b;b++){var d=a[b],e=this.findField(d.id);e&&e.markInvalid(d.msg)}else{var f,g;for(g in a)"function"!=typeof a[g]&&(f=this.findField(g))&&f.markInvalid(a[g])}return this},setValues:function(a){if(a instanceof Array)for(var b=0,c=a.length;c>b;b++){var d=a[b],e=this.findField(d.id);e&&(e.setValue(d.value),this.trackResetOnLoad&&(e.originalValue=e.getValue()))}else{var f,g;for(g in a)"function"!=typeof a[g]&&(f=this.findField(g))&&(f.setValue(a[g]),this.trackResetOnLoad&&(f.originalValue=f.getValue()))}return this},getValues:function(a){var b=Ext.lib.Ajax.serializeForm(this.el.dom);return a===!0?b:Ext.urlDecode(b)},clearInvalid:function(){return this.items.each(function(a){a.clearInvalid()}),this},reset:function(){return this.items.each(function(a){a.reset()}),this},add:function(){return this.items.addAll(Array.prototype.slice.call(arguments,0)),this},remove:function(a){return this.items.remove(a),this},render:function(){return this.items.each(function(a){a.isFormField&&!a.rendered&&document.getElementById(a.id)&&a.applyTo(a.id)}),this},applyToFields:function(a){return this.items.each(function(b){Ext.apply(b,a)}),this},applyIfToFields:function(a){return this.items.each(function(b){Ext.applyIf(b,a)}),this}}),Ext.BasicForm=Ext.form.BasicForm,Ext.form.Form=function(a){Ext.form.Form.superclass.constructor.call(this,null,a),this.url=this.url||this.action,this.root||(this.root=new Ext.form.Layout(Ext.applyIf({id:Ext.id()},a))),this.active=this.root,this.buttons=[],this.addEvents({clientvalidation:!0})},Ext.extend(Ext.form.Form,Ext.form.BasicForm,{buttonAlign:"center",minButtonWidth:75,labelAlign:"left",monitorValid:!1,monitorPoll:200,column:function(a){var b=new Ext.form.Column(a);return this.start(b),arguments.length>1&&(this.add.apply(this,Array.prototype.slice.call(arguments,1)),this.end()),b},fieldset:function(a){var b=new Ext.form.FieldSet(a);return this.start(b),arguments.length>1&&(this.add.apply(this,Array.prototype.slice.call(arguments,1)),this.end()),b},container:function(a){var b=new Ext.form.Layout(a);return this.start(b),arguments.length>1&&(this.add.apply(this,Array.prototype.slice.call(arguments,1)),this.end()),b},start:function(a){return Ext.applyIf(a,{labelAlign:this.active.labelAlign,labelWidth:this.active.labelWidth,itemCls:this.active.itemCls}),this.active.stack.push(a),a.ownerCt=this.active,this.active=a,this},end:function(){return this.active==this.root?this:(this.active=this.active.ownerCt,this)},add:function(){this.active.stack.push.apply(this.active.stack,arguments);for(var a=[],b=0,c=arguments,d=c.length;d>b;b++)c[b].isFormField&&a.push(c[b]);return a.length>0&&Ext.form.Form.superclass.add.apply(this,a),this},render:function(a){a=Ext.get(a);var b=this.autoCreate||{tag:"form",method:this.method||"POST",id:this.id||Ext.id()};if(this.initEl(a.createChild(b)),this.root.render(this.el),this.items.each(function(a){a.render("x-form-el-"+a.id)}),this.buttons.length>0)for(var c=this.el.createChild({cls:"x-form-btns-ct",cn:{cls:"x-form-btns x-form-btns-"+this.buttonAlign,html:'<table cellspacing="0"><tbody><tr></tr></tbody></table><div class="x-clear"></div>'}},null,!0),d=c.getElementsByTagName("tr")[0],e=0,f=this.buttons.length;f>e;e++){var g=this.buttons[e],h=document.createElement("td");h.className="x-form-btn-td",g.render(d.appendChild(h))}return this.monitorValid&&this.startMonitoring(),this},addButton:function(a,b,c){var d={handler:b,scope:c,minWidth:this.minButtonWidth,hideParent:!0};"string"==typeof a?d.text=a:Ext.apply(d,a);var e=new Ext.Button(null,d);return this.buttons.push(e),e},startMonitoring:function(){this.bound||(this.bound=!0,Ext.TaskMgr.start({run:this.bindHandler,interval:this.monitorPoll||200,scope:this}))},stopMonitoring:function(){this.bound=!1},bindHandler:function(){if(!this.bound)return!1;var a=!0;this.items.each(function(b){
return b.isValid(!0)?void 0:(a=!1,!1)});for(var b=0,c=this.buttons.length;c>b;b++){var d=this.buttons[b];d.formBind===!0&&d.disabled===a&&d.setDisabled(!a)}this.fireEvent("clientvalidation",this,a)}}),Ext.Form=Ext.form.Form,Ext.form.Action=function(a,b){this.form=a,this.options=b||{}},Ext.form.Action.CLIENT_INVALID="client",Ext.form.Action.SERVER_INVALID="server",Ext.form.Action.CONNECT_FAILURE="connect",Ext.form.Action.LOAD_FAILURE="load",Ext.form.Action.prototype={type:"default",failureType:void 0,response:void 0,result:void 0,run:function(a){},success:function(a){},handleResponse:function(a){},failure:function(a){this.response=a,this.failureType=Ext.form.Action.CONNECT_FAILURE,this.form.afterAction(this,!1)},processResponse:function(a){return this.response=a,a.responseText?(this.result=this.handleResponse(a),this.result):!0},getUrl:function(a){var b=this.options.url||this.form.url||this.form.el.dom.action;if(a){var c=this.getParams();c&&(b+=(-1!=b.indexOf("?")?"&":"?")+c)}return b},getMethod:function(){return(this.options.method||this.form.method||this.form.el.dom.method||"POST").toUpperCase()},getParams:function(){var a=this.form.baseParams,b=this.options.params;return b?"object"==typeof b?b=Ext.urlEncode(Ext.applyIf(b,a)):"string"==typeof b&&a&&(b+="&"+Ext.urlEncode(a)):a&&(b=Ext.urlEncode(a)),b},createCallback:function(){return{success:this.success,failure:this.failure,scope:this,timeout:1e3*this.form.timeout,upload:this.form.fileUpload?this.success:void 0}}},Ext.form.Action.Submit=function(a,b){Ext.form.Action.Submit.superclass.constructor.call(this,a,b)},Ext.extend(Ext.form.Action.Submit,Ext.form.Action,{type:"submit",run:function(){var a=this.options,b=this.getMethod(),c="POST"==b;a.clientValidation===!1||this.form.isValid()?Ext.Ajax.request(Ext.apply(this.createCallback(),{form:this.form.el.dom,url:this.getUrl(!c),method:b,params:c?this.getParams():null,isUpload:this.form.fileUpload})):a.clientValidation!==!1&&(this.failureType=Ext.form.Action.CLIENT_INVALID,this.form.afterAction(this,!1))},success:function(a){var b=this.processResponse(a);return b===!0||b.success?void this.form.afterAction(this,!0):(b.errors&&(this.form.markInvalid(b.errors),this.failureType=Ext.form.Action.SERVER_INVALID),void this.form.afterAction(this,!1))},handleResponse:function(a){if(this.form.errorReader){var b=this.form.errorReader.read(a),c=[];if(b.records)for(var d=0,e=b.records.length;e>d;d++){var f=b.records[d];c[d]=f.data}return c.length<1&&(c=null),{success:b.success,errors:c}}return Ext.decode(a.responseText)}}),Ext.form.Action.Load=function(a,b){Ext.form.Action.Load.superclass.constructor.call(this,a,b),this.reader=this.form.reader},Ext.extend(Ext.form.Action.Load,Ext.form.Action,{type:"load",run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(),{method:this.getMethod(),url:this.getUrl(!1),params:this.getParams()}))},success:function(a){var b=this.processResponse(a);return b!==!0&&b.success&&b.data?(this.form.clearInvalid(),this.form.setValues(b.data),void this.form.afterAction(this,!0)):(this.failureType=Ext.form.Action.LOAD_FAILURE,void this.form.afterAction(this,!1))},handleResponse:function(a){if(this.form.reader){var b=this.form.reader.read(a),c=b.records&&b.records[0]?b.records[0].data:null;return{success:b.success,data:c}}return Ext.decode(a.responseText)}}),Ext.form.Action.ACTION_TYPES={load:Ext.form.Action.Load,submit:Ext.form.Action.Submit},Ext.form.Layout=function(a){Ext.form.Layout.superclass.constructor.call(this,a),this.stack=[]},Ext.extend(Ext.form.Layout,Ext.Component,{clear:!0,labelSeparator:":",hideLabels:!1,defaultAutoCreate:{tag:"div",cls:"x-form-ct"},onRender:function(a,b){if(this.el)this.el=Ext.get(this.el);else{var c=this.getAutoCreate();this.el=a.createChild(c,b)}this.style&&this.el.applyStyles(this.style),this.labelAlign&&this.el.addClass("x-form-label-"+this.labelAlign),this.hideLabels?(this.labelStyle="display:none",this.elementStyle="padding-left:0;"):("number"==typeof this.labelWidth&&(this.labelStyle="width:"+this.labelWidth+"px;",this.elementStyle="padding-left:"+(this.labelWidth+("number"==typeof this.labelPad?this.labelPad:5)+"px")+";"),"top"==this.labelAlign&&(this.labelStyle="width:auto;",this.elementStyle="padding-left:0;"));var d=this.stack,e=d.length;if(e>0){if(!this.fieldTpl){var f=new Ext.Template('<div class="x-form-item {5}">','<label for="{0}" style="{2}">{1}{4}</label>','<div class="x-form-element" id="x-form-el-{0}" style="{3}">',"</div>",'</div><div class="x-form-clear-left"></div>');f.disableFormats=!0,f.compile(),Ext.form.Layout.prototype.fieldTpl=f}for(var g=0;e>g;g++)d[g].isFormField?this.renderField(d[g]):this.renderComponent(d[g])}this.clear&&this.el.createChild({cls:"x-form-clear"})},renderField:function(a){this.fieldTpl.append(this.el,[a.id,a.fieldLabel,a.labelStyle||this.labelStyle||"",this.elementStyle||"","undefined"==typeof a.labelSeparator?this.labelSeparator:a.labelSeparator,a.itemCls||this.itemCls||""])},renderComponent:function(a){a.render(this.el)}}),Ext.form.Column=function(a){Ext.form.Column.superclass.constructor.call(this,a)},Ext.extend(Ext.form.Column,Ext.form.Layout,{defaultAutoCreate:{tag:"div",cls:"x-form-ct x-form-column"},onRender:function(a,b){Ext.form.Column.superclass.onRender.call(this,a,b),this.width&&this.el.setWidth(this.width)}}),Ext.form.FieldSet=function(a){Ext.form.FieldSet.superclass.constructor.call(this,a)},Ext.extend(Ext.form.FieldSet,Ext.form.Layout,{defaultAutoCreate:{tag:"fieldset",cn:{tag:"legend"}},onRender:function(a,b){Ext.form.FieldSet.superclass.onRender.call(this,a,b),this.legend&&this.setLegend(this.legend)},setLegend:function(a){this.rendered&&this.el.child("legend").update(a)}}),Ext.form.VTypes=function(){var a=/^[a-zA-Z_]+$/,b=/^[a-zA-Z0-9_]+$/,c=/^([\w]+)(.[\w]+)*@([\w-]+\.){1,5}([A-Za-z]){2,4}$/,d=/(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i;return{email:function(a){return c.test(a)},emailText:'This field should be an e-mail address in the format "user@domain.com"',emailMask:/[a-z0-9_\.\-@]/i,url:function(a){return d.test(a)},urlText:'This field should be a URL in the format "http://www.domain.com"',alpha:function(b){return a.test(b)},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(a){return b.test(a)},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i}}(),Ext.LayoutManager=function(a,b){Ext.LayoutManager.superclass.constructor.call(this),this.el=Ext.get(a),this.el.dom==document.body&&Ext.isIE&&!b.allowScroll?document.body.scroll="no":this.el.dom!=document.body&&"static"==this.el.getStyle("position")&&this.el.position("relative"),this.id=this.el.id,this.el.addClass("x-layout-container"),this.monitorWindowResize=!0,this.regions={},this.addEvents({layout:!0,regionresized:!0,regioncollapsed:!0,regionexpanded:!0}),this.updating=!1,Ext.EventManager.onWindowResize(this.onWindowResize,this,!0)},Ext.extend(Ext.LayoutManager,Ext.util.Observable,{isUpdating:function(){return this.updating},beginUpdate:function(){this.updating=!0},endUpdate:function(a){this.updating=!1,a||this.layout()},layout:function(){},onRegionResized:function(a,b){this.fireEvent("regionresized",a,b),this.layout()},onRegionCollapsed:function(a){this.fireEvent("regioncollapsed",a)},onRegionExpanded:function(a){this.fireEvent("regionexpanded",a)},getViewSize:function(){var a;return a=this.el.dom!=document.body?this.el.getSize():{width:Ext.lib.Dom.getViewWidth(),height:Ext.lib.Dom.getViewHeight()},a.width-=this.el.getBorderWidth("lr")-this.el.getPadding("lr"),a.height-=this.el.getBorderWidth("tb")-this.el.getPadding("tb"),a},getEl:function(){return this.el},getRegion:function(a){return this.regions[a.toLowerCase()]},onWindowResize:function(){this.monitorWindowResize&&this.layout()}}),Ext.BorderLayout=function(a,b){b=b||{},Ext.BorderLayout.superclass.constructor.call(this,a,b),this.factory=b.factory||Ext.BorderLayout.RegionFactory;for(var c=0,d=this.factory.validRegions.length;d>c;c++){var e=this.factory.validRegions[c];b[e]&&this.addRegion(e,b[e])}},Ext.extend(Ext.BorderLayout,Ext.LayoutManager,{addRegion:function(a,b){if(!this.regions[a]){var c=this.factory.create(a,this,b);this.bindRegion(a,c)}return this.regions[a]},bindRegion:function(a,b){this.regions[a]=b,b.on("visibilitychange",this.layout,this),b.on("paneladded",this.layout,this),b.on("panelremoved",this.layout,this),b.on("invalidated",this.layout,this),b.on("resized",this.onRegionResized,this),b.on("collapsed",this.onRegionCollapsed,this),b.on("expanded",this.onRegionExpanded,this)},layout:function(){if(!this.updating){var a=this.getViewSize(),b=a.width,c=a.height,d=b,e=c,f=0,g=0,h=this.regions,i=h.north,j=h.south,k=h.west,l=h.east,m=h.center;if(i&&i.isVisible()){var n=i.getBox(),o=i.getMargins();n.width=b-(o.left+o.right),n.x=o.left,n.y=o.top,f=n.height+n.y+o.bottom,e-=f,i.updateBox(this.safeBox(n))}if(j&&j.isVisible()){var n=j.getBox(),o=j.getMargins();n.width=b-(o.left+o.right),n.x=o.left;var p=n.height+o.top+o.bottom;n.y=c-p+o.top,e-=p,j.updateBox(this.safeBox(n))}if(k&&k.isVisible()){var n=k.getBox(),o=k.getMargins();n.height=e-(o.top+o.bottom),n.x=o.left,n.y=f+o.top;var q=n.width+o.left+o.right;g+=q,d-=q,k.updateBox(this.safeBox(n))}if(l&&l.isVisible()){var n=l.getBox(),o=l.getMargins();n.height=e-(o.top+o.bottom);var q=n.width+o.left+o.right;n.x=b-q+o.left,n.y=f+o.top,d-=q,l.updateBox(this.safeBox(n))}if(m){var o=m.getMargins(),r={x:g+o.left,y:f+o.top,width:d-(o.left+o.right),height:e-(o.top+o.bottom)};m.updateBox(this.safeBox(r))}this.el.repaint(),this.fireEvent("layout",this)}},safeBox:function(a){return a.width=Math.max(0,a.width),a.height=Math.max(0,a.height),a},add:function(a,b){return a=a.toLowerCase(),this.regions[a].add(b)},remove:function(a,b){return a=a.toLowerCase(),this.regions[a].remove(b)},findPanel:function(a){var b=this.regions;for(var c in b)if("function"!=typeof b[c]){var d=b[c].getPanel(a);if(d)return d}return null},showPanel:function(a){var b=this.regions;for(var c in b){var d=b[c];if("function"!=typeof d&&d.hasPanel(a))return d.showPanel(a)}return null},restoreState:function(a){a||(a=Ext.state.Manager);var b=new Ext.LayoutStateManager;b.init(this,a)},batchAdd:function(a){this.beginUpdate();for(var b in a){var c=this.regions[b];c&&this.addTypedPanels(c,a[b])}this.endUpdate()},addTypedPanels:function(a,b){if("string"==typeof b)a.add(new Ext.ContentPanel(b));else if(b instanceof Array)for(var c=0,d=b.length;d>c;c++)this.addTypedPanels(a,b[c]);else if(b.events)a.add(b);else{var e=b.el;delete b.el,a.add(new Ext.ContentPanel(e||Ext.id(),b))}}}),Ext.BorderLayout.create=function(a,b){var c=new Ext.BorderLayout(b||document.body,a);c.beginUpdate();for(var d=Ext.BorderLayout.RegionFactory.validRegions,e=0,f=d.length;f>e;e++){var g=d[e];if(c.regions[g]&&a[g].panels){var h=c.regions[g],i=a[g].panels;c.addTypedPanels(h,i)}}return c.endUpdate(),c},Ext.BorderLayout.RegionFactory={validRegions:["north","south","east","west","center"],create:function(a,b,c){if(a=a.toLowerCase(),c.lightweight||c.basic)return new Ext.BasicLayoutRegion(b,c,a);switch(a){case"north":return new Ext.NorthLayoutRegion(b,c);case"south":return new Ext.SouthLayoutRegion(b,c);case"east":return new Ext.EastLayoutRegion(b,c);case"west":return new Ext.WestLayoutRegion(b,c);case"center":return new Ext.CenterLayoutRegion(b,c)}throw'Layout region "'+a+'" not supported.'}},Ext.BasicLayoutRegion=function(a,b,c,d){this.mgr=a,this.position=c,this.events={beforeremove:!0,invalidated:!0,visibilitychange:!0,paneladded:!0,panelremoved:!0,collapsed:!0,expanded:!0,slideshow:!0,slidehide:!0,panelactivated:!0,resized:!0},this.panels=new Ext.util.MixedCollection,this.panels.getKey=this.getPanelId.createDelegate(this),this.box=null,this.activePanel=null,d!==!0&&this.applyConfig(b)},Ext.extend(Ext.BasicLayoutRegion,Ext.util.Observable,{getPanelId:function(a){return a.getId()},applyConfig:function(a){this.margins=a.margins||this.margins||{top:0,left:0,right:0,bottom:0},this.config=a},resizeTo:function(a){var b=this.el?this.el:this.activePanel?this.activePanel.getEl():null;if(b)switch(this.position){case"east":case"west":b.setWidth(a),this.fireEvent("resized",this,a);break;case"north":case"south":b.setHeight(a),this.fireEvent("resized",this,a)}},getBox:function(){return this.activePanel?this.activePanel.getEl().getBox(!1,!0):null},getMargins:function(){return this.margins},updateBox:function(a){this.box=a;var b=this.activePanel.getEl();b.dom.style.left=a.x+"px",b.dom.style.top=a.y+"px",this.activePanel.setSize(a.width,a.height)},getEl:function(){return this.activePanel},isVisible:function(){return this.activePanel?!0:!1},setActivePanel:function(a){a=this.getPanel(a),this.activePanel&&this.activePanel!=a&&(this.activePanel.setActiveState(!1),this.activePanel.getEl().setLeftTop(-1e4,-1e4)),this.activePanel=a,a.setActiveState(!0),this.box&&a.setSize(this.box.width,this.box.height),this.fireEvent("panelactivated",this,a),this.fireEvent("invalidated")},showPanel:function(a){return(a=this.getPanel(a))&&this.setActivePanel(a),a},getActivePanel:function(){return this.activePanel},add:function(a){if(arguments.length>1){for(var b=0,c=arguments.length;c>b;b++)this.add(arguments[b]);return null}if(this.hasPanel(a))return this.showPanel(a),a;var d=a.getEl();return d.dom.parentNode!=this.mgr.el.dom&&this.mgr.el.dom.appendChild(d.dom),a.setRegion&&a.setRegion(this),this.panels.add(a),d.setStyle("position","absolute"),a.background||(this.setActivePanel(a),this.config.initialSize&&1==this.panels.getCount()&&this.resizeTo(this.config.initialSize)),this.fireEvent("paneladded",this,a),a},hasPanel:function(a){return"object"==typeof a&&(a=a.getId()),this.getPanel(a)?!0:!1},remove:function(a,b){if(a=this.getPanel(a),!a)return null;var c={};if(this.fireEvent("beforeremove",this,a,c),c.cancel===!0)return null;var d=a.getId();return this.panels.removeKey(d),a},getPanel:function(a){return"object"==typeof a?a:this.panels.get(a)},getPosition:function(){return this.position}}),Ext.LayoutRegion=function(a,b,c){Ext.LayoutRegion.superclass.constructor.call(this,a,b,c,!0);var d=Ext.DomHelper;this.el=d.append(a.el.dom,{tag:"div",cls:"x-layout-panel x-layout-panel-"+this.position},!0),this.titleEl=d.append(this.el.dom,{tag:"div",unselectable:"on",cls:"x-unselectable x-layout-panel-hd x-layout-title-"+this.position,children:[{tag:"span",cls:"x-unselectable x-layout-panel-hd-text",unselectable:"on",html:"&#160;"},{tag:"div",cls:"x-unselectable x-layout-panel-hd-tools",unselectable:"on"}]},!0),this.titleEl.enableDisplayMode(),this.titleTextEl=this.titleEl.dom.firstChild,this.tools=Ext.get(this.titleEl.dom.childNodes[1],!0),this.closeBtn=this.createTool(this.tools.dom,"x-layout-close"),this.closeBtn.enableDisplayMode(),this.closeBtn.on("click",this.closeClicked,this),this.closeBtn.hide(),this.createBody(b),this.visible=!0,this.collapsed=!1,b.hideWhenEmpty&&(this.hide(),this.on("paneladded",this.validateVisibility,this),this.on("panelremoved",this.validateVisibility,this)),this.applyConfig(b)},Ext.extend(Ext.LayoutRegion,Ext.BasicLayoutRegion,{createBody:function(){this.bodyEl=this.el.createChild({tag:"div",cls:"x-layout-panel-body"})},applyConfig:function(a){if(a.collapsible&&"center"!=this.position&&!this.collapsedEl){var b=Ext.DomHelper;a.titlebar!==!1&&(this.collapseBtn=this.createTool(this.tools.dom,"x-layout-collapse-"+this.position),this.collapseBtn.on("click",this.collapse,this),this.collapseBtn.enableDisplayMode(),(a.showPin===!0||this.showPin)&&(this.stickBtn=this.createTool(this.tools.dom,"x-layout-stick"),this.stickBtn.enableDisplayMode(),this.stickBtn.on("click",this.expand,this),this.stickBtn.hide())),this.collapsedEl=b.append(this.mgr.el.dom,{cls:"x-layout-collapsed x-layout-collapsed-"+this.position,children:[{cls:"x-layout-collapsed-tools",children:[{cls:"x-layout-ctools-inner"}]}]},!0),a.floatable!==!1&&(this.collapsedEl.addClassOnOver("x-layout-collapsed-over"),this.collapsedEl.on("click",this.collapseClick,this)),!a.collapsedTitle||"north"!=this.position&&"south"!=this.position||(this.collapsedTitleTextEl=b.append(this.collapsedEl.dom,{tag:"div",cls:"x-unselectable x-layout-panel-hd-text",id:"message",unselectable:"on",style:{"float":"left"}}),this.collapsedTitleTextEl.innerHTML=a.collapsedTitle),this.expandBtn=this.createTool(this.collapsedEl.dom.firstChild.firstChild,"x-layout-expand-"+this.position),this.expandBtn.on("click",this.expand,this)}this.collapseBtn&&this.collapseBtn.setVisible(1==a.collapsible),this.cmargins=a.cmargins||this.cmargins||("west"==this.position||"east"==this.position?{top:0,left:2,right:2,bottom:0}:{top:2,left:0,right:0,bottom:2}),this.margins=a.margins||this.margins||{top:0,left:0,right:0,bottom:0},this.bottomTabs="top"!=a.tabPosition,this.autoScroll=a.autoScroll||!1,this.autoScroll?this.bodyEl.setStyle("overflow","auto"):this.bodyEl.setStyle("overflow","hidden"),!a.titlebar&&!a.title||a.titlebar===!1?this.titleEl.hide():(this.titleEl.show(),a.title&&(this.titleTextEl.innerHTML=a.title)),this.duration=a.duration||.3,this.slideDuration=a.slideDuration||.45,this.config=a,a.collapsed&&this.collapse(!0),a.hidden&&this.hide()},isVisible:function(){return this.visible},setCollapsedTitle:function(a){a=a||"&#160;",this.collapsedTitleTextEl&&(this.collapsedTitleTextEl.innerHTML=a)},getBox:function(){var a;return a=this.collapsed?this.collapsedEl.getBox(!1,!0):this.el.getBox(!1,!0)},getMargins:function(){return this.collapsed?this.cmargins:this.margins},highlight:function(){this.el.addClass("x-layout-panel-dragover")},unhighlight:function(){this.el.removeClass("x-layout-panel-dragover")},updateBox:function(a){this.box=a,this.collapsed?(this.collapsedEl.dom.style.left=a.x+"px",this.collapsedEl.dom.style.top=a.y+"px",this.collapsedEl.setSize(a.width,a.height)):(this.el.dom.style.left=a.x+"px",this.el.dom.style.top=a.y+"px",this.updateBody(a.width,a.height)),this.tabs&&this.tabs.autoSizeTabs()},updateBody:function(a,b){if(null!==a&&(this.el.setWidth(a),a-=this.el.getBorderWidth("rl"),this.config.adjustments&&(a+=this.config.adjustments[0])),null!==b&&(this.el.setHeight(b),b=this.titleEl&&this.titleEl.isDisplayed()?b-(this.titleEl.getHeight()||0):b,b-=this.el.getBorderWidth("tb"),this.config.adjustments&&(b+=this.config.adjustments[1]),this.bodyEl.setHeight(b),this.tabs&&(b=this.tabs.syncHeight(b))),this.panelSize&&(a=null!==a?a:this.panelSize.width,b=null!==b?b:this.panelSize.height),this.activePanel){var c=this.activePanel.getEl();a=null!==a?a:c.getWidth(),b=null!==b?b:c.getHeight(),this.panelSize={width:a,height:b},this.activePanel.setSize(a,b)}Ext.isIE&&this.tabs&&this.tabs.el.repaint()},getEl:function(){return this.el},hide:function(){this.collapsed?(this.collapsedEl.dom.style.left="-2000px",this.collapsedEl.hide()):(this.el.dom.style.left="-2000px",this.el.hide()),this.visible=!1,this.fireEvent("visibilitychange",this,!1)},show:function(){this.collapsed?this.collapsedEl.show():this.el.show(),this.visible=!0,this.fireEvent("visibilitychange",this,!0)},closeClicked:function(){this.activePanel&&this.remove(this.activePanel)},collapseClick:function(a){this.isSlid?(a.stopPropagation(),this.slideIn()):(a.stopPropagation(),this.slideOut())},collapse:function(a){this.collapsed||(this.collapsed=!0,this.split&&this.split.el.hide(),this.config.animate&&a!==!0?(this.fireEvent("invalidated",this),this.animateCollapse()):(this.el.setLocation(-2e4,-2e4),this.el.hide(),this.collapsedEl.show(),this.fireEvent("collapsed",this),this.fireEvent("invalidated",this)))},animateCollapse:function(){},expand:function(a,b){a&&a.stopPropagation(),this.collapsed&&!this.el.hasActiveFx()&&(this.isSlid&&(this.afterSlideIn(),b=!0),this.collapsed=!1,this.config.animate&&b!==!0?this.animateExpand():(this.el.show(),this.split&&this.split.el.show(),this.collapsedEl.setLocation(-2e3,-2e3),this.collapsedEl.hide(),this.fireEvent("invalidated",this),this.fireEvent("expanded",this)))},animateExpand:function(){},initTabs:function(){this.bodyEl.setStyle("overflow","hidden");var a=new Ext.TabPanel(this.bodyEl.dom,{tabPosition:this.bottomTabs?"bottom":"top",disableTooltips:this.config.disableTabTips});this.config.hideTabs&&a.stripWrap.setDisplayed(!1),this.tabs=a,a.resizeTabs=this.config.resizeTabs===!0,a.minTabWidth=this.config.minTabWidth||40,a.maxTabWidth=this.config.maxTabWidth||250,a.preferredTabWidth=this.config.preferredTabWidth||150,a.monitorResize=!1,a.bodyEl.setStyle("overflow",this.config.autoScroll?"auto":"hidden"),a.bodyEl.addClass("x-layout-tabs-body"),this.panels.each(this.initPanelAsTab,this)},initPanelAsTab:function(a){var b=this.tabs.addTab(a.getEl().id,a.getTitle(),null,this.config.closeOnTab&&a.isClosable());return void 0!==a.tabTip&&b.setTooltip(a.tabTip),b.on("activate",function(){this.setActivePanel(a)},this),this.config.closeOnTab&&b.on("beforeclose",function(b,c){c.cancel=!0,this.remove(a)},this),b},updatePanelTitle:function(a,b){if(this.activePanel==a&&this.updateTitle(b),this.tabs){var c=this.tabs.getTab(a.getEl().id);c.setText(b),void 0!==a.tabTip&&c.setTooltip(a.tabTip)}},updateTitle:function(a){this.titleTextEl&&!this.config.title&&(this.titleTextEl.innerHTML="undefined"!=typeof a&&a.length>0?a:"&#160;")},setActivePanel:function(a){a=this.getPanel(a),this.activePanel&&this.activePanel!=a&&this.activePanel.setActiveState(!1),this.activePanel=a,a.setActiveState(!0),this.panelSize&&a.setSize(this.panelSize.width,this.panelSize.height),this.closeBtn&&this.closeBtn.setVisible(!this.config.closeOnTab&&!this.isSlid&&a.isClosable()),this.updateTitle(a.getTitle()),this.tabs&&this.fireEvent("invalidated",this),this.fireEvent("panelactivated",this,a)},showPanel:function(a){if(a=this.getPanel(a))if(this.tabs){var b=this.tabs.getTab(a.getEl().id);b.isHidden()&&this.tabs.unhideTab(b.id),b.activate()}else this.setActivePanel(a);return a},getActivePanel:function(){return this.activePanel},validateVisibility:function(){this.panels.getCount()<1?(this.updateTitle("&#160;"),this.closeBtn.hide(),this.hide()):this.isVisible()||this.show()},add:function(a){if(arguments.length>1){for(var b=0,c=arguments.length;c>b;b++)this.add(arguments[b]);return null}return this.hasPanel(a)?(this.showPanel(a),a):(a.setRegion(this),this.panels.add(a),1!=this.panels.getCount()||this.config.alwaysShowTabs?(this.tabs?this.initPanelAsTab(a):this.initTabs(),a.background!==!0&&this.tabs.activate(a.getEl().id),this.fireEvent("paneladded",this,a),a):(this.bodyEl.dom.appendChild(a.getEl().dom),a.background!==!0&&this.setActivePanel(a),this.fireEvent("paneladded",this,a),a))},hidePanel:function(a){this.tabs&&(a=this.getPanel(a))&&this.tabs.hideTab(a.getEl().id)},unhidePanel:function(a){this.tabs&&(a=this.getPanel(a))&&this.tabs.unhideTab(a.getEl().id)},clearPanels:function(){for(;this.panels.getCount()>0;)this.remove(this.panels.first())},remove:function(a,b){if(a=this.getPanel(a),!a)return null;var c={};if(this.fireEvent("beforeremove",this,a,c),c.cancel===!0)return null;b="undefined"!=typeof b?b:this.config.preservePanels===!0||a.preserve===!0;var d=a.getId();if(this.panels.removeKey(d),b&&document.body.appendChild(a.getEl().dom),this.tabs?this.tabs.removeTab(a.getEl().id):b||this.bodyEl.dom.removeChild(a.getEl().dom),1==this.panels.getCount()&&this.tabs&&!this.config.alwaysShowTabs){var e=this.panels.first(),f=document.createElement("div");f.appendChild(e.getEl().dom),this.bodyEl.update(""),this.bodyEl.dom.appendChild(e.getEl().dom),f=null,this.updateTitle(e.getTitle()),this.tabs=null,this.bodyEl.setStyle("overflow",this.config.autoScroll?"auto":"hidden"),this.setActivePanel(e)}if(a.setRegion(null),this.activePanel==a&&(this.activePanel=null),this.config.autoDestroy!==!1&&b!==!0)try{a.destroy()}catch(c){}return this.fireEvent("panelremoved",this,a),a},getTabs:function(){return this.tabs},createTool:function(a,b){var c=Ext.DomHelper.append(a,{tag:"div",cls:"x-layout-tools-button",children:[{tag:"div",cls:"x-layout-tools-button-inner "+b,html:"&#160;"}]},!0);return c.addClassOnOver("x-layout-tools-button-over"),c}}),Ext.SplitLayoutRegion=function(a,b,c,d){this.cursor=d,Ext.SplitLayoutRegion.superclass.constructor.call(this,a,b,c)},Ext.extend(Ext.SplitLayoutRegion,Ext.LayoutRegion,{splitTip:"Drag to resize.",collapsibleSplitTip:"Drag to resize. Double click to hide.",useSplitTips:!1,applyConfig:function(a){if(Ext.SplitLayoutRegion.superclass.applyConfig.call(this,a),a.split){if(!this.split){var b=Ext.DomHelper.append(this.mgr.el.dom,{tag:"div",id:this.el.id+"-split",cls:"x-layout-split x-layout-split-"+this.position,html:"&#160;"});this.split=new Ext.SplitBar(b,this.el,this.orientation),this.split.on("moved",this.onSplitMove,this),this.split.useShim=a.useShim===!0,this.split.getMaximumSize=this["north"==this.position||"south"==this.position?"getVMaxSize":"getHMaxSize"].createDelegate(this),this.useSplitTips&&(this.split.el.dom.title=a.collapsible?this.collapsibleSplitTip:this.splitTip),a.collapsible&&this.split.el.on("dblclick",this.collapse,this)}"undefined"!=typeof a.minSize&&(this.split.minSize=a.minSize),"undefined"!=typeof a.maxSize&&(this.split.maxSize=a.maxSize),(a.hideWhenEmpty||a.hidden||a.collapsed)&&this.hideSplitter()}},getHMaxSize:function(){var a=this.config.maxSize||1e4,b=this.mgr.getRegion("center");return Math.min(a,this.el.getWidth()+b.getEl().getWidth()-b.getMinWidth())},getVMaxSize:function(){var a=this.config.maxSize||1e4,b=this.mgr.getRegion("center");return Math.min(a,this.el.getHeight()+b.getEl().getHeight()-b.getMinHeight())},onSplitMove:function(a,b){this.fireEvent("resized",this,b)},getSplitBar:function(){return this.split},hide:function(){this.hideSplitter(),Ext.SplitLayoutRegion.superclass.hide.call(this)},hideSplitter:function(){this.split&&(this.split.el.setLocation(-2e3,-2e3),this.split.el.hide())},show:function(){this.split&&this.split.el.show(),Ext.SplitLayoutRegion.superclass.show.call(this)},beforeSlide:function(){Ext.isGecko&&(this.bodyEl.clip(),this.tabs&&this.tabs.bodyEl.clip(),this.activePanel&&(this.activePanel.getEl().clip(),this.activePanel.beforeSlide&&this.activePanel.beforeSlide()))},afterSlide:function(){Ext.isGecko&&(this.bodyEl.unclip(),this.tabs&&this.tabs.bodyEl.unclip(),this.activePanel&&(this.activePanel.getEl().unclip(),this.activePanel.afterSlide&&this.activePanel.afterSlide()))},initAutoHide:function(){if(this.autoHide!==!1){if(!this.autoHideHd){var a=new Ext.util.DelayedTask(this.slideIn,this);this.autoHideHd={mouseout:function(b){b.within(this.el,!0)||a.delay(500)},mouseover:function(b){a.cancel()},scope:this}}this.el.on(this.autoHideHd)}},clearAutoHide:function(){this.autoHide!==!1&&(this.el.un("mouseout",this.autoHideHd.mouseout),this.el.un("mouseover",this.autoHideHd.mouseover))},clearMonitor:function(){Ext.get(document).un("click",this.slideInIf,this)},slideOut:function(){this.isSlid||this.el.hasActiveFx()||(this.isSlid=!0,this.collapseBtn&&this.collapseBtn.hide(),this.closeBtnState=this.closeBtn.getStyle("display"),this.closeBtn.hide(),this.stickBtn&&this.stickBtn.show(),this.el.show(),this.el.alignTo(this.collapsedEl,this.getCollapseAnchor()),this.beforeSlide(),this.el.setStyle("z-index",10001),this.el.slideIn(this.getSlideAnchor(),{callback:function(){this.afterSlide(),this.initAutoHide(),Ext.get(document).on("click",this.slideInIf,this),this.fireEvent("slideshow",this)},scope:this,block:!0}))},afterSlideIn:function(){this.clearAutoHide(),this.isSlid=!1,this.clearMonitor(),this.el.setStyle("z-index",""),this.collapseBtn&&this.collapseBtn.show(),this.closeBtn.setStyle("display",this.closeBtnState),this.stickBtn&&this.stickBtn.hide(),this.fireEvent("slidehide",this)},slideIn:function(a){return!this.isSlid||this.el.hasActiveFx()?void Ext.callback(a):(this.isSlid=!1,this.beforeSlide(),void this.el.slideOut(this.getSlideAnchor(),{callback:function(){this.el.setLeftTop(-1e4,-1e4),this.afterSlide(),this.afterSlideIn(),Ext.callback(a)},scope:this,block:!0}))},slideInIf:function(a){a.within(this.el)||this.slideIn()},animateCollapse:function(){this.beforeSlide(),this.el.setStyle("z-index",2e4);var a=this.getSlideAnchor();this.el.slideOut(a,{callback:function(){this.el.setStyle("z-index",""),this.collapsedEl.slideIn(a,{duration:.3}),this.afterSlide(),this.el.setLocation(-1e4,-1e4),this.el.hide(),this.fireEvent("collapsed",this)},scope:this,block:!0})},animateExpand:function(){this.beforeSlide(),this.el.alignTo(this.collapsedEl,this.getCollapseAnchor(),this.getExpandAdj()),this.el.setStyle("z-index",2e4),this.collapsedEl.hide({duration:.1}),this.el.slideIn(this.getSlideAnchor(),{callback:function(){this.el.setStyle("z-index",""),this.afterSlide(),this.split&&this.split.el.show(),this.fireEvent("invalidated",this),this.fireEvent("expanded",this)},scope:this,block:!0})},anchors:{west:"left",east:"right",north:"top",south:"bottom"},sanchors:{west:"l",east:"r",north:"t",south:"b"},canchors:{west:"tl-tr",east:"tr-tl",north:"tl-bl",south:"bl-tl"},getAnchor:function(){return this.anchors[this.position]},getCollapseAnchor:function(){return this.canchors[this.position]},getSlideAnchor:function(){return this.sanchors[this.position]},getAlignAdj:function(){this.cmargins;switch(this.position){case"west":return[0,0];case"east":return[0,0];case"north":return[0,0];case"south":return[0,0]}},getExpandAdj:function(){var a=this.collapsedEl,b=this.cmargins;switch(this.position){case"west":return[-(b.right+a.getWidth()+b.left),0];case"east":return[b.right+a.getWidth()+b.left,0];case"north":return[0,-(b.top+b.bottom+a.getHeight())];case"south":return[0,b.top+b.bottom+a.getHeight()]}}}),Ext.CenterLayoutRegion=function(a,b){Ext.CenterLayoutRegion.superclass.constructor.call(this,a,b,"center"),this.visible=!0,this.minWidth=b.minWidth||20,this.minHeight=b.minHeight||20},Ext.extend(Ext.CenterLayoutRegion,Ext.LayoutRegion,{hide:function(){},show:function(){},getMinWidth:function(){return this.minWidth},getMinHeight:function(){return this.minHeight}}),Ext.NorthLayoutRegion=function(a,b){Ext.NorthLayoutRegion.superclass.constructor.call(this,a,b,"north","n-resize"),this.split&&(this.split.placement=Ext.SplitBar.TOP,this.split.orientation=Ext.SplitBar.VERTICAL,this.split.el.addClass("x-layout-split-v"));var c=b.initialSize||b.height;"undefined"!=typeof c&&this.el.setHeight(c)},Ext.extend(Ext.NorthLayoutRegion,Ext.SplitLayoutRegion,{orientation:Ext.SplitBar.VERTICAL,getBox:function(){if(this.collapsed)return this.collapsedEl.getBox();var a=this.el.getBox();return this.split&&(a.height+=this.split.el.getHeight()),a},updateBox:function(a){this.split&&!this.collapsed&&(a.height-=this.split.el.getHeight(),this.split.el.setLeft(a.x),this.split.el.setTop(a.y+a.height),this.split.el.setWidth(a.width)),this.collapsed&&this.updateBody(a.width,null),Ext.NorthLayoutRegion.superclass.updateBox.call(this,a)}}),Ext.SouthLayoutRegion=function(a,b){Ext.SouthLayoutRegion.superclass.constructor.call(this,a,b,"south","s-resize"),this.split&&(this.split.placement=Ext.SplitBar.BOTTOM,this.split.orientation=Ext.SplitBar.VERTICAL,this.split.el.addClass("x-layout-split-v"));var c=b.initialSize||b.height;"undefined"!=typeof c&&this.el.setHeight(c)},Ext.extend(Ext.SouthLayoutRegion,Ext.SplitLayoutRegion,{orientation:Ext.SplitBar.VERTICAL,getBox:function(){if(this.collapsed)return this.collapsedEl.getBox();var a=this.el.getBox();if(this.split){var b=this.split.el.getHeight();a.height+=b,a.y-=b}return a},updateBox:function(a){if(this.split&&!this.collapsed){var b=this.split.el.getHeight();a.height-=b,a.y+=b,this.split.el.setLeft(a.x),this.split.el.setTop(a.y-b),this.split.el.setWidth(a.width)}this.collapsed&&this.updateBody(a.width,null),Ext.SouthLayoutRegion.superclass.updateBox.call(this,a)}}),Ext.EastLayoutRegion=function(a,b){Ext.EastLayoutRegion.superclass.constructor.call(this,a,b,"east","e-resize"),this.split&&(this.split.placement=Ext.SplitBar.RIGHT,this.split.orientation=Ext.SplitBar.HORIZONTAL,this.split.el.addClass("x-layout-split-h"));var c=b.initialSize||b.width;"undefined"!=typeof c&&this.el.setWidth(c);
},Ext.extend(Ext.EastLayoutRegion,Ext.SplitLayoutRegion,{orientation:Ext.SplitBar.HORIZONTAL,getBox:function(){if(this.collapsed)return this.collapsedEl.getBox();var a=this.el.getBox();if(this.split){var b=this.split.el.getWidth();a.width+=b,a.x-=b}return a},updateBox:function(a){if(this.split&&!this.collapsed){var b=this.split.el.getWidth();a.width-=b,this.split.el.setLeft(a.x),this.split.el.setTop(a.y),this.split.el.setHeight(a.height),a.x+=b}this.collapsed&&this.updateBody(null,a.height),Ext.EastLayoutRegion.superclass.updateBox.call(this,a)}}),Ext.WestLayoutRegion=function(a,b){Ext.WestLayoutRegion.superclass.constructor.call(this,a,b,"west","w-resize"),this.split&&(this.split.placement=Ext.SplitBar.LEFT,this.split.orientation=Ext.SplitBar.HORIZONTAL,this.split.el.addClass("x-layout-split-h"));var c=b.initialSize||b.width;"undefined"!=typeof c&&this.el.setWidth(c)},Ext.extend(Ext.WestLayoutRegion,Ext.SplitLayoutRegion,{orientation:Ext.SplitBar.HORIZONTAL,getBox:function(){if(this.collapsed)return this.collapsedEl.getBox();var a=this.el.getBox();return this.split&&(a.width+=this.split.el.getWidth()),a},updateBox:function(a){if(this.split&&!this.collapsed){var b=this.split.el.getWidth();a.width-=b,this.split.el.setLeft(a.x+a.width),this.split.el.setTop(a.y),this.split.el.setHeight(a.height)}this.collapsed&&this.updateBody(null,a.height),Ext.WestLayoutRegion.superclass.updateBox.call(this,a)}}),Ext.LayoutStateManager=function(a){this.state={north:{},south:{},east:{},west:{}}},Ext.LayoutStateManager.prototype={init:function(a,b){this.provider=b;var c=b.get(a.id+"-layout-state");if(c){var d=a.isUpdating();d||a.beginUpdate();for(var e in c)if("function"!=typeof c[e]){var f=c[e],g=a.getRegion(e);g&&f&&(f.size&&g.resizeTo(f.size),1==f.collapsed?g.collapse(!0):g.expand(null,!0))}d||a.endUpdate(),this.state=c}this.layout=a,a.on("regionresized",this.onRegionResized,this),a.on("regioncollapsed",this.onRegionCollapsed,this),a.on("regionexpanded",this.onRegionExpanded,this)},storeState:function(){this.provider.set(this.layout.id+"-layout-state",this.state)},onRegionResized:function(a,b){this.state[a.getPosition()].size=b,this.storeState()},onRegionCollapsed:function(a){this.state[a.getPosition()].collapsed=!0,this.storeState()},onRegionExpanded:function(a){this.state[a.getPosition()].collapsed=!1,this.storeState()}},Ext.ContentPanel=function(a,b,c){a.autoCreate&&(b=a,a=Ext.id()),this.el=Ext.get(a),!this.el&&b&&b.autoCreate&&("object"==typeof b.autoCreate?(b.autoCreate.id||(b.autoCreate.id=b.id||a),this.el=Ext.DomHelper.append(document.body,b.autoCreate,!0)):this.el=Ext.DomHelper.append(document.body,{tag:"div",cls:"x-layout-inactive-content",id:b.id||a},!0)),this.closable=!1,this.loaded=!1,this.active=!1,"string"==typeof b?this.title=b:Ext.apply(this,b),this.resizeEl?this.resizeEl=Ext.get(this.resizeEl,!0):this.resizeEl=this.el,this.addEvents({activate:!0,deactivate:!0,resize:!0}),this.autoScroll&&this.resizeEl.setStyle("overflow","auto"),c=c||this.content,c&&this.setContent(c),b&&b.url&&this.setUrl(this.url,this.params,this.loadOnce),Ext.ContentPanel.superclass.constructor.call(this)},Ext.extend(Ext.ContentPanel,Ext.util.Observable,{tabTip:"",setRegion:function(a){this.region=a,a?this.el.replaceClass("x-layout-inactive-content","x-layout-active-content"):this.el.replaceClass("x-layout-active-content","x-layout-inactive-content")},getToolbar:function(){return this.toolbar},setActiveState:function(a){this.active=a,a?this.fireEvent("activate",this):this.fireEvent("deactivate",this)},setContent:function(a,b){this.el.update(a,b)},ignoreResize:function(a,b){return this.lastSize&&this.lastSize.width==a&&this.lastSize.height==b?!0:(this.lastSize={width:a,height:b},!1)},getUpdateManager:function(){return this.el.getUpdateManager()},load:function(){var a=this.el.getUpdateManager();return a.update.apply(a,arguments),this},setUrl:function(a,b,c){return this.refreshDelegate&&this.removeListener("activate",this.refreshDelegate),this.refreshDelegate=this._handleRefresh.createDelegate(this,[a,b,c]),this.on("activate",this.refreshDelegate),this.el.getUpdateManager()},_handleRefresh:function(a,b,c){if(!c||!this.loaded){var d=this.el.getUpdateManager();d.update(a,b,this._setLoaded.createDelegate(this))}},_setLoaded:function(){this.loaded=!0},getId:function(){return this.el.id},getEl:function(){return this.el},adjustForComponents:function(a,b){if(this.resizeEl!=this.el&&(a-=this.el.getFrameWidth("lr"),b-=this.el.getFrameWidth("tb")),this.toolbar){var c=this.toolbar.getEl();b-=c.getHeight(),c.setWidth(a)}return this.adjustments&&(a+=this.adjustments[0],b+=this.adjustments[1]),{width:a,height:b}},setSize:function(a,b){if(this.fitToFrame&&!this.ignoreResize(a,b)){this.fitContainer&&this.resizeEl!=this.el&&this.el.setSize(a,b);var c=this.adjustForComponents(a,b);this.resizeEl.setSize(this.autoWidth?"auto":c.width,this.autoHeight?"auto":c.height),this.fireEvent("resize",this,c.width,c.height)}},getTitle:function(){return this.title},setTitle:function(a){this.title=a,this.region&&this.region.updatePanelTitle(this,a)},isClosable:function(){return this.closable},beforeSlide:function(){this.el.clip(),this.resizeEl.clip()},afterSlide:function(){this.el.unclip(),this.resizeEl.unclip()},refresh:function(){this.refreshDelegate&&(this.loaded=!1,this.refreshDelegate())},destroy:function(){this.el.removeAllListeners();var a=document.createElement("span");a.appendChild(this.el.dom),a.innerHTML="",this.el.remove(),this.el=null}}),Ext.GridPanel=function(a,b){this.wrapper=Ext.DomHelper.append(document.body,{tag:"div",cls:"x-layout-grid-wrapper x-layout-inactive-content"},!0),this.wrapper.dom.appendChild(a.getGridEl().dom),Ext.GridPanel.superclass.constructor.call(this,this.wrapper,b),this.toolbar&&this.toolbar.el.insertBefore(this.wrapper.dom.firstChild),a.monitorWindowResize=!1,a.autoHeight=!1,a.autoWidth=!1,this.grid=a,this.grid.getGridEl().replaceClass("x-layout-inactive-content","x-layout-component-panel")},Ext.extend(Ext.GridPanel,Ext.ContentPanel,{getId:function(){return this.grid.id},getGrid:function(){return this.grid},setSize:function(a,b){if(!this.ignoreResize(a,b)){var c=this.grid,d=this.adjustForComponents(a,b);c.getGridEl().setSize(d.width,d.height),c.autoSize()}},beforeSlide:function(){this.grid.getView().scroller.clip()},afterSlide:function(){this.grid.getView().scroller.unclip()},destroy:function(){this.grid.destroy(),delete this.grid,Ext.GridPanel.superclass.destroy.call(this)}}),Ext.NestedLayoutPanel=function(a,b){Ext.NestedLayoutPanel.superclass.constructor.call(this,a.getEl(),b),a.monitorWindowResize=!1,this.layout=a,this.layout.getEl().addClass("x-layout-nested-layout")},Ext.extend(Ext.NestedLayoutPanel,Ext.ContentPanel,{setSize:function(a,b){if(!this.ignoreResize(a,b)){var c=this.adjustForComponents(a,b),d=this.layout.getEl();d.setSize(c.width,c.height);d.dom.offsetWidth;this.layout.layout(),Ext.isIE&&!this.initialized&&(this.initialized=!0,this.layout.layout())}},getLayout:function(){return this.layout}}),Ext.ScrollPanel=function(a,b,c){b=b||{},b.fitToFrame=!0,Ext.ScrollPanel.superclass.constructor.call(this,a,b,c),this.el.dom.style.overflow="hidden";var d=this.el.wrap({cls:"x-scroller x-layout-inactive-content"});this.el.removeClass("x-layout-inactive-content"),this.el.on("mousewheel",this.onWheel,this);var e=d.createChild({cls:"x-scroller-up",html:"&#160;"},this.el.dom),f=d.createChild({cls:"x-scroller-down",html:"&#160;"});e.unselectable(),f.unselectable(),e.on("click",this.scrollUp,this),f.on("click",this.scrollDown,this),e.addClassOnOver("x-scroller-btn-over"),f.addClassOnOver("x-scroller-btn-over"),e.addClassOnClick("x-scroller-btn-click"),f.addClassOnClick("x-scroller-btn-click"),this.adjustments=[0,-(e.getHeight()+f.getHeight())],this.resizeEl=this.el,this.el=d,this.up=e,this.down=f},Ext.extend(Ext.ScrollPanel,Ext.ContentPanel,{increment:100,wheelIncrement:5,scrollUp:function(){this.resizeEl.scroll("up",this.increment,{callback:this.afterScroll,scope:this})},scrollDown:function(){this.resizeEl.scroll("down",this.increment,{callback:this.afterScroll,scope:this})},afterScroll:function(){var a=this.resizeEl,b=a.dom.scrollTop,c=a.dom.scrollHeight,d=a.dom.clientHeight;this.up[0==b?"addClass":"removeClass"]("x-scroller-btn-disabled"),this.down[d>=c-b?"addClass":"removeClass"]("x-scroller-btn-disabled")},setSize:function(){Ext.ScrollPanel.superclass.setSize.apply(this,arguments),this.afterScroll()},onWheel:function(a){var b=a.getWheelDelta();this.resizeEl.dom.scrollTop-=b*this.wheelIncrement,this.afterScroll(),a.stopEvent()},setContent:function(a,b){this.resizeEl.update(a,b)}}),Ext.ReaderLayout=function(a,b){var c=a||{size:{}};Ext.ReaderLayout.superclass.constructor.call(this,b||document.body,{north:c.north!==!1?Ext.apply({split:!1,initialSize:32,titlebar:!1},c.north):!1,west:c.west!==!1?Ext.apply({split:!0,initialSize:200,minSize:175,maxSize:400,titlebar:!0,collapsible:!0,animate:!0,margins:{left:5,right:0,bottom:5,top:5},cmargins:{left:5,right:5,bottom:5,top:5}},c.west):!1,east:c.east!==!1?Ext.apply({split:!0,initialSize:200,minSize:175,maxSize:400,titlebar:!0,collapsible:!0,animate:!0,margins:{left:0,right:5,bottom:5,top:5},cmargins:{left:5,right:5,bottom:5,top:5}},c.east):!1,center:Ext.apply({tabPosition:"top",autoScroll:!1,closeOnTab:!0,titlebar:!1,margins:{left:c.west!==!1?0:5,right:c.east!==!1?0:5,bottom:5,top:2}},c.center)}),this.el.addClass("x-reader"),this.beginUpdate();var d=new Ext.BorderLayout(Ext.get(document.body).createChild(),{south:c.preview!==!1?Ext.apply({split:!0,initialSize:200,minSize:100,autoScroll:!0,collapsible:!0,titlebar:!0,cmargins:{top:5,left:0,right:0,bottom:0}},c.preview):!1,center:Ext.apply({autoScroll:!1,titlebar:!1,minHeight:200},c.listView)});this.add("center",new Ext.NestedLayoutPanel(d,Ext.apply({title:c.mainTitle||"",tabTip:""},c.innerPanelCfg))),this.endUpdate(),this.regions.preview=d.getRegion("south"),this.regions.listView=d.getRegion("center")},Ext.extend(Ext.ReaderLayout,Ext.BorderLayout),Ext.grid.Grid=function(a,b){this.container=Ext.get(a),this.container.update(""),this.container.setStyle("overflow","hidden"),this.container.addClass("x-grid-container"),this.id=this.container.id,Ext.apply(this,b),this.ds&&(this.dataSource=this.ds,delete this.ds),this.cm&&(this.colModel=this.cm,delete this.cm),this.sm&&(this.selModel=this.sm,delete this.sm),this.width&&this.container.setWidth(this.width),this.height&&this.container.setHeight(this.height),this.addEvents({click:!0,dblclick:!0,contextmenu:!0,mousedown:!0,mouseup:!0,mouseover:!0,mouseout:!0,keypress:!0,keydown:!0,cellclick:!0,celldblclick:!0,rowclick:!0,rowdblclick:!0,headerclick:!0,headerdblclick:!0,rowcontextmenu:!0,cellcontextmenu:!0,headercontextmenu:!0,bodyscroll:!0,columnresize:!0,columnmove:!0,startdrag:!0,enddrag:!0,dragdrop:!0,dragover:!0,dragenter:!0,dragout:!0,render:!0}),Ext.grid.Grid.superclass.constructor.call(this)},Ext.extend(Ext.grid.Grid,Ext.util.Observable,{minColumnWidth:25,autoSizeColumns:!1,autoSizeHeaders:!0,monitorWindowResize:!0,maxRowsToMeasure:0,trackMouseOver:!0,enableDragDrop:!1,enableColumnMove:!0,enableColumnHide:!0,enableRowHeightSync:!1,stripeRows:!0,autoHeight:!1,autoExpandColumn:!1,autoExpandMin:50,autoExpandMax:1e3,view:null,loadMask:!1,rendered:!1,render:function(){var a=this.container;(!a.dom.offsetHeight||a.dom.offsetHeight<20||"auto"==a.getStyle("height"))&&(this.autoHeight=!0);var b=this.getView();return b.init(this),a.on("click",this.onClick,this),a.on("dblclick",this.onDblClick,this),a.on("contextmenu",this.onContextMenu,this),a.on("keydown",this.onKeyDown,this),this.relayEvents(a,["mousedown","mouseup","mouseover","mouseout","keypress"]),this.getSelectionModel().init(this),b.render(),this.loadMask&&(this.loadMask=new Ext.LoadMask(this.container,Ext.apply({store:this.dataSource},this.loadMask))),this.rendered=!0,this.fireEvent("render",this),this},reconfigure:function(a,b){this.loadMask&&(this.loadMask.destroy(),this.loadMask=new Ext.LoadMask(this.container,Ext.apply({store:a},this.loadMask))),this.view.bind(a,b),this.dataSource=a,this.colModel=b,this.view.refresh(!0)},onKeyDown:function(a){this.fireEvent("keydown",a)},destroy:function(a,b){this.loadMask&&this.loadMask.destroy();var c=this.container;c.removeAllListeners(),this.view.destroy(),this.colModel.purgeListeners(),b||this.purgeListeners(),c.update(""),a===!0&&c.remove()},processEvent:function(a,b){this.fireEvent(a,b);var c=b.getTarget(),d=this.view,e=d.findHeaderIndex(c);if(e!==!1)this.fireEvent("header"+a,this,e,b);else{var f=d.findRowIndex(c),g=d.findCellIndex(c);f!==!1&&(this.fireEvent("row"+a,this,f,b),g!==!1&&this.fireEvent("cell"+a,this,f,g,b))}},onClick:function(a){this.processEvent("click",a)},onContextMenu:function(a,b){this.processEvent("contextmenu",a)},onDblClick:function(a){this.processEvent("dblclick",a)},walkCells:function(a,b,c,d,e){var f=this.colModel,g=f.getColumnCount(),h=this.dataSource,i=h.getCount(),j=!0;if(0>c)for(0>b&&(a--,j=!1);a>=0;){for(j||(b=g-1),j=!1;b>=0;){if(d.call(e||this,a,b,f)===!0)return[a,b];b--}a--}else for(b>=g&&(a++,j=!1);i>a;){for(j||(b=0),j=!1;g>b;){if(d.call(e||this,a,b,f)===!0)return[a,b];b++}a++}return null},getSelections:function(){return this.selModel.getSelections()},autoSize:function(){this.rendered&&(this.view.layout(),this.view.adjustForScroll&&this.view.adjustForScroll())},getGridEl:function(){return this.container},stopEditing:function(){},getSelectionModel:function(){return this.selModel||(this.selModel=new Ext.grid.RowSelectionModel),this.selModel},getDataSource:function(){return this.dataSource},getColumnModel:function(){return this.colModel},getView:function(){return this.view||(this.view=new Ext.grid.GridView(this.viewConfig)),this.view},getDragDropText:function(){var a=this.selModel.getCount();return String.format(this.ddText,a,1==a?"":"s")}}),Ext.grid.Grid.prototype.ddText="{0} selected row{1}",Ext.grid.AbstractGridView=function(){this.grid=null,this.events={beforerowremoved:!0,beforerowsinserted:!0,beforerefresh:!0,rowremoved:!0,rowsinserted:!0,rowupdated:!0,refresh:!0},Ext.grid.AbstractGridView.superclass.constructor.call(this)},Ext.extend(Ext.grid.AbstractGridView,Ext.util.Observable,{rowClass:"x-grid-row",cellClass:"x-grid-cell",tdClass:"x-grid-td",hdClass:"x-grid-hd",splitClass:"x-grid-hd-split",init:function(a){this.grid=a;var b=this.grid.getGridEl().id;this.colSelector="#"+b+" ."+this.cellClass+"-",this.tdSelector="#"+b+" ."+this.tdClass+"-",this.hdSelector="#"+b+" ."+this.hdClass+"-",this.splitSelector="#"+b+" ."+this.splitClass+"-"},getColumnRenderers:function(){for(var a=[],b=this.grid.colModel,c=b.getColumnCount(),d=0;c>d;d++)a[d]=b.getRenderer(d);return a},getColumnIds:function(){for(var a=[],b=this.grid.colModel,c=b.getColumnCount(),d=0;c>d;d++)a[d]=b.getColumnId(d);return a},getDataIndexes:function(){return this.indexMap||(this.indexMap=this.buildIndexMap()),this.indexMap.colToData},getColumnIndexByDataIndex:function(a){return this.indexMap||(this.indexMap=this.buildIndexMap()),this.indexMap.dataToCol[a]},setCSSStyle:function(a,b,c){var d="#"+this.grid.id+" .x-grid-col-"+a;Ext.util.CSS.updateRule(d,b,c)},generateRules:function(a){var b=[],c=this.grid.id+"-cssrules";Ext.util.CSS.removeStyleSheet(c);for(var d=0,e=a.getColumnCount();e>d;d++){var f=a.getColumnId(d);b.push(this.colSelector,f," {\n",a.config[d].css,"}\n",this.tdSelector,f," {\n}\n",this.hdSelector,f," {\n}\n",this.splitSelector,f," {\n}\n")}return Ext.util.CSS.createStyleSheet(b.join(""),c)}}),Ext.grid.GridView=function(a){Ext.grid.GridView.superclass.constructor.call(this),this.el=null,Ext.apply(this,a)},Ext.extend(Ext.grid.GridView,Ext.grid.AbstractGridView,{rowClass:"x-grid-row",cellClass:"x-grid-col",tdClass:"x-grid-td",hdClass:"x-grid-hd",splitClass:"x-grid-split",sortClasses:["sort-asc","sort-desc"],enableMoveAnim:!1,hlColor:"C3DAF9",dh:Ext.DomHelper,fly:Ext.Element.fly,css:Ext.util.CSS,borderWidth:1,splitOffset:3,scrollIncrement:22,cellRE:/(?:.*?)x-grid-(?:hd|cell|csplit)-(?:[\d]+)-([\d]+)(?:.*?)/,findRE:/\s?(?:x-grid-hd|x-grid-col|x-grid-csplit)\s/,bind:function(a,b){this.ds&&(this.ds.un("load",this.onLoad,this),this.ds.un("datachanged",this.onDataChange,this),this.ds.un("add",this.onAdd,this),this.ds.un("remove",this.onRemove,this),this.ds.un("update",this.onUpdate,this),this.ds.un("clear",this.onClear,this)),a&&(a.on("load",this.onLoad,this),a.on("datachanged",this.onDataChange,this),a.on("add",this.onAdd,this),a.on("remove",this.onRemove,this),a.on("update",this.onUpdate,this),a.on("clear",this.onClear,this)),this.ds=a,this.cm&&(this.cm.un("widthchange",this.onColWidthChange,this),this.cm.un("headerchange",this.onHeaderChange,this),this.cm.un("hiddenchange",this.onHiddenChange,this),this.cm.un("columnmoved",this.onColumnMove,this),this.cm.un("columnlockchange",this.onColumnLock,this)),b&&(this.generateRules(b),b.on("widthchange",this.onColWidthChange,this),b.on("headerchange",this.onHeaderChange,this),b.on("hiddenchange",this.onHiddenChange,this),b.on("columnmoved",this.onColumnMove,this),b.on("columnlockchange",this.onColumnLock,this)),this.cm=b},init:function(a){Ext.grid.GridView.superclass.init.call(this,a),this.bind(a.dataSource,a.colModel),a.on("headerclick",this.handleHeaderClick,this),a.trackMouseOver&&(a.on("mouseover",this.onRowOver,this),a.on("mouseout",this.onRowOut,this)),a.cancelTextSelection=function(){},this.gridId=a.id;var b=this.templates||{};b.master||(b.master=new Ext.Template('<div class="x-grid" hidefocus="true">','<div class="x-grid-topbar"></div>','<div class="x-grid-scroller"><div></div></div>','<div class="x-grid-locked">','<div class="x-grid-header">{lockedHeader}</div>','<div class="x-grid-body">{lockedBody}</div>',"</div>",'<div class="x-grid-viewport">','<div class="x-grid-header">{header}</div>','<div class="x-grid-body">{body}</div>',"</div>",'<div class="x-grid-bottombar"></div>','<a href="#" class="x-grid-focus" tabIndex="-1"></a>','<div class="x-grid-resize-proxy">&#160;</div>',"</div>"),b.master.disableformats=!0),b.header||(b.header=new Ext.Template('<table border="0" cellspacing="0" cellpadding="0">','<tbody><tr class="x-grid-hd-row">{cells}</tr></tbody>',"</table>{splits}"),b.header.disableformats=!0),b.header.compile(),b.hcell||(b.hcell=new Ext.Template('<td class="x-grid-hd x-grid-td-{id} {cellId}"><div title="{title}" class="x-grid-hd-inner x-grid-hd-{id}">','<div class="x-grid-hd-text" unselectable="on">{value}<img class="x-grid-sort-icon" src="',Ext.BLANK_IMAGE_URL,'" /></div>',"</div></td>"),b.hcell.disableFormats=!0),b.hcell.compile(),b.hsplit||(b.hsplit=new Ext.Template('<div class="x-grid-split {splitId} x-grid-split-{id}" style="{style}" unselectable="on">&#160;</div>'),b.hsplit.disableFormats=!0),b.hsplit.compile(),b.body||(b.body=new Ext.Template('<table border="0" cellspacing="0" cellpadding="0">',"<tbody>{rows}</tbody>","</table>"),b.body.disableFormats=!0),b.body.compile(),b.row||(b.row=new Ext.Template('<tr class="x-grid-row {alt}">{cells}</tr>'),b.row.disableFormats=!0),b.row.compile(),b.cell||(b.cell=new Ext.Template('<td class="x-grid-col x-grid-td-{id} {cellId} {css}" tabIndex="0">','<div class="x-grid-col-{id} x-grid-cell-inner"><div class="x-grid-cell-text" unselectable="on" {attr}>{value}</div></div>',"</td>"),b.cell.disableFormats=!0),b.cell.compile(),this.templates=b},onColWidthChange:function(){this.updateColumns.apply(this,arguments)},onHeaderChange:function(){this.updateHeaders.apply(this,arguments)},onHiddenChange:function(){this.handleHiddenChange.apply(this,arguments)},onColumnMove:function(){this.handleColumnMove.apply(this,arguments)},onColumnLock:function(){this.handleLockChange.apply(this,arguments)},onDataChange:function(){this.refresh(),this.updateHeaderSortState()},onClear:function(){this.refresh()},onUpdate:function(a,b){this.refreshRow(b)},refreshRow:function(a){var b,c=this.ds;"number"==typeof a?(b=a,a=c.getAt(b)):b=c.indexOf(a),this.insertRows(c,b,b,!0),this.onRemove(c,a,b+1,!0),this.syncRowHeights(b,b),this.layout(),this.fireEvent("rowupdated",this,b,a)},onAdd:function(a,b,c){this.insertRows(a,c,c+(b.length-1))},onRemove:function(a,b,c,d){d!==!0&&this.fireEvent("beforerowremoved",this,c,b);var e=this.getBodyTable(),f=this.getLockedTable();e.rows[c]&&e.firstChild.removeChild(e.rows[c]),f.rows[c]&&f.firstChild.removeChild(f.rows[c]),d!==!0&&(this.stripeRows(c),this.syncRowHeights(c,c),this.layout(),this.fireEvent("rowremoved",this,c,b))},onLoad:function(){this.scrollToTop()},scrollToTop:function(){this.scroller&&(this.scroller.dom.scrollTop=0,this.syncScroll())},getHeaderPanel:function(a){return a&&this.headerPanel.show(),this.headerPanel},getFooterPanel:function(a){return a&&this.footerPanel.show(),this.footerPanel},initElements:function(){var a=Ext.Element,b=this.grid.getGridEl().dom.firstChild,c=b.childNodes;this.el=new a(b),this.headerPanel=new a(b.firstChild),this.headerPanel.enableDisplayMode("block"),this.scroller=new a(c[1]),this.scrollSizer=new a(this.scroller.dom.firstChild),this.lockedWrap=new a(c[2]),this.lockedHd=new a(this.lockedWrap.dom.firstChild),this.lockedBody=new a(this.lockedWrap.dom.childNodes[1]),this.mainWrap=new a(c[3]),this.mainHd=new a(this.mainWrap.dom.firstChild),this.mainBody=new a(this.mainWrap.dom.childNodes[1]),this.footerPanel=new a(c[4]),this.footerPanel.enableDisplayMode("block"),this.focusEl=new a(c[5]),this.focusEl.swallowEvent("click",!0),this.resizeProxy=new a(c[6]),this.headerSelector=String.format("#{0} td.x-grid-hd, #{1} td.x-grid-hd",this.lockedHd.id,this.mainHd.id),this.splitterSelector=String.format("#{0} div.x-grid-split, #{1} div.x-grid-split",this.lockedHd.id,this.mainHd.id)},getHeaderCell:function(a){return Ext.DomQuery.select(this.headerSelector)[a]},getHeaderCellMeasure:function(a){return this.getHeaderCell(a).firstChild},getHeaderCellText:function(a){return this.getHeaderCell(a).firstChild.firstChild},getLockedTable:function(){return this.lockedBody.dom.firstChild},getBodyTable:function(){return this.mainBody.dom.firstChild},getLockedRow:function(a){return this.getLockedTable().rows[a]},getRow:function(a){return this.getBodyTable().rows[a]},getRowComposite:function(a){this.rowEl||(this.rowEl=new Ext.CompositeElementLite);var b,c,d=[];return(b=this.getLockedRow(a))&&d.push(b),(c=this.getRow(a))&&d.push(c),this.rowEl.elements=d,this.rowEl},getCell:function(a,b){var c,d=this.cm.getLockedCount();return d>b?c=this.lockedBody.dom.firstChild:(c=this.mainBody.dom.firstChild,b-=d),c.rows[a].childNodes[b]},getCellText:function(a,b){return this.getCell(a,b).firstChild.firstChild},getCellBox:function(a){var b=this.fly(a).getBox();return Ext.isOpera&&(b.y=a.offsetTop+this.mainBody.getY()),b},getCellIndex:function(a){var b=String(a.className).match(this.cellRE);return b?parseInt(b[1],10):0},findHeaderIndex:function(a){var b=Ext.fly(a).findParent("td."+this.hdClass,6);return b?this.getCellIndex(b):!1},findHeaderCell:function(a){var b=Ext.fly(a).findParent("td."+this.hdClass,6);return b?b:!1},findRowIndex:function(a){if(!a)return!1;var b=Ext.fly(a).findParent("tr."+this.rowClass,6);return b?b.rowIndex:!1},findCellIndex:function(a){for(var b=this.el.dom;a&&a!=b;){if(this.findRE.test(a.className))return this.getCellIndex(a);a=a.parentNode}return!1},getColumnId:function(a){return this.cm.getColumnId(a)},getSplitters:function(){return this.splitterSelector?Ext.DomQuery.select(this.splitterSelector):null},getSplitter:function(a){return this.getSplitters()[a]},onRowOver:function(a,b){var c;(c=this.findRowIndex(b))!==!1&&this.getRowComposite(c).addClass("x-grid-row-over")},onRowOut:function(a,b){var c;(c=this.findRowIndex(b))!==!1&&c!==this.findRowIndex(a.getRelatedTarget())&&this.getRowComposite(c).removeClass("x-grid-row-over")},renderHeaders:function(){for(var a=this.cm,b=this.templates.hcell,c=this.templates.header,d=this.templates.hsplit,e=[],f=[],g=[],h=[],i={},j=0,k=a.getColumnCount();k>j;j++)i.cellId="x-grid-hd-0-"+j,i.splitId="x-grid-csplit-0-"+j,i.id=a.getColumnId(j),i.title=a.getColumnTooltip(j)||"",i.value=a.getColumnHeader(j)||"",i.style=this.grid.enableColumnResize===!1||!a.isResizable(j)||a.isFixed(j)?"cursor:default":"",a.isLocked(j)?(f[f.length]=b.apply(i),h[h.length]=d.apply(i)):(e[e.length]=b.apply(i),g[g.length]=d.apply(i));return[c.apply({cells:f.join(""),splits:h.join("")}),c.apply({cells:e.join(""),splits:g.join("")})]},updateHeaders:function(){var a=this.renderHeaders();this.lockedHd.update(a[0]),this.mainHd.update(a[1])},focusRow:function(a){var b=this.scroller.dom.scrollLeft;this.focusCell(a,0,!1),this.scroller.dom.scrollLeft=b},focusCell:function(a,b,c){var d=this.ensureVisible(a,b,c);this.focusEl.alignTo(d,"tl-tl"),Ext.isGecko?this.focusEl.focus():this.focusEl.focus.defer(1,this.focusEl)},ensureVisible:function(a,b,c){if("number"!=typeof a&&(a=a.rowIndex),!(0>a&&a>=this.ds.getCount())){b=void 0!==b?b:0;for(var d=this.grid.colModel;d.isHidden(b);)b++;var e=this.getCell(a,b);if(e){var f=this.scroller.dom,g=parseInt(e.offsetTop,10),h=parseInt(e.offsetLeft,10),i=g+e.offsetHeight,j=h+e.offsetWidth,k=f.clientHeight-this.mainHd.dom.offsetHeight,l=parseInt(f.scrollTop,10),m=parseInt(f.scrollLeft,10),n=l+k,o=m+f.clientWidth;return l>g?f.scrollTop=g:i>n&&(f.scrollTop=i-k),c!==!1&&(m>h?f.scrollLeft=h:j>o&&(f.scrollLeft=j-f.clientWidth)),e}}},updateColumns:function(){this.grid.stopEditing();for(var a=this.grid.colModel,b=this.getColumnIds(),c=0,d=a.getColumnCount();d>c;c++){var e=a.getColumnWidth(c);this.css.updateRule(this.colSelector+b[c],"width",e-this.borderWidth+"px"),this.css.updateRule(this.hdSelector+b[c],"width",e-this.borderWidth+"px")}this.updateSplitters()},generateRules:function(a){var b=[],c=this.grid.id+"-cssrules";Ext.util.CSS.removeStyleSheet(c);for(var d=0,e=a.getColumnCount();e>d;d++){var f=a.getColumnId(d),g="";a.config[d].align&&(g="text-align:"+a.config[d].align+";");var h="";a.isHidden(d)&&(h="display:none;");var i="width:"+(a.getColumnWidth(d)-this.borderWidth)+"px;";b.push(this.colSelector,f," {\n",a.config[d].css,g,i,"\n}\n",this.hdSelector,f," {\n",g,i,"}\n",this.tdSelector,f," {\n",h,"\n}\n",this.splitSelector,f," {\n",h,"\n}\n")}return Ext.util.CSS.createStyleSheet(b.join(""),c)},updateSplitters:function(){var a=this.cm,b=this.getSplitters();if(b)for(var c=0,d=!0,e=0,f=a.getColumnCount();f>e;e++)if(!a.isHidden(e)){var g=a.getColumnWidth(e);!a.isLocked(e)&&d&&(c=0,d=!1),c+=g,b[e].style.left=c-this.splitOffset+"px"}},handleHiddenChange:function(a,b,c){c?this.hideColumn(b):this.unhideColumn(b)},hideColumn:function(a){var b=this.getColumnId(a);this.css.updateRule(this.tdSelector+b,"display","none"),this.css.updateRule(this.splitSelector+b,"display","none"),Ext.isSafari&&this.updateHeaders(),this.updateSplitters(),this.layout()},unhideColumn:function(a){var b=this.getColumnId(a);this.css.updateRule(this.tdSelector+b,"display",""),this.css.updateRule(this.splitSelector+b,"display",""),Ext.isSafari&&this.updateHeaders(),this.updateSplitters(),this.layout()},insertRows:function(a,b,c,d){if(0==b&&c==a.getCount()-1)this.refresh();else{d||this.fireEvent("beforerowsinserted",this,b,c);var e=this.getScrollState(),f=this.renderRows(b,c);this.bufferRows(f[0],this.getLockedTable(),b),this.bufferRows(f[1],this.getBodyTable(),b),this.restoreScroll(e),d||(this.fireEvent("rowsinserted",this,b,c),this.syncRowHeights(b,c),this.stripeRows(b),this.layout())}},bufferRows:function(a,b,c){var d=null,e=b.rows,f=b.tBodies[0];c<e.length&&(d=e[c]);var g=document.createElement("div");g.innerHTML="<table><tbody>"+a+"</tbody></table>";for(var h=g.firstChild.rows,i=0,j=h.length;j>i;i++)d?f.insertBefore(h[0],d):f.appendChild(h[0]);g.innerHTML="",g=null},deleteRows:function(a,b,c){if(a.getRowCount()<1)this.fireEvent("beforerefresh",this),this.mainBody.update(""),this.lockedBody.update(""),this.fireEvent("refresh",this);else{this.fireEvent("beforerowsdeleted",this,b,c);for(var d=this.getBodyTable(),e=d.firstChild,f=d.rows,g=b;c>=g;g++)e.removeChild(f[b]);this.stripeRows(b),this.fireEvent("rowsdeleted",this,b,c)}},updateRows:function(a,b,c){var d=this.getScrollState();this.refresh(),this.restoreScroll(d)},handleSort:function(a,b,c,d){d||this.refresh(),this.updateHeaderSortState()},getScrollState:function(){var a=this.scroller.dom;return{left:a.scrollLeft,top:a.scrollTop}},stripeRows:function(a){if(this.grid.stripeRows&&!(this.ds.getCount()<1)){a=a||0;for(var b=this.getBodyTable().rows,c=this.getLockedTable().rows,d=" x-grid-row-alt ",e=a,f=b.length;f>e;e++){var g=b[e],h=c[e],i=(e+1)%2==0,j=-1!=(" "+g.className+" ").indexOf(d);i!=j&&(i?g.className+=" x-grid-row-alt":g.className=g.className.replace("x-grid-row-alt",""),h&&(h.className=g.className))}}},restoreScroll:function(a){var b=this.scroller.dom;b.scrollLeft=a.left,b.scrollTop=a.top,this.syncScroll()},syncScroll:function(){var a=this.scroller.dom,b=this.mainHd.dom,c=this.mainBody.dom,d=this.lockedBody.dom;b.scrollLeft=c.scrollLeft=a.scrollLeft,d.scrollTop=c.scrollTop=a.scrollTop},handleScroll:function(a){this.syncScroll();var b=this.scroller.dom;this.grid.fireEvent("bodyscroll",b.scrollLeft,b.scrollTop),a.stopEvent()},handleWheel:function(a){var b=a.getWheelDelta();this.scroller.dom.scrollTop-=22*b,this.lockedBody.dom.scrollTop=this.mainBody.dom.scrollTop=this.scroller.dom.scrollTop,a.stopEvent()},renderRows:function(a,b){var c=this.grid,d=c.colModel,e=c.dataSource,f=c.stripeRows,g=d.getColumnCount();if(e.getCount()<1)return["",""];for(var h=[],i=0;g>i;i++){var j=d.getDataIndex(i);h[i]={name:"undefined"==typeof j?e.fields.get(i).name:j,renderer:d.getRenderer(i),id:d.getColumnId(i),locked:d.isLocked(i)}}a=a||0,b="undefined"==typeof b?e.getCount()-1:b;var k=e.getRange(a,b);return this.doRender(h,k,e,a,g,f)},doRender:Ext.isGecko?function(a,b,c,d,e,f){for(var g,h,i,j,k,l=this.templates,m=l.cell,n=l.row,o="",p="",q={},r={},s=0,t=b.length;t>s;s++){j=b[s],g="",h="",k=s+d;for(var u=0;e>u;u++){i=a[u],q.cellId="x-grid-cell-"+k+"-"+u,q.id=i.id,q.css=q.attr="",q.value=i.renderer(j.data[i.name],q,j,k,u,c),(void 0==q.value||""===q.value)&&(q.value="&#160;"),j.dirty&&"undefined"!=typeof j.modified[i.name]&&(q.css+=q.css?" x-grid-dirty-cell":"x-grid-dirty-cell");var v=m.apply(q);i.locked?h+=v:g+=v}var w=[];f&&(k+1)%2==0&&(w[0]="x-grid-row-alt"),j.dirty&&(w[1]=" x-grid-dirty-row"),r.cells=h,this.getRowClass&&(w[2]=this.getRowClass(j,k)),r.alt=w.join(" "),p+=n.apply(r),r.cells=g,o+=n.apply(r)}return[p,o]}:function(a,b,c,d,e,f){for(var g,h,i,j,k,l=this.templates,m=l.cell,n=l.row,o=[],p=[],q={},r={},s=0,t=b.length;t>s;s++){j=b[s],g=[],h=[],k=s+d;for(var u=0;e>u;u++){i=a[u],q.cellId="x-grid-cell-"+k+"-"+u,q.id=i.id,q.css=q.attr="",q.value=i.renderer(j.data[i.name],q,j,k,u,c),(void 0==q.value||""===q.value)&&(q.value="&#160;"),j.dirty&&"undefined"!=typeof j.modified[i.name]&&(q.css+=q.css?" x-grid-dirty-cell":"x-grid-dirty-cell");var v=m.apply(q);i.locked?h[h.length]=v:g[g.length]=v}var w=[];f&&(k+1)%2==0&&(w[0]="x-grid-row-alt"),j.dirty&&(w[1]=" x-grid-dirty-row"),r.cells=h,this.getRowClass&&(w[2]=this.getRowClass(j,k)),r.alt=w.join(" "),r.cells=h.join(""),p[p.length]=n.apply(r),r.cells=g.join(""),o[o.length]=n.apply(r)}return[p.join(""),o.join("")]},renderBody:function(){var a=this.renderRows(),b=this.templates.body;return[b.apply({rows:a[0]}),b.apply({rows:a[1]})]},refresh:function(a){this.fireEvent("beforerefresh",this),this.grid.stopEditing();var b=this.renderBody();this.lockedBody.update(b[0]),this.mainBody.update(b[1]),a===!0&&(this.updateHeaders(),this.updateColumns(),this.updateSplitters(),this.updateHeaderSortState()),this.syncRowHeights(),this.layout(),this.fireEvent("refresh",this)},handleColumnMove:function(a,b,c){this.indexMap=null;var d=this.getScrollState();this.refresh(!0),this.restoreScroll(d),this.afterMove(c)},afterMove:function(a){this.enableMoveAnim&&Ext.enableFx&&this.fly(this.getHeaderCell(a).firstChild).highlight(this.hlColor)},updateCell:function(a,b,c){var d=this.getColumnIndexByDataIndex(c);if("undefined"!=typeof d){var e=this.grid.colModel,f=this.getCell(b,d),g=this.getCellText(b,d),h={cellId:"x-grid-cell-"+b+"-"+d,
id:e.getColumnId(d),css:d==e.getColumnCount()-1?"x-grid-col-last":""},i=e.getRenderer(d),j=i(a.getValueAt(b,c),h,b,d,a);("undefined"==typeof j||""===j)&&(j="&#160;"),g.innerHTML=j,f.className=this.cellClass+" "+h.cellId+" "+h.css,this.syncRowHeights(b,b)}},calcColumnWidth:function(a,b){var c=0;if(this.grid.autoSizeHeaders){var d=this.getHeaderCellMeasure(a);c=Math.max(c,d.scrollWidth)}var e,f;if(this.cm.isLocked(a)?(e=this.getLockedTable(),f=a):(e=this.getBodyTable(),f=a-this.cm.getLockedCount()),e&&e.rows)for(var g=e.rows,h=Math.min(b||g.length,g.length),i=0;h>i;i++){var j=g[i].childNodes[f].firstChild;c=Math.max(c,j.scrollWidth)}return c+5},autoSizeColumn:function(a,b,c){if(!this.cm.isHidden(a)){if(b){var d=this.cm.getColumnId(a);this.css.updateRule(this.colSelector+d,"width",this.grid.minColumnWidth+"px"),this.grid.autoSizeHeaders&&this.css.updateRule(this.hdSelector+d,"width",this.grid.minColumnWidth+"px")}var e=this.calcColumnWidth(a);this.cm.setColumnWidth(a,Math.max(this.grid.minColumnWidth,e),c),c||this.grid.fireEvent("columnresize",a,e)}},autoSizeColumns:function(){for(var a=this.grid.colModel,b=a.getColumnCount(),c=0;b>c;c++)this.autoSizeColumn(c,!0,!0);a.getTotalWidth()<this.scroller.dom.clientWidth?this.fitColumns():(this.updateColumns(),this.layout())},fitColumns:function(a){var b,c,d=this.grid.colModel,e=d.getColumnCount(),f=[],g=0;for(b=0;e>b;b++)d.isHidden(b)||d.isFixed(b)||(c=d.getColumnWidth(b),f.push(b),f.push(c),g+=c);var h=Math.min(this.scroller.dom.clientWidth,this.el.getWidth());a&&(h-=17);for(var i=(h-d.getTotalWidth())/g;f.length;)c=f.pop(),b=f.pop(),d.setColumnWidth(b,Math.floor(c+c*i),!0);this.updateColumns(),this.layout()},onRowSelect:function(a){var b=this.getRowComposite(a);b.addClass("x-grid-row-selected")},onRowDeselect:function(a){var b=this.getRowComposite(a);b.removeClass("x-grid-row-selected")},onCellSelect:function(a,b){var c=this.getCell(a,b);c&&Ext.fly(c).addClass("x-grid-cell-selected")},onCellDeselect:function(a,b){var c=this.getCell(a,b);c&&Ext.fly(c).removeClass("x-grid-cell-selected")},updateHeaderSortState:function(){var a=this.ds.getSortState();if(a){this.sortState=a;var b=this.cm.findColumnIndex(a.field);if(-1!=b){var c=a.direction,d=this.sortClasses,e=this.el.select(this.headerSelector).removeClass(d);e.item(b).addClass(d["DESC"==c?1:0])}}},handleHeaderClick:function(a,b){if(!this.headersDisabled){var c=a.dataSource,d=a.colModel;d.isSortable(b)&&(a.stopEditing(),c.sort(d.getDataIndex(b)))}},destroy:function(){if(this.colMenu&&(this.colMenu.removeAll(),Ext.menu.MenuMgr.unregister(this.colMenu),this.colMenu.getEl().remove(),delete this.colMenu),this.hmenu&&(this.hmenu.removeAll(),Ext.menu.MenuMgr.unregister(this.hmenu),this.hmenu.getEl().remove(),delete this.hmenu),this.grid.enableColumnMove){var a=Ext.dd.DDM.ids["gridHeader"+this.grid.getGridEl().id];if(a){for(var b in a){if(!a[b].config.isTarget&&a[b].dragElId){var c=a[b].dragElId;a[b].unreg(),Ext.get(c).remove()}else a[b].config.isTarget&&(a[b].proxyTop.remove(),a[b].proxyBottom.remove(),a[b].unreg());Ext.dd.DDM.locationCache[b]&&delete Ext.dd.DDM.locationCache[b]}delete Ext.dd.DDM.ids["gridHeader"+this.grid.getGridEl().id]}}Ext.util.CSS.removeStyleSheet(this.grid.id+"-cssrules"),this.bind(null,null),Ext.EventManager.removeResizeListener(this.onWindowResize,this)},handleLockChange:function(){this.refresh(!0)},onDenyColumnLock:function(){},onDenyColumnHide:function(){},handleHdMenuClick:function(a){var b=this.hdCtxIndex,c=this.cm,d=this.ds;switch(a.id){case"asc":d.sort(c.getDataIndex(b),"ASC");break;case"desc":d.sort(c.getDataIndex(b),"DESC");break;case"lock":var e=c.getLockedCount();if(c.getColumnCount(!0)<=e+1)return void this.onDenyColumnLock();e!=b?(c.setLocked(b,!0,!0),c.moveColumn(b,e),this.grid.fireEvent("columnmove",b,e)):c.setLocked(b,!0);break;case"unlock":var e=c.getLockedCount();e-1!=b?(c.setLocked(b,!1,!0),c.moveColumn(b,e-1),this.grid.fireEvent("columnmove",b,e-1)):c.setLocked(b,!1);break;default:if(b=c.getIndexById(a.id.substr(4)),-1!=b){if(a.checked&&c.getColumnCount(!0)<=1)return this.onDenyColumnHide(),!1;c.setHidden(b,a.checked)}}return!0},beforeColMenuShow:function(){var a=this.cm,b=a.getColumnCount();this.colMenu.removeAll();for(var c=0;b>c;c++)this.colMenu.add(new Ext.menu.CheckItem({id:"col-"+a.getColumnId(c),text:a.getColumnHeader(c),checked:!a.isHidden(c),hideOnClick:!1}))},handleHdCtx:function(a,b,c){c.stopEvent();var d=this.getHeaderCell(b);this.hdCtxIndex=b;var e=this.hmenu.items,f=this.cm;e.get("asc").setDisabled(!f.isSortable(b)),e.get("desc").setDisabled(!f.isSortable(b)),this.grid.enableColLock!==!1&&(e.get("lock").setDisabled(f.isLocked(b)),e.get("unlock").setDisabled(!f.isLocked(b))),this.hmenu.show(d,"tl-bl")},handleHdOver:function(a){var b=this.findHeaderCell(a.getTarget());b&&!this.headersDisabled&&this.grid.colModel.isSortable(this.getCellIndex(b))&&this.fly(b).addClass("x-grid-hd-over")},handleHdOut:function(a){var b=this.findHeaderCell(a.getTarget());b&&this.fly(b).removeClass("x-grid-hd-over")},handleSplitDblClick:function(a,b){var c=this.getCellIndex(b);this.grid.enableColumnResize!==!1&&this.cm.isResizable(c)&&!this.cm.isFixed(c)&&(this.autoSizeColumn(c,!0),this.layout())},render:function(){var a=this.cm;a.getColumnCount();this.grid.monitorWindowResize===!0&&Ext.EventManager.onWindowResize(this.onWindowResize,this,!0);var b=this.renderHeaders(),c=this.templates.body.apply({rows:""}),d=this.templates.master.apply({lockedBody:c,body:c,lockedHeader:b[0],header:b[1]});this.grid.getGridEl().dom.innerHTML=d,this.initElements(),this.scroller.on("scroll",this.handleScroll,this),this.lockedBody.on("mousewheel",this.handleWheel,this),this.mainBody.on("mousewheel",this.handleWheel,this),this.mainHd.on("mouseover",this.handleHdOver,this),this.mainHd.on("mouseout",this.handleHdOut,this),this.mainHd.on("dblclick",this.handleSplitDblClick,this,{delegate:"."+this.splitClass}),this.lockedHd.on("mouseover",this.handleHdOver,this),this.lockedHd.on("mouseout",this.handleHdOut,this),this.lockedHd.on("dblclick",this.handleSplitDblClick,this,{delegate:"."+this.splitClass}),this.grid.enableColumnResize!==!1&&Ext.grid.SplitDragZone&&new Ext.grid.SplitDragZone(this.grid,this.lockedHd.dom,this.mainHd.dom),this.updateSplitters(),this.grid.enableColumnMove&&Ext.grid.HeaderDragZone&&(new Ext.grid.HeaderDragZone(this.grid,this.lockedHd.dom,this.mainHd.dom),new Ext.grid.HeaderDropZone(this.grid,this.lockedHd.dom,this.mainHd.dom)),this.grid.enableCtxMenu!==!1&&Ext.menu.Menu&&(this.hmenu=new Ext.menu.Menu({id:this.grid.id+"-hctx"}),this.hmenu.add({id:"asc",text:this.sortAscText,cls:"xg-hmenu-sort-asc"},{id:"desc",text:this.sortDescText,cls:"xg-hmenu-sort-desc"}),this.grid.enableColLock!==!1&&this.hmenu.add("-",{id:"lock",text:this.lockText,cls:"xg-hmenu-lock"},{id:"unlock",text:this.unlockText,cls:"xg-hmenu-unlock"}),this.grid.enableColumnHide!==!1&&(this.colMenu=new Ext.menu.Menu({id:this.grid.id+"-hcols-menu"}),this.colMenu.on("beforeshow",this.beforeColMenuShow,this),this.colMenu.on("itemclick",this.handleHdMenuClick,this),this.hmenu.add("-",{id:"columns",text:this.columnsText,menu:this.colMenu})),this.hmenu.on("itemclick",this.handleHdMenuClick,this),this.grid.on("headercontextmenu",this.handleHdCtx,this)),(this.grid.enableDragDrop||this.grid.enableDrag)&&Ext.grid.GridDragZone&&(this.dd=new Ext.grid.GridDragZone(this.grid,{ddGroup:this.grid.ddGroup||"GridDD"})),this.updateHeaderSortState(),this.beforeInitialResize(),this.layout(!0),this.renderPhase2.defer(1,this)},renderPhase2:function(){this.refresh(),this.grid.autoSizeColumns&&this.autoSizeColumns()},beforeInitialResize:function(){},onColumnSplitterMoved:function(a,b){this.userResized=!0;var c=this.grid.colModel;c.setColumnWidth(a,b,!0);var d=c.getColumnId(a);this.css.updateRule(this.colSelector+d,"width",b-this.borderWidth+"px"),this.css.updateRule(this.hdSelector+d,"width",b-this.borderWidth+"px"),this.updateSplitters(),this.layout(),this.grid.fireEvent("columnresize",a,b)},syncRowHeights:function(a,b){if(this.grid.enableRowHeightSync===!0&&this.cm.getLockedCount()>0){a=a||0;var c=this.getBodyTable().rows,d=this.getLockedTable().rows,e=c.length-1;b=Math.min(b||e,e);for(var f=a;b>=f;f++){var g=c[f],h=d[f],i=Math.max(g.offsetHeight,h.offsetHeight);g.style.height=h.style.height=i+"px"}}},layout:function(a,b){var c=this.grid,d=c.autoHeight,e=c.getGridEl(),f=this.cm,g=c.autoExpandColumn,h=this;if(!e.dom.offsetWidth)return void(a&&(this.lockedWrap.show(),this.mainWrap.show()));var i=this.cm.isLocked(0),j=this.headerPanel.getHeight(),k=this.footerPanel.getHeight();if(d){var l=this.getBodyTable().offsetHeight+j+k+this.mainHd.getHeight(),m=l+e.getBorderWidth("tb");c.maxHeight&&(m=Math.min(c.maxHeight,m)),e.setHeight(m)}c.autoWidth&&e.setWidth(f.getTotalWidth()+e.getBorderWidth("lr"));var n=this.scroller,o=e.getSize(!0);this.el.setSize(o.width,o.height),this.headerPanel.setWidth(o.width),this.footerPanel.setWidth(o.width);var p=this.mainHd.getHeight(),q=o.width,r=o.height-(j+k);n.setSize(q,r);var s=this.getBodyTable(),t=i?Math.max(this.getLockedTable().offsetWidth,this.lockedHd.dom.firstChild.offsetWidth):0,u=s.offsetHeight,v=t+s.offsetWidth;this.scrollSizer.setSize(v,u+p);var w=this.lockedWrap,x=this.mainWrap,y=this.lockedBody,z=this.mainBody;setTimeout(function(){var d=n.dom.offsetTop,e=n.dom.clientWidth,i=n.dom.clientHeight;if(w.setTop(d),w.setSize(t,i),x.setLeftTop(t,d),x.setSize(e-t,i),y.setHeight(i-p),z.setHeight(i-p),b!==!0&&!h.userResized&&g){var j=f.getIndexById(g),k=f.getTotalWidth(!1),l=f.getColumnWidth(j),m=Math.min(Math.max(e-k+l-2-(e<=n.dom.offsetWidth?0:18),c.autoExpandMin),c.autoExpandMax);l!=m&&(f.setColumnWidth(j,m,!0),h.css.updateRule(h.colSelector+g,"width",m-h.borderWidth+"px"),h.css.updateRule(h.hdSelector+g,"width",m-h.borderWidth+"px"),h.updateSplitters(),h.layout(!1,!0))}a&&(w.show(),x.show())},10)},onWindowResize:function(){this.grid.monitorWindowResize&&!this.grid.autoHeight&&this.layout()},appendFooter:function(a){return null},sortAscText:"Sort Ascending",sortDescText:"Sort Descending",lockText:"Lock Column",unlockText:"Unlock Column",columnsText:"Columns"}),Ext.grid.HeaderDragZone=function(a,b,c){this.grid=a,this.view=a.getView(),this.ddGroup="gridHeader"+this.grid.getGridEl().id,Ext.grid.HeaderDragZone.superclass.constructor.call(this,b),c&&(this.setHandleElId(Ext.id(b)),this.setOuterHandleElId(Ext.id(c))),this.scroll=!1},Ext.extend(Ext.grid.HeaderDragZone,Ext.dd.DragZone,{maxDragWidth:120,getDragData:function(a){var b=Ext.lib.Event.getTarget(a),c=this.view.findHeaderCell(b);return c?{ddel:c.firstChild,header:c}:!1},onInitDrag:function(a){this.view.headersDisabled=!0;var b=this.dragData.ddel.cloneNode(!0);return b.id=Ext.id(),b.style.width=Math.min(this.dragData.header.offsetWidth,this.maxDragWidth)+"px",this.proxy.update(b),!0},afterValidDrop:function(){var a=this.view;setTimeout(function(){a.headersDisabled=!1},50)},afterInvalidDrop:function(){var a=this.view;setTimeout(function(){a.headersDisabled=!1},50)}}),Ext.grid.HeaderDropZone=function(a,b,c){this.grid=a,this.view=a.getView(),this.proxyTop=Ext.DomHelper.append(document.body,{cls:"col-move-top",html:"&#160;"},!0),this.proxyBottom=Ext.DomHelper.append(document.body,{cls:"col-move-bottom",html:"&#160;"},!0),this.proxyTop.hide=this.proxyBottom.hide=function(){this.setLeftTop(-100,-100),this.setStyle("visibility","hidden")},this.ddGroup="gridHeader"+this.grid.getGridEl().id,Ext.grid.HeaderDropZone.superclass.constructor.call(this,a.getGridEl().dom)},Ext.extend(Ext.grid.HeaderDropZone,Ext.dd.DropZone,{proxyOffsets:[-4,-9],fly:Ext.Element.fly,getTargetFromEvent:function(a){var b=Ext.lib.Event.getTarget(a),c=this.view.findCellIndex(b);return c!==!1?this.view.getHeaderCell(c):void 0},nextVisible:function(a){var b=this.view,c=this.grid.colModel;for(a=a.nextSibling;a;){if(!c.isHidden(b.getCellIndex(a)))return a;a=a.nextSibling}return null},prevVisible:function(a){var b=this.view,c=this.grid.colModel;for(a=a.prevSibling;a;){if(!c.isHidden(b.getCellIndex(a)))return a;a=a.prevSibling}return null},positionIndicator:function(a,b,c){var d,e,f=Ext.lib.Event.getPageX(c),g=Ext.lib.Dom.getRegion(b.firstChild),h=g.top+this.proxyOffsets[1];g.right-f<=(g.right-g.left)/2?(d=g.right+this.view.borderWidth,e="after"):(d=g.left,e="before");var i=this.view.getCellIndex(a),j=this.view.getCellIndex(b);if(this.grid.colModel.isFixed(j))return!1;var k=this.grid.colModel.isLocked(j);return"after"==e&&j++,j>i&&j--,i==j&&k==this.grid.colModel.isLocked(i)?!1:(d+=this.proxyOffsets[0],this.proxyTop.setLeftTop(d,h),this.proxyTop.show(),this.bottomOffset||(this.bottomOffset=this.view.mainHd.getHeight()),this.proxyBottom.setLeftTop(d,h+this.proxyTop.dom.offsetHeight+this.bottomOffset),this.proxyBottom.show(),e)},onNodeEnter:function(a,b,c,d){d.header!=a&&this.positionIndicator(d.header,a,c)},onNodeOver:function(a,b,c,d){var e=!1;return d.header!=a&&(e=this.positionIndicator(d.header,a,c)),e||(this.proxyTop.hide(),this.proxyBottom.hide()),e?this.dropAllowed:this.dropNotAllowed},onNodeOut:function(a,b,c,d){this.proxyTop.hide(),this.proxyBottom.hide()},onNodeDrop:function(a,b,c,d){var e=d.header;if(e!=a){var f=this.grid.colModel,g=Ext.lib.Event.getPageX(c),h=Ext.lib.Dom.getRegion(a.firstChild),i=h.right-g<=(h.right-h.left)/2?"after":"before",j=this.view.getCellIndex(e),k=this.view.getCellIndex(a),l=f.isLocked(k);return"after"==i&&k++,k>j&&k--,j==k&&l==f.isLocked(j)?!1:(f.setLocked(j,l,!0),f.moveColumn(j,k),this.grid.fireEvent("columnmove",j,k),!0)}return!1}}),Ext.grid.GridView.ColumnDragZone=function(a,b){Ext.grid.GridView.ColumnDragZone.superclass.constructor.call(this,a,b,null),this.proxy.el.addClass("x-grid3-col-dd")},Ext.extend(Ext.grid.GridView.ColumnDragZone,Ext.grid.HeaderDragZone,{handleMouseDown:function(a){},callHandleMouseDown:function(a){Ext.grid.GridView.ColumnDragZone.superclass.handleMouseDown.call(this,a)}}),Ext.grid.SplitDragZone=function(a,b,c){this.grid=a,this.view=a.getView(),this.proxy=this.view.resizeProxy,Ext.grid.SplitDragZone.superclass.constructor.call(this,b,"gridSplitters"+this.grid.getGridEl().id,{dragElId:Ext.id(this.proxy.dom),resizeFrame:!1}),this.setHandleElId(Ext.id(b)),this.setOuterHandleElId(Ext.id(c)),this.scroll=!1},Ext.extend(Ext.grid.SplitDragZone,Ext.dd.DDProxy,{fly:Ext.Element.fly,b4StartDrag:function(a,b){this.view.headersDisabled=!0,this.proxy.setHeight(this.view.mainWrap.getHeight());var c=this.cm.getColumnWidth(this.cellIndex),d=Math.max(c-this.grid.minColumnWidth,0);this.resetConstraints(),this.setXConstraint(d,1e3),this.setYConstraint(0,0),this.minX=a-d,this.maxX=a+1e3,this.startPos=a,Ext.dd.DDProxy.prototype.b4StartDrag.call(this,a,b)},handleMouseDown:function(a){ev=Ext.EventObject.setEvent(a);var b=this.fly(ev.getTarget());b.hasClass("x-grid-split")&&(this.cellIndex=this.view.getCellIndex(b.dom),this.split=b.dom,this.cm=this.grid.colModel,this.cm.isResizable(this.cellIndex)&&!this.cm.isFixed(this.cellIndex)&&Ext.grid.SplitDragZone.superclass.handleMouseDown.apply(this,arguments))},endDrag:function(a){this.view.headersDisabled=!1;var b=Math.max(this.minX,Ext.lib.Event.getPageX(a)),c=b-this.startPos;this.view.onColumnSplitterMoved(this.cellIndex,this.cm.getColumnWidth(this.cellIndex)+c)},autoOffset:function(){this.setDelta(0,0)}}),Ext.grid.GridDragZone=function(a,b){this.view=a.getView(),Ext.grid.GridDragZone.superclass.constructor.call(this,this.view.mainBody.dom,b),this.view.lockedBody&&(this.setHandleElId(Ext.id(this.view.mainBody.dom)),this.setOuterHandleElId(Ext.id(this.view.lockedBody.dom))),this.scroll=!1,this.grid=a,this.ddel=document.createElement("div"),this.ddel.className="x-grid-dd-wrap"},Ext.extend(Ext.grid.GridDragZone,Ext.dd.DragZone,{ddGroup:"GridDD",getDragData:function(a){var b=Ext.lib.Event.getTarget(a),c=this.view.findRowIndex(b);if(c!==!1){var d=this.grid.selModel;return(!d.isSelected(c)||a.hasModifier())&&d.handleMouseDown(a,b),{grid:this.grid,ddel:this.ddel,rowIndex:c,selections:d.getSelections()}}return!1},onInitDrag:function(a){this.dragData;this.ddel.innerHTML=this.grid.getDragDropText(),this.proxy.update(this.ddel)},afterRepair:function(){this.dragging=!1},getRepairXY:function(a,b){return!1},onEndDrag:function(a,b){},onValidDrop:function(a,b,c){this.hideProxy()},beforeInvalidDrop:function(a,b){}}),Ext.grid.ColumnModel=function(a){this.config=a,this.lookup={};for(var b=0,c=a.length;c>b;b++){var d=a[b];"undefined"==typeof d.dataIndex&&(d.dataIndex=b),"string"==typeof d.renderer&&(d.renderer=Ext.util.Format[d.renderer]),"undefined"==typeof d.id&&(d.id=b),d.editor&&d.editor.isFormField&&(d.editor=new Ext.grid.GridEditor(d.editor)),this.lookup[d.id]=d}this.defaultWidth=100,this.defaultSortable=!1,this.addEvents({widthchange:!0,headerchange:!0,hiddenchange:!0,columnmoved:!0,columnlockchange:!0}),Ext.grid.ColumnModel.superclass.constructor.call(this)},Ext.extend(Ext.grid.ColumnModel,Ext.util.Observable,{getColumnId:function(a){return this.config[a].id},getColumnById:function(a){return this.lookup[a]},getIndexById:function(a){for(var b=0,c=this.config.length;c>b;b++)if(this.config[b].id==a)return b;return-1},moveColumn:function(a,b){var c=this.config[a];this.config.splice(a,1),this.config.splice(b,0,c),this.dataMap=null,this.fireEvent("columnmoved",this,a,b)},isLocked:function(a){return this.config[a].locked===!0},setLocked:function(a,b,c){this.isLocked(a)!=b&&(this.config[a].locked=b,c||this.fireEvent("columnlockchange",this,a,b))},getTotalLockedWidth:function(){for(var a=0,b=0;b<this.config.length;b++)this.isLocked(b)&&!this.isHidden(b)&&(this.totalWidth+=this.getColumnWidth(b));return a},getLockedCount:function(){for(var a=0,b=this.config.length;b>a;a++)if(!this.isLocked(a))return a},getColumnCount:function(a){if(a===!0){for(var b=0,c=0,d=this.config.length;d>c;c++)this.isHidden(c)||b++;return b}return this.config.length},getColumnsBy:function(a,b){for(var c=[],d=0,e=this.config.length;e>d;d++){var f=this.config[d];a.call(b||this,f,d)===!0&&(c[c.length]=f)}return c},isSortable:function(a){return"undefined"==typeof this.config[a].sortable?this.defaultSortable:this.config[a].sortable},getRenderer:function(a){return this.config[a].renderer?this.config[a].renderer:Ext.grid.ColumnModel.defaultRenderer},setRenderer:function(a,b){this.config[a].renderer=b},getColumnWidth:function(a){return this.config[a].width||this.defaultWidth},setColumnWidth:function(a,b,c){this.config[a].width=b,this.totalWidth=null,c||this.fireEvent("widthchange",this,a,b)},getTotalWidth:function(a){if(!this.totalWidth){this.totalWidth=0;for(var b=0,c=this.config.length;c>b;b++)(a||!this.isHidden(b))&&(this.totalWidth+=this.getColumnWidth(b))}return this.totalWidth},getColumnHeader:function(a){return this.config[a].header},setColumnHeader:function(a,b){this.config[a].header=b,this.fireEvent("headerchange",this,a,b)},getColumnTooltip:function(a){return this.config[a].tooltip},setColumnTooltip:function(a,b){this.config[a].tooltip=b},getDataIndex:function(a){return this.config[a].dataIndex},setDataIndex:function(a,b){this.config[a].dataIndex=b},findColumnIndex:function(a){for(var b=this.config,c=0,d=b.length;d>c;c++)if(b[c].dataIndex==a)return c;return-1},isCellEditable:function(a,b){return this.config[a].editable||"undefined"==typeof this.config[a].editable&&this.config[a].editor?!0:!1},getCellEditor:function(a,b){return this.config[a].editor},setEditable:function(a,b){this.config[a].editable=b},isHidden:function(a){return this.config[a].hidden},isFixed:function(a){return this.config[a].fixed},isResizable:function(a){return a>=0&&this.config[a].resizable!==!1&&this.config[a].fixed!==!0},setHidden:function(a,b){this.config[a].hidden=b,this.totalWidth=null,this.fireEvent("hiddenchange",this,a,b)},setEditor:function(a,b){this.config[a].editor=b}}),Ext.grid.ColumnModel.defaultRenderer=function(a){return"string"==typeof a&&a.length<1?"&#160;":a},Ext.grid.DefaultColumnModel=Ext.grid.ColumnModel,Ext.grid.AbstractSelectionModel=function(){this.locked=!1,Ext.grid.AbstractSelectionModel.superclass.constructor.call(this)},Ext.extend(Ext.grid.AbstractSelectionModel,Ext.util.Observable,{init:function(a){this.grid=a,this.initEvents()},lock:function(){this.locked=!0},unlock:function(){this.locked=!1},isLocked:function(){return this.locked}}),Ext.grid.RowSelectionModel=function(a){Ext.apply(this,a),this.selections=new Ext.util.MixedCollection(!1,function(a){return a.id}),this.last=!1,this.lastActive=!1,this.addEvents({selectionchange:!0,beforerowselect:!0,rowselect:!0,rowdeselect:!0}),this.locked=!1},Ext.extend(Ext.grid.RowSelectionModel,Ext.grid.AbstractSelectionModel,{singleSelect:!1,initEvents:function(){this.grid.enableDragDrop||this.grid.enableDrag?this.grid.on("rowclick",function(a,b,c){0!==c.button||c.shiftKey||c.ctrlKey||(this.selectRow(b,!1),a.view.focusRow(b))},this):this.grid.on("mousedown",this.handleMouseDown,this),this.rowNav=new Ext.KeyNav(this.grid.getGridEl(),{up:function(a){if(a.shiftKey)if(this.last!==!1&&this.lastActive!==!1){var b=this.last;this.selectRange(this.last,this.lastActive-1),this.grid.getView().focusRow(this.lastActive),b!==!1&&(this.last=b)}else this.selectFirstRow();else this.selectPrevious(a.shiftKey)},down:function(a){if(a.shiftKey)if(this.last!==!1&&this.lastActive!==!1){var b=this.last;this.selectRange(this.last,this.lastActive+1),this.grid.getView().focusRow(this.lastActive),b!==!1&&(this.last=b)}else this.selectFirstRow();else this.selectNext(a.shiftKey)},scope:this});var a=this.grid.view;a.on("refresh",this.onRefresh,this),a.on("rowupdated",this.onRowUpdated,this),a.on("rowremoved",this.onRemove,this)},onRefresh:function(){var a,b=this.grid.dataSource,c=this.grid.view,d=this.selections;d.each(function(e){-1!=(a=b.indexOfId(e.id))?c.onRowSelect(a):d.remove(e)})},onRemove:function(a,b,c){this.selections.remove(c)},onRowUpdated:function(a,b,c){this.isSelected(c)&&a.onRowSelect(b)},selectRecords:function(a,b){b||this.clearSelections();for(var c=this.grid.dataSource,d=0,e=a.length;e>d;d++)this.selectRow(c.indexOf(a[d]),!0)},getCount:function(){return this.selections.length},selectFirstRow:function(){this.selectRow(0)},selectLastRow:function(a){this.selectRow(this.grid.dataSource.getCount()-1,a)},selectNext:function(a){this.last!==!1&&this.last+1<this.grid.dataSource.getCount()&&(this.selectRow(this.last+1,a),this.grid.getView().focusRow(this.last))},selectPrevious:function(a){this.last&&(this.selectRow(this.last-1,a),this.grid.getView().focusRow(this.last))},getSelections:function(){return[].concat(this.selections.items)},getSelected:function(){return this.selections.itemAt(0)},clearSelections:function(a){if(!this.locked){if(a!==!0){var b=this.grid.dataSource,c=this.selections;c.each(function(a){this.deselectRow(b.indexOfId(a.id))},this),c.clear()}else this.selections.clear();this.last=!1}},selectAll:function(){if(!this.locked){this.selections.clear();for(var a=0,b=this.grid.dataSource.getCount();b>a;a++)this.selectRow(a,!0)}},hasSelection:function(){return this.selections.length>0},isSelected:function(a){var b="number"==typeof a?this.grid.dataSource.getAt(a):a;return b&&this.selections.key(b.id)?!0:!1},isIdSelected:function(a){return this.selections.key(a)?!0:!1},handleMouseDown:function(a,b){var c,d=this.grid.getView();if(!this.isLocked()&&(c=d.findRowIndex(b))!==!1)if(a.shiftKey&&this.last!==!1){var e=this.last;this.selectRange(e,c,a.ctrlKey),this.last=e,d.focusRow(c)}else{var f=this.isSelected(c);0!==a.button&&f?d.focusRow(c):a.ctrlKey&&f?this.deselectRow(c):f||(this.selectRow(c,0===a.button&&(a.ctrlKey||a.shiftKey)),d.focusRow(c))}},selectRows:function(a,b){b||this.clearSelections();for(var c=0,d=a.length;d>c;c++)this.selectRow(a[c],!0)},selectRange:function(a,b,c){if(!this.locked)if(c||this.clearSelections(),b>=a)for(var d=a;b>=d;d++)this.selectRow(d,!0);else for(var d=a;d>=b;d--)this.selectRow(d,!0)},deselectRange:function(a,b,c){if(!this.locked)for(var d=a;b>=d;d++)this.deselectRow(d,c)},selectRow:function(a,b,c){if(!(this.locked||0>a||a>=this.grid.dataSource.getCount())&&this.fireEvent("beforerowselect",this,a,b)!==!1){(!b||this.singleSelect)&&this.clearSelections();var d=this.grid.dataSource.getAt(a);this.selections.add(d),this.last=this.lastActive=a,c||this.grid.getView().onRowSelect(a),this.fireEvent("rowselect",this,a,d),this.fireEvent("selectionchange",this)}},deselectRow:function(a,b){if(!this.locked){this.last==a&&(this.last=!1),this.lastActive==a&&(this.lastActive=!1);var c=this.grid.dataSource.getAt(a);this.selections.remove(c),b||this.grid.getView().onRowDeselect(a),this.fireEvent("rowdeselect",this,a),this.fireEvent("selectionchange",this)}},restoreLast:function(){this._last&&(this.last=this._last)},acceptsNav:function(a,b,c){return!c.isHidden(b)&&c.isCellEditable(b,a)},onEditorKey:function(a,b){var c,d=b.getKey(),e=this.grid,f=e.activeEditor;d==b.TAB?(b.stopEvent(),f.completeEdit(),c=b.shiftKey?e.walkCells(f.row,f.col-1,-1,this.acceptsNav,this):e.walkCells(f.row,f.col+1,1,this.acceptsNav,this)):d!=b.ENTER||b.ctrlKey?d==b.ESC&&f.cancelEdit():(b.stopEvent(),f.completeEdit(),c=b.shiftKey?e.walkCells(f.row-1,f.col,-1,this.acceptsNav,this):e.walkCells(f.row+1,f.col,1,this.acceptsNav,this)),c&&e.startEditing(c[0],c[1])}}),Ext.grid.CellSelectionModel=function(a){Ext.apply(this,a),this.selection=null,this.addEvents({beforecellselect:!0,cellselect:!0,selectionchange:!0})},Ext.extend(Ext.grid.CellSelectionModel,Ext.grid.AbstractSelectionModel,{initEvents:function(){this.grid.on("mousedown",this.handleMouseDown,this),this.grid.getGridEl().on(Ext.isIE?"keydown":"keypress",this.handleKeyDown,this);var a=this.grid.view;a.on("refresh",this.onViewChange,this),a.on("rowupdated",this.onRowUpdated,this),a.on("beforerowremoved",this.clearSelections,this),a.on("beforerowsinserted",this.clearSelections,this),this.grid.isEditor&&this.grid.on("beforeedit",this.beforeEdit,this)},beforeEdit:function(a){this.select(a.row,a.column,!1,!0,a.record)},onRowUpdated:function(a,b,c){this.selection&&this.selection.record==c&&a.onCellSelect(b,this.selection.cell[1])},onViewChange:function(){this.clearSelections(!0)},getSelectedCell:function(){return this.selection?this.selection.cell:null},clearSelections:function(a){var b=this.selection;b&&(a!==!0&&this.grid.view.onCellDeselect(b.cell[0],b.cell[1]),this.selection=null,this.fireEvent("selectionchange",this,null))},hasSelection:function(){return this.selection?!0:!1},handleMouseDown:function(a,b){var c=this.grid.getView();if(!this.isLocked()){var d=c.findRowIndex(b),e=c.findCellIndex(b);d!==!1&&e!==!1&&this.select(d,e)}},select:function(a,b,c,d,e){if(this.fireEvent("beforecellselect",this,a,b)!==!1){if(this.clearSelections(),e=e||this.grid.dataSource.getAt(a),this.selection={record:e,cell:[a,b]},!c){var f=this.grid.getView();f.onCellSelect(a,b),d!==!0&&f.focusCell(a,b)}this.fireEvent("cellselect",this,a,b),this.fireEvent("selectionchange",this,this.selection)}},isSelectable:function(a,b,c){return!c.isHidden(b)},handleKeyDown:function(a){if(a.isNavKeyPress()){var b=this.grid,c=this.selection;if(!c){a.stopEvent();var d=b.walkCells(0,0,1,this.isSelectable,this);return void(d&&this.select(d[0],d[1]))}var e,f=this,g=function(a,c,d){return b.walkCells(a,c,d,f.isSelectable,f)},h=a.getKey(),i=c.cell[0],j=c.cell[1];switch(h){case a.TAB:e=a.shiftKey?g(i,j-1,-1):g(i,j+1,1);break;case a.DOWN:e=g(i+1,j,1);break;case a.UP:e=g(i-1,j,-1);break;case a.RIGHT:e=g(i,j+1,1);break;case a.LEFT:e=g(i,j-1,-1);break;case a.ENTER:if(b.isEditor&&!b.editing)return b.startEditing(i,j),void a.stopEvent()}e&&(this.select(e[0],e[1]),a.stopEvent())}},acceptsNav:function(a,b,c){return!c.isHidden(b)&&c.isCellEditable(b,a)},onEditorKey:function(a,b){var c,d=b.getKey(),e=this.grid,f=e.activeEditor;d==b.TAB?(c=b.shiftKey?e.walkCells(f.row,f.col-1,-1,this.acceptsNav,this):e.walkCells(f.row,f.col+1,1,this.acceptsNav,this),b.stopEvent()):d!=b.ENTER||b.ctrlKey?d==b.ESC&&f.cancelEdit():(f.completeEdit(),b.stopEvent()),c&&e.startEditing(c[0],c[1])}}),Ext.grid.EditorGrid=function(a,b){Ext.grid.EditorGrid.superclass.constructor.call(this,a,b),this.getGridEl().addClass("xedit-grid"),this.selModel||(this.selModel=new Ext.grid.CellSelectionModel),this.activeEditor=null,this.addEvents({beforeedit:!0,afteredit:!0,validateedit:!0}),this.on("bodyscroll",this.stopEditing,this),this.on(1==this.clicksToEdit?"cellclick":"celldblclick",this.onCellDblClick,this)},Ext.extend(Ext.grid.EditorGrid,Ext.grid.Grid,{clicksToEdit:2,isEditor:!0,trackMouseOver:!1,onCellDblClick:function(a,b,c){this.startEditing(b,c)},onEditComplete:function(a,b,c){if(this.editing=!1,this.activeEditor=null,a.un("specialkey",this.selModel.onEditorKey,this.selModel),String(b)!==String(c)){var d=a.record,e=this.colModel.getDataIndex(a.col),f={grid:this,record:d,field:e,originalValue:c,value:b,row:a.row,column:a.col,cancel:!1};this.fireEvent("validateedit",f)===!1||f.cancel||(d.set(e,f.value),delete f.cancel,this.fireEvent("afteredit",f))}this.view.focusCell(a.row,a.col)},startEditing:function(a,b){if(this.stopEditing(),this.colModel.isCellEditable(b,a)){this.view.ensureVisible(a,b,!0);var c=this.dataSource.getAt(a),d=this.colModel.getDataIndex(b),e={grid:this,record:c,field:d,value:c.data[d],row:a,column:b,cancel:!1};if(this.fireEvent("beforeedit",e)!==!1&&!e.cancel){this.editing=!0;var f=this.colModel.getCellEditor(b,a);f.rendered||f.render(f.parentEl||document.body),function(){f.row=a,f.col=b,f.record=c,f.on("complete",this.onEditComplete,this,{single:!0}),f.on("specialkey",this.selModel.onEditorKey,this.selModel),this.activeEditor=f;var e=c.data[d];f.startEdit(this.view.getCell(a,b),e)}.defer(50,this)}}},stopEditing:function(){this.activeEditor&&this.activeEditor.completeEdit(),this.activeEditor=null}}),Ext.grid.GridEditor=function(a,b){Ext.grid.GridEditor.superclass.constructor.call(this,a,b),a.monitorTab=!1},Ext.extend(Ext.grid.GridEditor,Ext.Editor,{alignment:"tl-tl",autoSize:"width",hideEl:!1,cls:"x-small-editor x-grid-editor",shim:!1,shadow:"frame"}),Ext.grid.PropertyRecord=Ext.data.Record.create([{name:"name",type:"string"},"value"]),Ext.grid.PropertyStore=function(a,b){this.grid=a,this.store=new Ext.data.Store({recordType:Ext.grid.PropertyRecord}),this.store.on("update",this.onUpdate,this),b&&this.setSource(b),Ext.grid.PropertyStore.superclass.constructor.call(this)},Ext.extend(Ext.grid.PropertyStore,Ext.util.Observable,{setSource:function(a){this.source=a,this.store.removeAll();var b=[];for(var c in a)this.isEditableValue(a[c])&&b.push(new Ext.grid.PropertyRecord({name:c,value:a[c]},c));this.store.loadRecords({records:b},{},!0)},onUpdate:function(a,b,c){if(c==Ext.data.Record.EDIT){var d=b.data.value,e=b.modified.value;this.grid.fireEvent("beforepropertychange",this.source,b.id,d,e)!==!1?(this.source[b.id]=d,b.commit(),this.grid.fireEvent("propertychange",this.source,b.id,d,e)):b.reject()}},getProperty:function(a){return this.store.getAt(a)},isEditableValue:function(a){return a&&a instanceof Date?!0:"object"==typeof a||"function"==typeof a?!1:!0},setValue:function(a,b){this.source[a]=b,this.store.getById(a).set("value",b)},getSource:function(){return this.source}}),Ext.grid.PropertyColumnModel=function(a,b){this.grid=a;var c=Ext.grid;c.PropertyColumnModel.superclass.constructor.call(this,[{header:this.nameText,sortable:!0,dataIndex:"name",id:"name"},{header:this.valueText,resizable:!1,dataIndex:"value",id:"value"}]),this.store=b,this.bselect=Ext.DomHelper.append(document.body,{tag:"select",style:"display:none",cls:"x-grid-editor",children:[{tag:"option",value:"true",html:"true"},{tag:"option",value:"false",html:"false"}]}),Ext.id(this.bselect);var d=Ext.form;this.editors={date:new c.GridEditor(new d.DateField({selectOnFocus:!0})),string:new c.GridEditor(new d.TextField({selectOnFocus:!0})),number:new c.GridEditor(new d.NumberField({selectOnFocus:!0,style:"text-align:left;"})),"boolean":new c.GridEditor(new d.Field({el:this.bselect,selectOnFocus:!0}))},this.renderCellDelegate=this.renderCell.createDelegate(this),this.renderPropDelegate=this.renderProp.createDelegate(this)},Ext.extend(Ext.grid.PropertyColumnModel,Ext.grid.ColumnModel,{
nameText:"Name",valueText:"Value",dateFormat:"m/j/Y",renderDate:function(a){return a.dateFormat(this.dateFormat)},renderBool:function(a){return a?"true":"false"},isCellEditable:function(a,b){return 1==a},getRenderer:function(a){return 1==a?this.renderCellDelegate:this.renderPropDelegate},renderProp:function(a){return this.getPropertyName(a)},renderCell:function(a){var b=a;return a instanceof Date?b=this.renderDate(a):"boolean"==typeof a&&(b=this.renderBool(a)),Ext.util.Format.htmlEncode(b)},getPropertyName:function(a){var b=this.grid.propertyNames;return b&&b[a]?b[a]:a},getCellEditor:function(a,b){var c=this.store.getProperty(b),d=c.data.name,e=c.data.value;return this.grid.customEditors[d]?this.grid.customEditors[d]:e instanceof Date?this.editors.date:"number"==typeof e?this.editors.number:"boolean"==typeof e?this.editors["boolean"]:this.editors.string}}),Ext.grid.PropertyGrid=function(a,b){b=b||{};var c=new Ext.grid.PropertyStore(this);this.store=c;var d=new Ext.grid.PropertyColumnModel(this,c);c.store.sort("name","ASC"),Ext.grid.PropertyGrid.superclass.constructor.call(this,a,Ext.apply({ds:c.store,cm:d,enableColLock:!1,enableColumnMove:!1,stripeRows:!1,trackMouseOver:!1,clicksToEdit:1},b)),this.getGridEl().addClass("x-props-grid"),this.lastEditRow=null,this.on("columnresize",this.onColumnResize,this),this.addEvents({beforepropertychange:!0,propertychange:!0}),this.customEditors=this.customEditors||{}},Ext.extend(Ext.grid.PropertyGrid,Ext.grid.EditorGrid,{render:function(){Ext.grid.PropertyGrid.superclass.render.call(this),this.autoSize.defer(100,this)},autoSize:function(){Ext.grid.PropertyGrid.superclass.autoSize.call(this),this.view&&this.view.fitColumns()},onColumnResize:function(){this.colModel.setColumnWidth(1,this.container.getWidth(!0)-this.colModel.getColumnWidth(0)),this.autoSize()},setSource:function(a){this.store.setSource(a)},getSource:function(){return this.store.getSource()}}),Ext.LoadMask=function(a,b){if(this.el=Ext.get(a),Ext.apply(this,b),this.store)this.store.on("beforeload",this.onBeforeLoad,this),this.store.on("load",this.onLoad,this),this.store.on("loadexception",this.onLoad,this),this.removeMask=!1;else{var c=this.el.getUpdateManager();c.showLoadIndicator=!1,c.on("beforeupdate",this.onBeforeLoad,this),c.on("update",this.onLoad,this),c.on("failure",this.onLoad,this),this.removeMask=!0}},Ext.LoadMask.prototype={msg:"Loading...",msgCls:"x-mask-loading",disabled:!1,disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},onLoad:function(){this.el.unmask(this.removeMask)},onBeforeLoad:function(){this.disabled||this.el.mask(this.msg,this.msgCls)},destroy:function(){if(this.store)this.store.un("beforeload",this.onBeforeLoad,this),this.store.un("load",this.onLoad,this),this.store.un("loadexception",this.onLoad,this);else{var a=this.el.getUpdateManager();a.un("beforeupdate",this.onBeforeLoad,this),a.un("update",this.onLoad,this),a.un("failure",this.onLoad,this)}}};var swfobject=function(){function a(){if(!R){try{var a=K.getElementsByTagName("body")[0].appendChild(q("span"));a.parentNode.removeChild(a)}catch(b){return}R=!0;for(var c=N.length,d=0;c>d;d++)N[d]()}}function b(a){R?a():N[N.length]=a}function c(a){if(typeof J.addEventListener!=C)J.addEventListener("load",a,!1);else if(typeof K.addEventListener!=C)K.addEventListener("load",a,!1);else if(typeof J.attachEvent!=C)r(J,"onload",a);else if("function"==typeof J.onload){var b=J.onload;J.onload=function(){b(),a()}}else J.onload=a}function d(){M?e():f()}function e(){var a=K.getElementsByTagName("body")[0],b=q(D);b.setAttribute("type",G);var c=a.appendChild(b);if(c){var d=0;!function(){if(typeof c.GetVariable!=C){var e=c.GetVariable("$version");e&&(e=e.split(" ")[1].split(","),U.pv=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)])}else if(10>d)return d++,void setTimeout(arguments.callee,10);a.removeChild(b),c=null,f()}()}else f()}function f(){var a=O.length;if(a>0)for(var b=0;a>b;b++){var c=O[b].id,d=O[b].callbackFn,e={success:!1,id:c};if(U.pv[0]>0){var f=p(c);if(f)if(!s(O[b].swfVersion)||U.wk&&U.wk<312)if(O[b].expressInstall&&h()){var k={};k.data=O[b].expressInstall,k.width=f.getAttribute("width")||"0",k.height=f.getAttribute("height")||"0",f.getAttribute("class")&&(k.styleclass=f.getAttribute("class")),f.getAttribute("align")&&(k.align=f.getAttribute("align"));for(var l={},m=f.getElementsByTagName("param"),n=m.length,o=0;n>o;o++)"movie"!=m[o].getAttribute("name").toLowerCase()&&(l[m[o].getAttribute("name")]=m[o].getAttribute("value"));i(k,l,c,d)}else j(f),d&&d(e);else u(c,!0),d&&(e.success=!0,e.ref=g(c),d(e))}else if(u(c,!0),d){var q=g(c);q&&typeof q.SetVariable!=C&&(e.success=!0,e.ref=q),d(e)}}}function g(a){var b=null,c=p(a);if(c&&"OBJECT"==c.nodeName)if(typeof c.SetVariable!=C)b=c;else{var d=c.getElementsByTagName(D)[0];d&&(b=d)}return b}function h(){return!S&&s("6.0.65")&&(U.win||U.mac)&&!(U.wk&&U.wk<312)}function i(a,b,c,d){S=!0,y=d||null,z={success:!1,id:c};var e=p(c);if(e){"OBJECT"==e.nodeName?(w=k(e),x=null):(w=e,x=c),a.id=H,(typeof a.width==C||!/%$/.test(a.width)&&parseInt(a.width,10)<310)&&(a.width="310"),(typeof a.height==C||!/%$/.test(a.height)&&parseInt(a.height,10)<137)&&(a.height="137"),K.title=K.title.slice(0,47)+" - Flash Player Installation";var f=U.ie&&U.win?"ActiveX":"PlugIn",g="MMredirectURL="+J.location.toString().replace(/&/g,"%26")+"&MMplayerType="+f+"&MMdoctitle="+K.title;if(typeof b.flashvars!=C?b.flashvars+="&"+g:b.flashvars=g,U.ie&&U.win&&4!=e.readyState){var h=q("div");c+="SWFObjectNew",h.setAttribute("id",c),e.parentNode.insertBefore(h,e),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}l(a,b,c)}}function j(a){if(U.ie&&U.win&&4!=a.readyState){var b=q("div");a.parentNode.insertBefore(b,a),b.parentNode.replaceChild(k(a),b),a.style.display="none",function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)}()}else a.parentNode.replaceChild(k(a),a)}function k(a){var b=q("div");if(U.win&&U.ie)b.innerHTML=a.innerHTML;else{var c=a.getElementsByTagName(D)[0];if(c){var d=c.childNodes;if(d)for(var e=d.length,f=0;e>f;f++)1==d[f].nodeType&&"PARAM"==d[f].nodeName||8==d[f].nodeType||b.appendChild(d[f].cloneNode(!0))}}return b}function l(a,b,c){var d,e=p(c);if(U.wk&&U.wk<312)return d;if(e)if(typeof a.id==C&&(a.id=c),U.ie&&U.win){var f="";for(var g in a)a[g]!=Object.prototype[g]&&("data"==g.toLowerCase()?b.movie=a[g]:"styleclass"==g.toLowerCase()?f+=' class="'+a[g]+'"':"classid"!=g.toLowerCase()&&(f+=" "+g+'="'+a[g]+'"'));var h="";for(var i in b)b[i]!=Object.prototype[i]&&(h+='<param name="'+i+'" value="'+b[i]+'" />');e.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+f+">"+h+"</object>",P[P.length]=a.id,d=p(a.id)}else{var j=q(D);j.setAttribute("type",G);for(var k in a)a[k]!=Object.prototype[k]&&("styleclass"==k.toLowerCase()?j.setAttribute("class",a[k]):"classid"!=k.toLowerCase()&&j.setAttribute(k,a[k]));for(var l in b)b[l]!=Object.prototype[l]&&"movie"!=l.toLowerCase()&&m(j,l,b[l]);e.parentNode.replaceChild(j,e),d=j}return d}function m(a,b,c){var d=q("param");d.setAttribute("name",b),d.setAttribute("value",c),a.appendChild(d)}function n(a){var b=p(a);b&&"OBJECT"==b.nodeName&&(U.ie&&U.win?(b.style.display="none",function(){4==b.readyState?o(a):setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))}function o(a){var b=p(a);if(b){for(var c in b)"function"==typeof b[c]&&(b[c]=null);b.parentNode.removeChild(b)}}function p(a){var b=null;try{b=K.getElementById(a)}catch(c){}return b}function q(a){return K.createElement(a)}function r(a,b,c){a.attachEvent(b,c),Q[Q.length]=[a,b,c]}function s(a){var b=U.pv,c=a.split(".");return c[0]=parseInt(c[0],10),c[1]=parseInt(c[1],10)||0,c[2]=parseInt(c[2],10)||0,b[0]>c[0]||b[0]==c[0]&&b[1]>c[1]||b[0]==c[0]&&b[1]==c[1]&&b[2]>=c[2]?!0:!1}function t(a,b,c,d){if(!U.ie||!U.mac){var e=K.getElementsByTagName("head")[0];if(e){var f=c&&"string"==typeof c?c:"screen";if(d&&(A=null,B=null),!A||B!=f){var g=q("style");g.setAttribute("type","text/css"),g.setAttribute("media",f),A=e.appendChild(g),U.ie&&U.win&&typeof K.styleSheets!=C&&K.styleSheets.length>0&&(A=K.styleSheets[K.styleSheets.length-1]),B=f}U.ie&&U.win?A&&typeof A.addRule==D&&A.addRule(a,b):A&&typeof K.createTextNode!=C&&A.appendChild(K.createTextNode(a+" {"+b+"}"))}}}function u(a,b){if(T){var c=b?"visible":"hidden";R&&p(a)?p(a).style.visibility=c:t("#"+a,"visibility:"+c)}}function v(a){var b=/[\\\"<>\.;]/,c=null!=b.exec(a);return c&&typeof encodeURIComponent!=C?encodeURIComponent(a):a}var w,x,y,z,A,B,C="undefined",D="object",E="Shockwave Flash",F="ShockwaveFlash.ShockwaveFlash",G="application/x-shockwave-flash",H="SWFObjectExprInst",I="onreadystatechange",J=window,K=document,L=navigator,M=!1,N=[d],O=[],P=[],Q=[],R=!1,S=!1,T=!0,U=function(){var a=typeof K.getElementById!=C&&typeof K.getElementsByTagName!=C&&typeof K.createElement!=C,b=L.userAgent.toLowerCase(),c=L.platform.toLowerCase(),d=c?/win/.test(c):/win/.test(b),e=c?/mac/.test(c):/mac/.test(b),f=/webkit/.test(b)?parseFloat(b.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,g=!1,h=[0,0,0],i=null;if(typeof L.plugins!=C&&typeof L.plugins[E]==D)i=L.plugins[E].description,!i||typeof L.mimeTypes!=C&&L.mimeTypes[G]&&!L.mimeTypes[G].enabledPlugin||(M=!0,g=!1,i=i.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),h[0]=parseInt(i.replace(/^(.*)\..*$/,"$1"),10),h[1]=parseInt(i.replace(/^.*\.(.*)\s.*$/,"$1"),10),h[2]=/[a-zA-Z]/.test(i)?parseInt(i.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof J.ActiveXObject!=C)try{var j=new ActiveXObject(F);j&&(i=j.GetVariable("$version"),i&&(g=!0,i=i.split(" ")[1].split(","),h=[parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10)]))}catch(k){}return{w3:a,pv:h,wk:f,ie:g,win:d,mac:e}}();(function(){U.w3&&((typeof K.readyState!=C&&"complete"==K.readyState||typeof K.readyState==C&&(K.getElementsByTagName("body")[0]||K.body))&&a(),R||(typeof K.addEventListener!=C&&K.addEventListener("DOMContentLoaded",a,!1),U.ie&&U.win&&(K.attachEvent(I,function(){"complete"==K.readyState&&(K.detachEvent(I,arguments.callee),a())}),J==top&&!function(){if(!R){try{K.documentElement.doScroll("left")}catch(b){return void setTimeout(arguments.callee,0)}a()}}()),U.wk&&!function(){return R?void 0:/loaded|complete/.test(K.readyState)?void a():void setTimeout(arguments.callee,0)}(),c(a)))})(),function(){U.ie&&U.win&&window.attachEvent("onunload",function(){for(var a=Q.length,b=0;a>b;b++)Q[b][0].detachEvent(Q[b][1],Q[b][2]);for(var c=P.length,d=0;c>d;d++)n(P[d]);for(var e in U)U[e]=null;U=null;for(var f in swfobject)swfobject[f]=null;swfobject=null})}();return{registerObject:function(a,b,c,d){if(U.w3&&a&&b){var e={};e.id=a,e.swfVersion=b,e.expressInstall=c,e.callbackFn=d,O[O.length]=e,u(a,!1)}else d&&d({success:!1,id:a})},getObjectById:function(a){return U.w3?g(a):void 0},embedSWF:function(a,c,d,e,f,g,j,k,m,n){var o={success:!1,id:c};U.w3&&!(U.wk&&U.wk<312)&&a&&c&&d&&e&&f?(u(c,!1),b(function(){d+="",e+="";var b={};if(m&&typeof m===D)for(var p in m)b[p]=m[p];b.data=a,b.width=d,b.height=e;var q={};if(k&&typeof k===D)for(var r in k)q[r]=k[r];if(j&&typeof j===D)for(var t in j)typeof q.flashvars!=C?q.flashvars+="&"+t+"="+j[t]:q.flashvars=t+"="+j[t];if(s(f)){var v=l(b,q,c);b.id==c&&u(c,!0),o.success=!0,o.ref=v}else{if(g&&h())return b.data=g,void i(b,q,c,n);u(c,!0)}n&&n(o)})):n&&n(o)},switchOffAutoHideShow:function(){T=!1},ua:U,getFlashPlayerVersion:function(){return{major:U.pv[0],minor:U.pv[1],release:U.pv[2]}},hasFlashPlayerVersion:s,createSWF:function(a,b,c){return U.w3?l(a,b,c):void 0},showExpressInstall:function(a,b,c,d){U.w3&&h()&&i(a,b,c,d)},removeSWF:function(a){U.w3&&n(a)},createCSS:function(a,b,c,d){U.w3&&t(a,b,c,d)},addDomLoadEvent:b,addLoadEvent:c,getQueryParamValue:function(a){var b=K.location.search||K.location.hash;if(b){if(/\?/.test(b)&&(b=b.split("?")[1]),null==a)return v(b);for(var c=b.split("&"),d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("="))==a)return v(c[d].substring(c[d].indexOf("=")+1))}return""},expressInstallCallback:function(){if(S){var a=p(H);a&&w&&(a.parentNode.replaceChild(w,a),x&&(u(x,!0),U.ie&&U.win&&(w.style.display="block")),y&&y(z)),S=!1}}}}();jQuery&&!function(a){a.extend(a.fn,{uploadify:function(b){a(this).each(function(){var c=a.extend({id:a(this).attr("id"),uploader:"uploadify.swf",script:"uploadify.php",expressInstall:null,folder:"",height:30,width:120,cancelImg:"cancel.png",wmode:"opaque",scriptAccess:"sameDomain",fileDataName:"Filedata",method:"POST",queueSizeLimit:999,simUploadLimit:1,queueID:!1,displayData:"percentage",removeCompleted:!0,onInit:function(){},onSelect:function(){},onSelectOnce:function(){},onQueueFull:function(){},onCheck:function(){},onCancel:function(){},onClearQueue:function(){},onError:function(){},onProgress:function(){},onComplete:function(){},onAllComplete:function(){}},b);a(this).data("settings",c);var d=location.pathname;d=d.split("/"),d.pop(),d=d.join("/")+"/";var e={};if(e.uploadifyID=c.id,e.pagepath=d,c.buttonImg&&(e.buttonImg=escape(c.buttonImg)),c.buttonText&&(e.buttonText=escape(c.buttonText)),c.rollover&&(e.rollover=!0),e.script=c.script,e.folder=escape(c.folder),c.scriptData){var f="";for(var g in c.scriptData)f+="&"+g+"="+c.scriptData[g];e.scriptData=escape(f.substr(1))}e.width=c.width,e.height=c.height,e.wmode=c.wmode,e.method=c.method,e.queueSizeLimit=c.queueSizeLimit,e.simUploadLimit=c.simUploadLimit,c.hideButton&&(e.hideButton=!0),c.fileDesc&&(e.fileDesc=c.fileDesc),c.fileExt&&(e.fileExt=c.fileExt),c.multi&&(e.multi=!0),c.auto&&(e.auto=!0),c.sizeLimit&&(e.sizeLimit=c.sizeLimit),c.checkScript&&(e.checkScript=c.checkScript),c.fileDataName&&(e.fileDataName=c.fileDataName),c.queueID&&(e.queueID=c.queueID),c.onInit()!==!1&&(a(this).css("display","none"),a(this).after('<div id="'+a(this).attr("id")+'Uploader"></div>'),swfobject.embedSWF(c.uploader,c.id+"Uploader",c.width,c.height,"9.0.24",c.expressInstall,e,{quality:"high",wmode:c.wmode,allowScriptAccess:c.scriptAccess},{},function(a){"function"==typeof c.onSWFReady&&a.success&&c.onSWFReady()}),0==c.queueID?a("#"+a(this).attr("id")+"Uploader").after('<div id="'+a(this).attr("id")+'Queue" class="uploadifyQueue"></div>'):a("#"+c.queueID).addClass("uploadifyQueue")),"function"==typeof c.onOpen&&a(this).bind("uploadifyOpen",c.onOpen),a(this).bind("uploadifySelect",{action:c.onSelect,queueID:c.queueID},function(b,d,e){if(b.data.action(b,d,e)!==!1){var f=.01*Math.round(e.size/1024*100),g="KB";f>1e3&&(f=.01*Math.round(.001*f*100),g="MB");var h=f.toString().split(".");f=h.length>1?h[0]+"."+h[1].substr(0,2):h[0],e.name.length>20?fileName=e.name.substr(0,20)+"...":fileName=e.name,queue="#"+a(this).attr("id")+"Queue",b.data.queueID&&(queue="#"+b.data.queueID),a(queue).append('<div id="'+a(this).attr("id")+d+'" class="uploadifyQueueItem"><div class="cancel"><a href="javascript:jQuery(\'#'+a(this).attr("id")+"').uploadifyCancel('"+d+'\')"><img src="'+c.cancelImg+'" border="0" /></a></div><span class="fileName">'+fileName+"</span><span> ("+f+g+')</span><span class="percentage"></span><div class="uploadifyProgress"><div id="'+a(this).attr("id")+d+'ProgressBar" class="uploadifyProgressBar"><!--Progress Bar--></div></div></div>')}}),a(this).bind("uploadifySelectOnce",{action:c.onSelectOnce},function(b,d){b.data.action(b,d),c.auto&&(c.checkScript?a(this).uploadifyUpload(null,!1):a(this).uploadifyUpload(null,!0))}),a(this).bind("uploadifyQueueFull",{action:c.onQueueFull},function(a,b){a.data.action(a,b)!==!1&&alert("The queue is full.  The max size is "+b+".")}),a(this).bind("uploadifyCheckExist",{action:c.onCheck},function(b,c,e,f,g){var h=new Object;if(h=e,h.folder="/"==f.substr(0,1)?f:d+f,g)for(var i in e)var j=i;a.post(c,h,function(c){for(var d in c)if(b.data.action(b,c,d)!==!1){var e=confirm("Do you want to replace the file "+c[d]+"?");e||document.getElementById(a(b.target).attr("id")+"Uploader").cancelFileUpload(d,!0,!0)}g?document.getElementById(a(b.target).attr("id")+"Uploader").startFileUpload(j,!0):document.getElementById(a(b.target).attr("id")+"Uploader").startFileUpload(null,!0)},"json")}),a(this).bind("uploadifyCancel",{action:c.onCancel},function(b,c,d,e,f,g){if(b.data.action(b,c,d,e,g)!==!1&&f){var h=1==g?0:250;a("#"+a(this).attr("id")+c).fadeOut(h,function(){a(this).remove()})}}),a(this).bind("uploadifyClearQueue",{action:c.onClearQueue},function(b,d){var e=c.queueID?c.queueID:a(this).attr("id")+"Queue";d&&a("#"+e).find(".uploadifyQueueItem").remove(),b.data.action(b,d)!==!1&&a("#"+e).find(".uploadifyQueueItem").each(function(){var b=a(".uploadifyQueueItem").index(this);a(this).delay(100*b).fadeOut(250,function(){a(this).remove()})})});var h=[];a(this).bind("uploadifyError",{action:c.onError},function(b,c,d,f){if(b.data.action(b,c,d,f)!==!1){var g=new Array(c,d,f);h.push(g);var i="";i="File Size"==f.type?"文件不能大于"+parseInt(e.sizeLimit/1024/1024)+"M":f.type,a("#"+a(this).attr("id")+c).find(".percentage").text(" - "+i+" 错误"),a("#"+a(this).attr("id")+c).find(".uploadifyProgress").hide(),a("#"+a(this).attr("id")+c).addClass("uploadifyError")}}),"function"==typeof c.onUpload&&a(this).bind("uploadifyUpload",c.onUpload),a(this).bind("uploadifyProgress",{action:c.onProgress,toDisplay:c.displayData},function(b,c,d,e){b.data.action(b,c,d,e)!==!1&&(a("#"+a(this).attr("id")+c+"ProgressBar").animate({width:e.percentage+"%"},250,function(){100==e.percentage&&a(this).closest(".uploadifyProgress").fadeOut(250,function(){a(this).remove()})}),"percentage"==b.data.toDisplay&&(displayData=" - "+e.percentage+"%"),"speed"==b.data.toDisplay&&(displayData=" - "+e.speed+"KB/s"),null==b.data.toDisplay&&(displayData=" "),a("#"+a(this).attr("id")+c).find(".percentage").text(displayData))}),a(this).bind("uploadifyComplete",{action:c.onComplete},function(b,d,e,f,g){b.data.action(b,d,e,unescape(f),g)!==!1&&(a("#"+a(this).attr("id")+d).find(".percentage").text(" - 上传已经完成"),c.removeCompleted&&a("#"+a(b.target).attr("id")+d).fadeOut(250,function(){a(this).remove()}),a("#"+a(b.target).attr("id")+d).addClass("completed"))}),"function"==typeof c.onAllComplete&&a(this).bind("uploadifyAllComplete",{action:c.onAllComplete},function(a,b){a.data.action(a,b)!==!1&&(h=[])})})},uploadifySettings:function(b,c,d){var e=!1;if(a(this).each(function(){if("scriptData"==b&&null!=c){if(d)var f=c;else var f=a.extend(a(this).data("settings").scriptData,c);var g="";for(var h in f)g+="&"+h+"="+f[h];c=escape(g.substr(1))}e=document.getElementById(a(this).attr("id")+"Uploader").updateSettings(b,c)}),null==c&&"scriptData"==b){for(var f=unescape(e).split("&"),g=new Object,h=0;h<f.length;h++){var i=f[h].split("=");g[i[0]]=i[1]}e=g}return e},uploadifyUpload:function(b,c){a(this).each(function(){c||(c=!1),document.getElementById(a(this).attr("id")+"Uploader").startFileUpload(b,c)})},uploadifyCancel:function(b){a(this).each(function(){document.getElementById(a(this).attr("id")+"Uploader").cancelFileUpload(b,!0,!0,!1)})},uploadifyClearQueue:function(){a(this).each(function(){document.getElementById(a(this).attr("id")+"Uploader").clearFileUploadQueue(!1)})}})}(jQuery);var defaultAlign=new Object;defaultAlign.string="center",defaultAlign.link="center",defaultAlign.number="right",defaultAlign["boolean"]="center",defaultAlign.select="center",defaultAlign.date="center",defaultAlign.undefined="left",defaultAlign["null"]="left";var _gridWidthForPrintWidth=640,sgrid_StringRender=new function(){this.paint=function(a,b,c){var d=b.getCellValue(c);return null===d||void 0===d?"":d}},sgrid_NumberRender=new function(){this.paint=function(a,b,c){var d,e=b.getCellValue(c),f=new Number(e);return isFinite(f)||(f=new Number(0)),null!=c.format&&(d=f.format(c.format)),d}},sgrid_BoolRender=new function(){this.paint=function(a,b,c){var d=b.getCellValue(c),e=d===!0?"Yes":"No";return e}},sgrid_LinkRender=new function(){this.paint=function(a,b,c){var d=b.getCellValue(c);(null===d||void 0===d)&&(d="");var e=[],f=b.getShowLinkValue(c);return f&&(e.push('<span style="TEXT-DECORATION: underline;cursor:pointer;"'),e.push(" onclick=\"s_grid_onCellLink('"+a.id+"','"+b._index+"."+b.indexOfChildren+"','"+c.name+"');\">")),e.push(d),f&&e.push("</span>"),e.join("")}},sgrid_SelectRender=new function(){this.paint=function(a,b,c){var d=b.getCellValue(c),e=null;e=b.rowData["options_"+c.name],null==e&&(e=c.options);for(var f=null,g=0;g<e.length;g++)if(e[g].id==d){f=e[g];break}return null!=f?f.name:"&nbsp;"}},sgrid_DateRender=new function(){this.paint=function(a,b,c){var d=b.getCellValue(c);(null===d||void 0===d)&&(d=""),d.length>10&&(d=d.substring(0,10)),""==data&&(d="&nbsp;&nbsp;&nbsp;&nbsp;");var e=[];return e.push('<span style="cursor:pointer;">'),e.push(d),e.push("</span>"),e.join("")}};SigmaReport.prototype.layout=function(){var a=this.calcTableWidth();this.getHeadBox().style.width=a+"px",this.getBodyBox().style.width=a+"px",this.getHeadTable().style.width=a+"px"},SigmaReport.prototype.getColByName=function(a,b){null==b&&(b=this.cols);for(var c=0;c<b.length;c++){if(b[c].name===a)return b[c];if(null!=b[c].children){var d=this.getColByName(a,b[c].children);if(null!=d)return d}}return null},SigmaReport.prototype.getElement=function(){return document.getElementById(this.id)},SigmaReport.prototype.getHeadBox=function(){return document.getElementById("head_"+this.id)},SigmaReport.prototype.getHeadTable=function(){return document.getElementById("tHead_"+this.id)},SigmaReport.prototype.getBodyTable=function(){return document.getElementById("tBody_"+this.id)},SigmaReport.prototype.getBodyBox=function(){return document.getElementById("body_"+this.id)},SigmaReport.prototype.countHeadDeep=function(){if(null!==this.headDeep)return this.headDeep;var a=this.cols,b=0;if(null!=a&&a.length>0)for(var c=0;c<a.length;c++){var d=a[c],e=this.countColDeep(d);d._deep=e,e>b&&(b=e)}return this.headDeep=b,this.headDeep},SigmaReport.prototype.countColDeep=function(a){if(null!=a){var b=a.children;if(null!=b&&b.length>0){for(var c=0,d=0;d<b.length;d++){var e=b[d],f=this.countColDeep(e);f>c&&(c=f)}a._deep=c+1}else a._deep=1;return a._deep}},SigmaReport.prototype.calcRowSpan=function(a,b){void 0===a&&(a=this.cols,b=this.countHeadDeep());for(var c=0;c<a.length;c++){var d=a[c];if(null==d)return;d._rowspan=b-d._deep+1;var e=d.children;void 0!==e&&e.length>0&&this.calcRowSpan(e,b-1)}},SigmaReport.prototype.countHeadWide=function(){if(null!=this.headWide)return this.headWide;var a=0;this.leafCols=[];var b=this.cols;if(null!=b&&b.length>0)for(var c=0;c<b.length;c++){var d=b[c];d.parent=null,a+=this.countColWide(d)}return this.headWide=a,a},SigmaReport.prototype.countColWide=function(a){var b=a.children;if(null==b||0==b.length)a._colspan=1,this.leafCols.push(a);else{a._colspan=0;for(var c=0;c<b.length;c++){var d=b[c];if(null==d)return;d.parent=a,d.brotherIndex=c;var e=this.countColWide(d);a._colspan=a._colspan+e}}return a._colspan},SigmaReport.prototype.calcTableWidth=function(){for(var a=0,b=0;b<this.leafCols.length;b++)a=a+this.getColWidth(this.leafCols[b])+1;return a},SigmaReport.prototype.getColGroup=function(a){if(null!=this.colGroup)return this.colGroup;var b=navigator.userAgent.toLowerCase(),c=!1;b.indexOf("msie 6.0")>0&&(c=!0);var d=[];d.push("<COLGROUP id='colgroup_"+this.id+"_"+a+"'>");for(var e=0;e<this.leafCols.length;e++){var f=this.leafCols[e];if(e<this.leafCols.length){if(d.push('<COL width="'),"SigmaReportPrint"===this.printClassName&&"printTable_title"===this.printTable_title){var g=b.indexOf("msie")>0?_gridWidthForPrintWidth-2:_gridWidthForPrintWidth,h=e==this.leafCols.length-1?(g-g%this.leafCols.length)/this.leafCols.length+g%this.leafCols.length:g/this.leafCols.length;d.push(h)}else c&&null!=f.parent&&f.brotherIndex>0&&"head"==a?d.push(this.getColWidth(f)+1):d.push(this.getColWidth(f));d.push('" '),d.push("/>")}else d.push("<COL"),d.push("/>")}return d.push("</COLGROUP>"),this.leftColGroup=d,d},SigmaReport.prototype.paintHeadCell=function(a,b){var c=(this.getColWidth(a),b[a._selfDeep]),d=[];if(d.push('<TD style="text-align:center;" '),d.push(" colspan="+a._colspan),d.push(" rowspan="+a._rowspan),d.push(" colName="+a.name),d.push(" caption="+a.caption),d.push(">"+a.caption),d.push("</TD>"),c[c.length]=d.join(""),void 0!==a.children&&a.children.length>0)for(var e=a.children,f=0;f<e.length;f++){var g=e[f];if(null==g)return;g._selfDeep=a._selfDeep+1,this.paintHeadCell(g,b)}},SigmaReport.prototype.paintHeader=function(){this.calcRowSpan();var a=[];a.push("<TABLE id=tHead_"+this.id+' style="TABLE-LAYOUT:fixed;" cellSpacing=0 cellPadding=0 border=0>'),a.push(this.getColGroup("head").join(""));for(var b=[],c=this.countHeadDeep(),d=0;c>d;d++){var e=[];b.push(e),e.push("<TR>")}for(var d=0;d<this.cols.length;d++){var f=this.cols[d];f._selfDeep=0,this.paintHeadCell(f,b)}for(var d=0;c>d;d++){var e=b[d];e.push("</TR>"),b[d]=e.join("")}return a.push(b.join("")),a.push("</TABLE>"),a.join("")},SigmaReport.prototype.getColumnRender=function(a){if(null==a.render){null==a.mode&&(a.mode="string");var b=this.getRender(a.mode);a.render=b}return a.render},SigmaReport.prototype.bindData=function(a){this.rows=[];for(var b=0;b<a.length;b++){var c=new SigmaReportRow(a[b],b);c.report=this,this.rows.push(c)}this.paintRows()},SigmaReport.prototype.paintRows=function(){var a=this.rows,b=new Array;new Array;b.push("<TABLE  id=tBody_"+this.id+' style="TABLE-LAYOUT:fixed;" cellSpacing=0 cellPadding=0 border=0>'),b.push(this.getColGroup("body").join(""));for(var c=0;c<a.length;c++){var d=a[c].paint();b.push(d)}b.push("</TABLE>");var e=this.getBodyBox();e&&e.innerHTML&&(e.innerHTML=b.join(""))},SigmaReportRow.prototype.getColAlign=function(a){var b="center";return b=null!=a.align?a.align:defaultAlign[a.mode]},SigmaReportRow.prototype.getCellValue=function(a){var b=a.name;return this.calcCellValue(b)},SigmaReportRow.prototype.getShowLinkValue=function(a){if(a.showLink){var b=a.showLink;return this.calcCellValue(b)}return!0},SigmaReportRow.prototype.calcCellValue=function(str){var s=str,p=s.indexOf("[index]");if(p>0){var pre=s.substring(0,p),reg=new RegExp(pre+"\\[index\\]","g");s=s.replace(reg,"this.data."+pre+"["+this.indexOfChildren+"]")}else s=s.indexOf("/")>0?this.formatColName(s,"/"):s.indexOf("+")>0?this.formatColName(s,"+"):s.indexOf("-")>0?this.formatColName(s,"-"):s.indexOf("*")>0?this.formatColName(s,"*"):"this.data."+s;return v=eval(s),v},SigmaReportRow.prototype.getCellValueByColName=function(colname){var s=colname,p=s.indexOf("[index]");if(p>0){var pre=s.substring(0,p),reg=new RegExp(pre+"\\[index\\]","g");s=s.replace(reg,"this.data."+pre+"["+this.indexOfChildren+"]")}else s=s.indexOf("/")>0?this.formatColName(s,"/"):s.indexOf("+")>0?this.formatColName(s,"+"):s.indexOf("-")>0?this.formatColName(s,"-"):s.indexOf("*")>0?this.formatColName(s,"*"):"this.data."+s;var v=eval(s);return v},SigmaReportRow.prototype.formatColName=function(a,b){var c=new RegExp("^|\\"+b,"g");return a=a.replace(c,b+"this.data."),a=a.substring(1)},SigmaReportRow.prototype.hasChildRow=function(a){for(var b=0;b<this.childRows.length;b++){var c=this.childRows[b];if(c.data==a)return!0}return!1},SigmaReportRow.prototype.paint=function(){this.calcChildRows();var a=[];a.push("<tr>");for(var b=this.report.leafCols,c=0;c<b.length;c++)this.indexOfChildren>0?b[c].name.indexOf("[index]")>0&&a.push(this.paintCell(b[c])):a.push(this.paintCell(b[c]));if(a.push("</tr>"),this.childRows.length>0)for(var c=1;c<this.childRows.length;c++){var d=this.childRows[c];a.push(d.paint())}var e=a.join("");return e},SigmaReportRow.prototype.paintCell=function(a){var b=this.report.getColumnRender(a).paint(this.report,this,a),c=new Array,d="cell@"+this._index+"@"+a.name;c.push('<td id="'+d+'"'),this.childRows.length>1&&a.name.indexOf("[index]")<0&&c.push(" rowspan="+this.childRows.length);var e=this.getColAlign(a);c.push(' ><div style="text-align:'+e+';"'),c.push(">"+b),c.push("</td>");var f=c.join("");return f},SigmaReportRow.prototype.calcChildRows=function(){if(!(this.indexOfChildren>0))for(var a=this.report.leafCols,b=0;b<a.length;b++){var c=a[b],d=c.name,e=d.split(".");if(1==e.length);else if(e.length>1)for(var f=this.data,g=0;g<e.length;g++){var h=e[g];if(h.indexOf("[index]")>0&&(h=h.substring(0,h.indexOf("[index]"))),f=f[h],f instanceof Array){for(var i=0;i<f.length;i++){var j=f[i];if(0==this.hasChildRow(j)){var k=new SigmaReportRow(this.data);k.indexOfChildren=i,k._index=this._index,k.report=this.report,this.childRows.push(k)}}return}}}},SigmaReport.prototype.registerRender=function(a,b){this.renders[a]=b},SigmaReport.prototype.getRender=function(a){var b=this.renders[a];return null==b&&(b=this.renders.string),b},Date.prototype.toString=function(a){var b=this.getFullYear()+"-"+getTwinIntStr(this.getMonth()+1)+"-"+getTwinIntStr(this.getDate());return 1==a?b:b=b+" "+getTwinIntStr(this.getHours())+":"+getTwinIntStr(this.getMinutes())+":"+getTwinIntStr(this.getSeconds())},String.prototype.trim=function(){var a=/(^\s*)|(\s*$)/g;return this.replace(a,"")},String.prototype.endWith=function(a){var b=this.lastIndexOf(a);return b+a.length==this.length?!0:!1},String.prototype.startWith=function(a){if(null==a)return!1;var b=this.indexOf(a);return 0==b?!0:!1},String.prototype.asciiLen=function(){for(var a=0,b=0;b<this.length;b++)a+=this.charCodeAt(b)<0||this.charCodeAt(b)>255?2:1;return a},Array.prototype.indexOf=function(a){for(var b=0;b<this.length;b++)if(this[b]==a)return b;return-1},Array.prototype.lastIndexOf=function(a){for(var b=this.length-1;b>=0;b--)if(this[b]==a)return b;return-1},Array.prototype.contains=function(a){return-1!=this.indexOf(a)},Array.prototype.addAll=function(a){for(var b=0;b<a.length;b++)this.push(a[b])},Array.prototype.copy=function(a){return this.concat()},Array.prototype.insertAt=function(a,b){this.splice(b,0,a)},Array.prototype.insertBefore=function(a,b){var c=this.indexOf(b);-1==c?this.push(a):this.splice(c,0,a)},Array.prototype.insertAfter=function(a,b){var c=this.indexOf(b);this.splice(c,0,a)},Array.prototype.removeAt=function(a){this.splice(a,1)},Array.prototype.remove=function(a){var b=this.indexOf(a);-1!=b&&this.splice(b,1)},Number.prototype.strValue=function(){for(var a=this.format("#.0000000000"),b=a.length-1;b>0&&"0"==a.charAt(b);b--);return a=a.substring(0,b),a.endWith(".")&&(a=a.substring(0,a.length-1)),a},Number.prototype.format=function(a){var b=this;a=a.trim(),null==a&&(a="#.00");var c=!1;a.endWith("%")&&(c=!0,b=100*b,a=a.substring(0,a.length-1));var d;if("#"==a)d=String(Math.round(b));else{var e=0;if(a.endWith("#"))e=a.length-3,d=""+b;else{e=a.length-2;var f=Math.pow(10,e),g=f*b;g=Math.round(g),d=String(g/f)}if(e>0){-1===d.indexOf(".")&&(d+=".0");var f=d.indexOf(".")+1;if(d.length-f<e)for(var h=e-(d.length-f),i=0;h>i;i++)d+="0"}}return c===!0&&(d+="%"),d},Function.prototype.getName=function(){var a=""+this,b=a.indexOf("{");return a=a.substring(0,b)},function(){function a(a,b){var c;a||(a={});for(c in b)a[c]=b[c];return a}function b(){var a,b,c=arguments,d={},e=function(a,b){var c,d;"object"!=typeof a&&(a={});for(d in b)b.hasOwnProperty(d)&&(c=b[d],a[d]=c&&"object"==typeof c&&"[object Array]"!==Object.prototype.toString.call(c)&&"renderTo"!==d&&"number"!=typeof c.nodeType?e(a[d]||{},c):b[d]);return a};for(c[0]===!0&&(d=c[1],c=Array.prototype.slice.call(c,2)),b=c.length,a=0;b>a;a++)d=e(d,c[a]);return d}function c(a,b){return parseInt(a,b||10)}function d(a){return"string"==typeof a}function e(a){return a&&"object"==typeof a}function f(a){return"[object Array]"===Object.prototype.toString.call(a)}function g(a){return"number"==typeof a}function h(a){return ia.log(a)/ia.LN10}function i(a){return ia.pow(10,a)}function j(a,b){for(var c=a.length;c--;)if(a[c]===b){a.splice(c,1);break}}function k(a){return a!==K&&null!==a}function l(a,b,c){var f,g;if(d(b))k(c)?a.setAttribute(b,c):a&&a.getAttribute&&(g=a.getAttribute(b));else if(k(b)&&e(b))for(f in b)a.setAttribute(f,b[f]);return g}function m(a){return f(a)?a:[a]}function n(){var a,b,c=arguments,d=c.length;for(a=0;d>a;a++)if(b=c[a],b!==K&&null!==b)return b}function o(b,c){va&&!Ba&&c&&c.opacity!==K&&(c.filter="alpha(opacity="+100*c.opacity+")"),a(b.style,c);
}function p(b,c,d,e,f){return b=ga.createElement(b),c&&a(b,c),f&&o(b,{padding:0,border:Ka,margin:0}),d&&o(b,d),e&&e.appendChild(b),b}function q(b,c){var d=function(){return K};return d.prototype=new b,a(d.prototype,c),d}function r(a,b,d,e){var f=O.lang,a=+a||0,g=-1===b?(a.toString().split(".")[1]||"").length:isNaN(b=oa(b))?2:b,b=void 0===d?f.decimalPoint:d,e=void 0===e?f.thousandsSep:e,f=0>a?"-":"",d=String(c(a=oa(a).toFixed(g))),h=d.length>3?d.length%3:0;return f+(h?d.substr(0,h)+e:"")+d.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+e)+(g?b+oa(a-d).toFixed(g).slice(2):"")}function s(a,b){return Array((b||2)+1-String(a).length).join(0)+a}function t(a,b,c){var d=a[b];a[b]=function(){var a=Array.prototype.slice.call(arguments);return a.unshift(d),c.apply(this,a)}}function u(a,b){for(var c,d,e,f,g,h="{",i=!1,j=[];-1!==(h=a.indexOf(h));){if(c=a.slice(0,h),i){for(d=c.split(":"),e=d.shift().split("."),g=e.length,c=b,f=0;g>f;f++)c=c[e[f]];d.length&&(d=d.join(":"),e=/\.([0-9])/,f=O.lang,g=void 0,/f$/.test(d)?(g=(g=d.match(e))?g[1]:-1,null!==c&&(c=r(c,g,f.decimalPoint,d.indexOf(",")>-1?f.thousandsSep:""))):c=P(d,c))}j.push(c),a=a.slice(h+1),h=(i=!i)?"}":"{"}return j.push(a),j.join("")}function v(a){return ia.pow(10,ka(ia.log(a)/ia.LN10))}function w(a,b,c,d){var e,c=n(c,1);for(e=a/c,b||(b=[1,2,2.5,5,10],d&&d.allowDecimals===!1&&(1===c?b=[1,2,5,10]:.1>=c&&(b=[1/c]))),d=0;d<b.length&&(a=b[d],!(e<=(b[d]+(b[d+1]||b[d]))/2));d++);return a*=c}function x(a,b){var c,d,e=a.length;for(d=0;e>d;d++)a[d].ss_i=d;for(a.sort(function(a,d){return c=b(a,d),0===c?a.ss_i-d.ss_i:c}),d=0;e>d;d++)delete a[d].ss_i}function y(a){for(var b=a.length,c=a[0];b--;)a[b]<c&&(c=a[b]);return c}function z(a){for(var b=a.length,c=a[0];b--;)a[b]>c&&(c=a[b]);return c}function A(a,b){for(var c in a)a[c]&&a[c]!==b&&a[c].destroy&&a[c].destroy(),delete a[c]}function B(a){N||(N=p(Ja)),a&&N.appendChild(a),N.innerHTML=""}function C(a){return parseFloat(a.toPrecision(14))}function D(a,b){Q=n(a,b.animation)}function E(){var a=O.global.useUTC,b=a?"getUTC":"get",c=a?"setUTC":"set";V=6e4*(a&&O.global.timezoneOffset||0),U=a?Date.UTC:function(a,b,c,d,e,f){return new Date(a,b,n(c,1),n(d,0),n(e,0),n(f,0)).getTime()},W=b+"Minutes",X=b+"Hours",Y=b+"Day",Z=b+"Date",$=b+"Month",_=b+"FullYear",aa=c+"Minutes",ba=c+"Hours",ca=c+"Date",da=c+"Month",ea=c+"FullYear"}function F(){}function G(a,b,c,d){this.axis=a,this.pos=b,this.type=c||"",this.isNew=!0,!c&&!d&&this.addLabel()}function H(){this.init.apply(this,arguments)}function I(){this.init.apply(this,arguments)}function J(a,b,c,d,e){var f=a.chart.inverted;this.axis=a,this.isNegative=c,this.options=b,this.x=d,this.total=null,this.points={},this.stack=e,this.alignOptions={align:b.align||(f?c?"left":"right":"center"),verticalAlign:b.verticalAlign||(f?"middle":c?"bottom":"top"),y:n(b.y,f?4:c?14:-6),x:n(b.x,f?c?-6:6:0)},this.textAlign=b.textAlign||(f?c?"right":"left":"center")}var K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga=document,ha=window,ia=Math,ja=ia.round,ka=ia.floor,la=ia.ceil,ma=ia.max,na=ia.min,oa=ia.abs,pa=ia.cos,qa=ia.sin,ra=ia.PI,sa=2*ra/360,ta=navigator.userAgent,ua=ha.opera,va=/msie/i.test(ta)&&!ua,wa=8===ga.documentMode,xa=/AppleWebKit/.test(ta),ya=/Firefox/.test(ta),za=/(Mobile|Android|Windows Phone)/.test(ta),Aa="http://www.w3.org/2000/svg",Ba=!!ga.createElementNS&&!!ga.createElementNS(Aa,"svg").createSVGRect,Ca=ya&&parseInt(ta.split("Firefox/")[1],10)<4,Da=!Ba&&!va&&!!ga.createElement("canvas").getContext,Ea={},Fa=0,Ga=function(){return K},Ha=[],Ia=0,Ja="div",Ka="none",La=/^[0-9]+$/,Ma="stroke-width",Na={};ha.Highcharts?T(16,!0):fa=ha.Highcharts={},P=function(b,c,d){if(!k(c)||isNaN(c))return"Invalid date";var e,b=n(b,"%Y-%m-%d %H:%M:%S"),f=new Date(c-V),g=f[X](),h=f[Y](),i=f[Z](),j=f[$](),l=f[_](),m=O.lang,o=m.weekdays,f=a({a:o[h].substr(0,3),A:o[h],d:s(i),e:i,b:m.shortMonths[j],B:m.months[j],m:s(j+1),y:l.toString().substr(2,2),Y:l,H:s(g),I:s(g%12||12),l:g%12||12,M:s(f[W]()),p:12>g?"AM":"PM",P:12>g?"am":"pm",S:s(f.getSeconds()),L:s(ja(c%1e3),3)},fa.dateFormats);for(e in f)for(;-1!==b.indexOf("%"+e);)b=b.replace("%"+e,"function"==typeof f[e]?f[e](c):f[e]);return d?b.substr(0,1).toUpperCase()+b.substr(1):b},T=function(a,b){var c="Highcharts error #"+a+": www.highcharts.com/errors/"+a;if(b)throw c;ha.console&&console.log(c)},S={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:26784e5,year:31556952e3},R={init:function(a,b,c){var d,e,f,b=b||"",g=a.shift,h=b.indexOf("C")>-1,i=h?7:3,b=b.split(" "),c=[].concat(c),j=function(a){for(d=a.length;d--;)"M"===a[d]&&a.splice(d+1,0,a[d+1],a[d+2],a[d+1],a[d+2])};if(h&&(j(b),j(c)),a.isArea&&(e=b.splice(b.length-6,6),f=c.splice(c.length-6,6)),g<=c.length/i&&b.length===c.length)for(;g--;)c=[].concat(c).splice(0,i).concat(c);if(a.shift=0,b.length)for(a=c.length;b.length<a;)g=[].concat(b).splice(b.length-i,i),h&&(g[i-6]=g[i-2],g[i-5]=g[i-1]),b=b.concat(g);return e&&(b=b.concat(e),c=c.concat(f)),[b,c]},step:function(a,b,c,d){var e=[],f=a.length;if(1===c)e=d;else if(f===b.length&&1>c)for(;f--;)d=parseFloat(a[f]),e[f]=isNaN(d)?a[f]:c*parseFloat(b[f]-d)+d;else e=b;return e}},function(b){ha.HighchartsAdapter=ha.HighchartsAdapter||b&&{init:function(a){var c,e=b.fx,f=e.step,g=b.Tween,h=g&&g.propHooks;c=b.cssHooks.opacity,b.extend(b.easing,{easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c}}),b.each(["cur","_default","width","height","opacity"],function(a,b){var c,d=f;"cur"===b?d=e.prototype:"_default"===b&&g&&(d=h[b],b="set"),(c=d[b])&&(d[b]=function(d){var e,d=a?d:this;return"align"!==d.prop?(e=d.elem,e.attr?e.attr(d.prop,"cur"===b?K:d.now):c.apply(this,arguments)):void 0})}),t(c,"get",function(a,b,c){return b.attr?b.opacity||0:a.call(this,b,c)}),c=function(b){var c,d=b.elem;b.started||(c=a.init(d,d.d,d.toD),b.start=c[0],b.end=c[1],b.started=!0),d.attr("d",a.step(b.start,b.end,b.pos,d.toD))},g?h.d={set:c}:f.d=c,this.each=Array.prototype.forEach?function(a,b){return Array.prototype.forEach.call(a,b)}:function(a,b){var c,d=a.length;for(c=0;d>c;c++)if(b.call(a[c],a[c],c,a)===!1)return c},b.fn.highcharts=function(){var a,b,c="Chart",e=arguments;return this[0]&&(d(e[0])&&(c=e[0],e=Array.prototype.slice.call(e,1)),a=e[0],a!==K&&(a.chart=a.chart||{},a.chart.renderTo=this[0],new fa[c](a,e[1]),b=this),a===K&&(b=Ha[l(this[0],"data-highcharts-chart")])),b}},getScript:b.getScript,inArray:b.inArray,adapterRun:function(a,c){return b(a)[c]()},grep:b.grep,map:function(a,b){for(var c=[],d=0,e=a.length;e>d;d++)c[d]=b.call(a[d],a[d],d,a);return c},offset:function(a){return b(a).offset()},addEvent:function(a,c,d){b(a).bind(c,d)},removeEvent:function(a,c,d){var e=ga.removeEventListener?"removeEventListener":"detachEvent";ga[e]&&a&&!a[e]&&(a[e]=function(){}),b(a).unbind(c,d)},fireEvent:function(c,d,e,f){var g,h=b.Event(d),i="detached"+d;!va&&e&&(delete e.layerX,delete e.layerY,delete e.returnValue),a(h,e),c[d]&&(c[i]=c[d],c[d]=null),b.each(["preventDefault","stopPropagation"],function(a,b){var c=h[b];h[b]=function(){try{c.call(h)}catch(a){"preventDefault"===b&&(g=!0)}}}),b(c).trigger(h),c[i]&&(c[d]=c[i],c[i]=null),f&&!h.isDefaultPrevented()&&!g&&f(h)},washMouseEvent:function(a){var b=a.originalEvent||a;return b.pageX===K&&(b.pageX=a.pageX,b.pageY=a.pageY),b},animate:function(a,c,d){var e=b(a);a.style||(a.style={}),c.d&&(a.toD=c.d,c.d=1),e.stop(),c.opacity!==K&&a.attr&&(c.opacity+="px"),e.animate(c,d)},stop:function(a){b(a).stop()}}}(ha.jQuery);var Oa=ha.HighchartsAdapter,Pa=Oa||{};Oa&&Oa.init.call(Oa,R);var Qa=Pa.adapterRun,Ra=Pa.getScript,Sa=Pa.inArray,Ta=Pa.each,Ua=Pa.grep,Va=Pa.offset,Wa=Pa.map,Xa=Pa.addEvent,Ya=Pa.removeEvent,Za=Pa.fireEvent,$a=Pa.washMouseEvent,_a=Pa.animate,ab=Pa.stop,Pa={enabled:!0,x:0,y:15,style:{color:"#606060",cursor:"default",fontSize:"11px"}};O={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#8085e8,#8d4653,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/4.0.3/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.0.3/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:b(Pa,{align:"center",enabled:!1,formatter:function(){return null===this.y?"":r(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:Ba,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:za?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var bb=O.plotOptions,Oa=bb.line;E();var cb=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,db=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,eb=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,fb=function(a){var d,e,f=[];return function(a){a&&a.stops?e=Wa(a.stops,function(a){return fb(a[1])}):(d=cb.exec(a))?f=[c(d[1]),c(d[2]),c(d[3]),parseFloat(d[4],10)]:(d=db.exec(a))?f=[c(d[1],16),c(d[2],16),c(d[3],16),1]:(d=eb.exec(a))&&(f=[c(d[1]),c(d[2]),c(d[3]),1])}(a),{get:function(c){var d;return e?(d=b(a),d.stops=[].concat(d.stops),Ta(e,function(a,b){d.stops[b]=[d.stops[b][0],a.get(c)]})):d=f&&!isNaN(f[0])?"rgb"===c?"rgb("+f[0]+","+f[1]+","+f[2]+")":"a"===c?f[3]:"rgba("+f.join(",")+")":a,d},brighten:function(a){if(e)Ta(e,function(b){b.brighten(a)});else if(g(a)&&0!==a){var b;for(b=0;3>b;b++)f[b]+=c(255*a),f[b]<0&&(f[b]=0),f[b]>255&&(f[b]=255)}return this},rgba:f,setOpacity:function(a){return f[3]=a,this}}};F.prototype={opacity:1,textProps:"fontSize,fontWeight,fontFamily,color,lineHeight,width,textDecoration,textShadow,HcTextStroke".split(","),init:function(a,b){this.element="span"===b?p(b):ga.createElementNS(Aa,b),this.renderer=a},animate:function(a,c,d){return c=n(c,Q,!0),ab(this),c?(c=b(c,{}),d&&(c.complete=d),_a(this,a,c)):(this.attr(a),d&&d()),this},colorGradient:function(a,c,d){var e,g,h,i,j,l,m,n,o,p,q=this.renderer,r=[];if(a.linearGradient?g="linearGradient":a.radialGradient&&(g="radialGradient"),g){h=a[g],i=q.gradients,l=a.stops,o=d.radialReference,f(h)&&(a[g]=h={x1:h[0],y1:h[1],x2:h[2],y2:h[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===g&&o&&!k(h.gradientUnits)&&(h=b(h,{cx:o[0]-o[2]/2+h.cx*o[2],cy:o[1]-o[2]/2+h.cy*o[2],r:h.r*o[2],gradientUnits:"userSpaceOnUse"}));for(p in h)"id"!==p&&r.push(p,h[p]);for(p in l)r.push(l[p]);r=r.join(","),i[r]?a=i[r].attr("id"):(h.id=a="highcharts-"+Fa++,i[r]=j=q.createElement(g).attr(h).add(q.defs),j.stops=[],Ta(l,function(a){0===a[1].indexOf("rgba")?(e=fb(a[1]),m=e.get("rgb"),n=e.get("a")):(m=a[1],n=1),a=q.createElement("stop").attr({offset:a[0],"stop-color":m,"stop-opacity":n}).add(j),j.stops.push(a)})),d.setAttribute(c,"url("+q.url+"#"+a+")")}},attr:function(a,b){var c,d,e,f,g=this.element,h=this;if("string"==typeof a&&b!==K&&(c=a,a={},a[c]=b),"string"==typeof a)h=(this[a+"Getter"]||this._defaultGetter).call(this,a,g);else{for(c in a)d=a[c],f=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(c)&&(e||(this.symbolAttr(a),e=!0),f=!0),!this.rotation||"x"!==c&&"y"!==c||(this.doTransform=!0),f||(this[c+"Setter"]||this._defaultSetter).call(this,d,c,g),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(c)&&this.updateShadows(c,d);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return h},updateShadows:function(a,b){for(var c=this.shadows,d=c.length;d--;)c[d].setAttribute(a,"height"===a?ma(b-(c[d].cutHeight||0),0):"d"===a?this.d:b)},addClass:function(a){var b=this.element,c=l(b,"class")||"";return-1===c.indexOf(a)&&l(b,"class",c+" "+a),this},symbolAttr:function(a){var b=this;Ta("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(c){b[c]=n(a[c],b[c])}),b.attr({d:b.renderer.symbols[b.symbolName](b.x,b.y,b.width,b.height,b)})},clip:function(a){return this.attr("clip-path",a?"url("+this.renderer.url+"#"+a.id+")":Ka)},crisp:function(a){var b,c,d={},e=a.strokeWidth||this.strokeWidth||0;c=ja(e)%2/2,a.x=ka(a.x||this.x||0)+c,a.y=ka(a.y||this.y||0)+c,a.width=ka((a.width||this.width||0)-2*c),a.height=ka((a.height||this.height||0)-2*c),a.strokeWidth=e;for(b in a)this[b]!==a[b]&&(this[b]=d[b]=a[b]);return d},css:function(b){var d,e,f=this.styles,g={},h=this.element,i="";if(d=!f,b&&b.color&&(b.fill=b.color),f)for(e in b)b[e]!==f[e]&&(g[e]=b[e],d=!0);if(d){if(d=this.textWidth=b&&b.width&&"text"===h.nodeName.toLowerCase()&&c(b.width),f&&(b=a(f,g)),this.styles=b,d&&(Da||!Ba&&this.renderer.forExport)&&delete b.width,va&&!Ba)o(this.element,b);else{f=function(a,b){return"-"+b.toLowerCase()};for(e in b)i+=e.replace(/([A-Z])/g,f)+":"+b[e]+";";l(h,"style",i)}d&&this.added&&this.renderer.buildText(this)}return this},on:function(a,b){var c=this,d=c.element;return M&&"click"===a?(d.ontouchstart=function(a){c.touchEventFired=Date.now(),a.preventDefault(),b.call(d,a)},d.onclick=function(a){(-1===ta.indexOf("Android")||Date.now()-(c.touchEventFired||0)>1100)&&b.call(d,a)}):d["on"+a]=b,this},setRadialReference:function(a){return this.element.radialReference=a,this},translate:function(a,b){return this.attr({translateX:a,translateY:b})},invert:function(){return this.inverted=!0,this.updateTransform(),this},updateTransform:function(){var a=this.translateX||0,b=this.translateY||0,c=this.scaleX,d=this.scaleY,e=this.inverted,f=this.rotation,g=this.element;e&&(a+=this.attr("width"),b+=this.attr("height")),a=["translate("+a+","+b+")"],e?a.push("rotate(90) scale(-1,1)"):f&&a.push("rotate("+f+" "+(g.getAttribute("x")||0)+" "+(g.getAttribute("y")||0)+")"),(k(c)||k(d))&&a.push("scale("+n(c,1)+" "+n(d,1)+")"),a.length&&g.setAttribute("transform",a.join(" "))},toFront:function(){var a=this.element;return a.parentNode.appendChild(a),this},align:function(a,b,c){var e,f,g,h,i={};return f=this.renderer,g=f.alignedObjects,a?(this.alignOptions=a,this.alignByTranslate=b,(!c||d(c))&&(this.alignTo=e=c||"renderer",j(g,this),g.push(this),c=null)):(a=this.alignOptions,b=this.alignByTranslate,e=this.alignTo),c=n(c,f[e],f),e=a.align,f=a.verticalAlign,g=(c.x||0)+(a.x||0),h=(c.y||0)+(a.y||0),("right"===e||"center"===e)&&(g+=(c.width-(a.width||0))/{right:1,center:2}[e]),i[b?"translateX":"x"]=ja(g),("bottom"===f||"middle"===f)&&(h+=(c.height-(a.height||0))/({bottom:1,middle:2}[f]||1)),i[b?"translateY":"y"]=ja(h),this[this.placed?"animate":"attr"](i),this.placed=!0,this.alignAttr=i,this},getBBox:function(){var b,c,d=this.bBox,e=this.renderer,f=this.rotation;b=this.element;var g=this.styles,h=f*sa;c=this.textStr;var i;if((""===c||La.test(c))&&(i="num."+c.toString().length+(g?"|"+g.fontSize+"|"+g.fontFamily:"")),i&&(d=e.cache[i]),!d){if(b.namespaceURI===Aa||e.forExport){try{d=b.getBBox?a({},b.getBBox()):{width:b.offsetWidth,height:b.offsetHeight}}catch(j){}(!d||d.width<0)&&(d={width:0,height:0})}else d=this.htmlGetBBox();e.isSVG&&(b=d.width,c=d.height,va&&g&&"11px"===g.fontSize&&"16.9"===c.toPrecision(3)&&(d.height=c=14),f&&(d.width=oa(c*qa(h))+oa(b*pa(h)),d.height=oa(c*pa(h))+oa(b*qa(h)))),this.bBox=d,i&&(e.cache[i]=d)}return d},show:function(a){return a&&this.element.namespaceURI===Aa?(this.element.removeAttribute("visibility"),this):this.attr({visibility:a?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(a){var b=this;b.animate({opacity:0},{duration:a||150,complete:function(){b.hide()}})},add:function(a){var b,d,e=this.renderer,f=a||e,g=f.element||e.box,h=this.element,i=this.zIndex;if(a&&(this.parentGroup=a),this.parentInverted=a&&a.inverted,void 0!==this.textStr&&e.buildText(this),i&&(f.handleZ=!0,i=c(i)),f.handleZ)for(a=g.childNodes,b=0;b<a.length;b++)if(e=a[b],f=l(e,"zIndex"),e!==h&&(c(f)>i||!k(i)&&k(f))){g.insertBefore(h,e),d=!0;break}return d||g.appendChild(h),this.added=!0,this.onAdd&&this.onAdd(),this},safeRemoveChild:function(a){var b=a.parentNode;b&&b.removeChild(a)},destroy:function(){var a,b,c=this,d=c.element||{},e=c.shadows,f=c.renderer.isSVG&&"SPAN"===d.nodeName&&c.parentGroup;if(d.onclick=d.onmouseout=d.onmouseover=d.onmousemove=d.point=null,ab(c),c.clipPath&&(c.clipPath=c.clipPath.destroy()),c.stops){for(b=0;b<c.stops.length;b++)c.stops[b]=c.stops[b].destroy();c.stops=null}for(c.safeRemoveChild(d),e&&Ta(e,function(a){c.safeRemoveChild(a)});f&&f.div&&0===f.div.childNodes.length;)d=f.parentGroup,c.safeRemoveChild(f.div),delete f.div,f=d;c.alignTo&&j(c.renderer.alignedObjects,c);for(a in c)delete c[a];return null},shadow:function(a,b,c){var d,e,f,g,h,i,j=[],k=this.element;if(a){for(g=n(a.width,3),h=(a.opacity||.15)/g,i=this.parentInverted?"(-1,-1)":"("+n(a.offsetX,1)+", "+n(a.offsetY,1)+")",d=1;g>=d;d++)e=k.cloneNode(0),f=2*g+1-2*d,l(e,{isShadow:"true",stroke:a.color||"black","stroke-opacity":h*d,"stroke-width":f,transform:"translate"+i,fill:Ka}),c&&(l(e,"height",ma(l(e,"height")-f,0)),e.cutHeight=f),b?b.element.appendChild(e):k.parentNode.insertBefore(e,k),j.push(e);this.shadows=j}return this},xGetter:function(a){return"circle"===this.element.nodeName&&(a={x:"cx",y:"cy"}[a]||a),this._defaultGetter(a)},_defaultGetter:function(a){return a=n(this[a],this.element?this.element.getAttribute(a):null,0),/^[\-0-9\.]+$/.test(a)&&(a=parseFloat(a)),a},dSetter:function(a,b,c){a&&a.join&&(a=a.join(" ")),/(NaN| {2}|^$)/.test(a)&&(a="M 0 0"),c.setAttribute(b,a),this[b]=a},dashstyleSetter:function(a){var b;if(a=a&&a.toLowerCase()){for(a=a.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").replace("solid",1).split(","),b=a.length;b--;)a[b]=c(a[b])*this["stroke-width"];a=a.join(","),this.element.setAttribute("stroke-dasharray",a)}},alignSetter:function(a){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[a])},opacitySetter:function(a,b,c){this[b]=a,c.setAttribute(b,a)},titleSetter:function(a){var b=this.element.getElementsByTagName("title")[0];b||(b=ga.createElementNS(Aa,"title"),this.element.appendChild(b)),b.textContent=a},textSetter:function(a){a!==this.textStr&&(delete this.bBox,this.textStr=a,this.added&&this.renderer.buildText(this))},fillSetter:function(a,b,c){"string"==typeof a?c.setAttribute(b,a):a&&this.colorGradient(a,b,c)},zIndexSetter:function(a,b,c){c.setAttribute(b,a),this[b]=a},_defaultSetter:function(a,b,c){c.setAttribute(b,a)}},F.prototype.yGetter=F.prototype.xGetter,F.prototype.translateXSetter=F.prototype.translateYSetter=F.prototype.rotationSetter=F.prototype.verticalAlignSetter=F.prototype.scaleXSetter=F.prototype.scaleYSetter=function(a,b){this[b]=a,this.doTransform=!0},F.prototype["stroke-widthSetter"]=F.prototype.strokeSetter=function(a,b,c){this[b]=a,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],F.prototype.fillSetter.call(this,this.stroke,"stroke",c),c.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===b&&0===a&&this.hasStroke&&(c.removeAttribute("stroke"),this.hasStroke=!1)};var gb=function(){this.init.apply(this,arguments)};gb.prototype={Element:F,init:function(a,b,c,d,e){var f,g=location,d=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(d));f=d.element,a.appendChild(f),-1===a.innerHTML.indexOf("xmlns")&&l(f,"xmlns",Aa),this.isSVG=!0,this.box=f,this.boxWrapper=d,this.alignedObjects=[],this.url=(ya||xa)&&ga.getElementsByTagName("base").length?g.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(ga.createTextNode("Created with Highcharts 4.0.3")),this.defs=this.createElement("defs").add(),this.forExport=e,this.gradients={},this.cache={},this.setSize(b,c,!1);var h;ya&&a.getBoundingClientRect&&(this.subPixelFix=b=function(){o(a,{left:0,top:0}),h=a.getBoundingClientRect(),o(a,{left:la(h.left)-h.left+"px",top:la(h.top)-h.top+"px"})},b(),Xa(ha,"resize",b))},getStyle:function(b){return this.style=a({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},b)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var a=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),A(this.gradients||{}),this.gradients=null,a&&(this.defs=a.destroy()),this.subPixelFix&&Ya(ha,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(a){var b=new this.Element;return b.init(this,a),b},draw:function(){},buildText:function(a){for(var b,d,e=a.element,f=this,g=f.forExport,h=n(a.textStr,"").toString(),i=-1!==h.indexOf("<"),j=e.childNodes,k=l(e,"x"),m=a.styles,p=a.textWidth,q=m&&m.lineHeight,r=m&&m.HcTextStroke,s=j.length,t=function(a){return q?c(q):f.fontMetrics(/(px|em)$/.test(a&&a.style.fontSize)?a.style.fontSize:m&&m.fontSize||f.style.fontSize||12,a).h};s--;)e.removeChild(j[s]);i||r||-1!==h.indexOf(" ")?(b=/<.*style="([^"]+)".*>/,d=/<.*href="(http[^"]+)".*>/,p&&!a.added&&this.box.appendChild(e),h=i?h.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[h],""===h[h.length-1]&&h.pop(),Ta(h,function(c,h){var i,j=0,c=c.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");i=c.split("|||"),Ta(i,function(c){if(""!==c||1===i.length){var n,q={},r=ga.createElementNS(Aa,"tspan");if(b.test(c)&&(n=c.match(b)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),l(r,"style",n)),d.test(c)&&!g&&(l(r,"onclick",'location.href="'+c.match(d)[1]+'"'),o(r,{cursor:"pointer"})),c=(c.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">")," "!==c){if(r.appendChild(ga.createTextNode(c)),j?q.dx=0:h&&null!==k&&(q.x=k),l(r,q),e.appendChild(r),!j&&h&&(!Ba&&g&&o(r,{display:"block"}),l(r,"dy",t(r))),p)for(var s,u,c=c.replace(/([^\^])-/g,"$1- ").split(" "),q=i.length>1||c.length>1&&"nowrap"!==m.whiteSpace,v=m.HcHeight,w=[],x=t(r),y=1;q&&(c.length||w.length);)delete a.bBox,s=a.getBBox(),u=s.width,!Ba&&f.forExport&&(u=f.measureSpanWidth(r.firstChild.data,a.styles)),s=u>p,s&&1!==c.length?(r.removeChild(r.firstChild),w.unshift(c.pop())):(c=w,w=[],c.length&&(y++,v&&y*x>v?(c=["..."],a.attr("title",a.textStr)):(r=ga.createElementNS(Aa,"tspan"),l(r,{dy:x,x:k}),n&&l(r,"style",n),e.appendChild(r))),u>p&&(p=u)),c.length&&r.appendChild(ga.createTextNode(c.join(" ").replace(/- /g,"-")));j++}}})})):e.appendChild(ga.createTextNode(h))},button:function(c,d,e,f,g,h,i,j,k){var l,m,n,o,p,q,r=this.label(c,d,e,k,null,null,null,null,"button"),s=0,c={x1:0,y1:0,x2:0,y2:1},g=b({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:c,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},g);return n=g.style,delete g.style,h=b(g,{stroke:"#68A",fill:{linearGradient:c,stops:[[0,"#FFF"],[1,"#ACF"]]}},h),o=h.style,delete h.style,i=b(g,{stroke:"#68A",fill:{linearGradient:c,stops:[[0,"#9BD"],[1,"#CDF"]]}},i),p=i.style,delete i.style,j=b(g,{style:{color:"#CCC"}},j),q=j.style,delete j.style,Xa(r.element,va?"mouseover":"mouseenter",function(){3!==s&&r.attr(h).css(o)}),Xa(r.element,va?"mouseout":"mouseleave",function(){3!==s&&(l=[g,h,i][s],m=[n,o,p][s],r.attr(l).css(m))}),r.setState=function(a){(r.state=s=a)?2===a?r.attr(i).css(p):3===a&&r.attr(j).css(q):r.attr(g).css(n)},r.on("click",function(){3!==s&&f.call(r)}).attr(g).css(a({cursor:"default"},n))},crispLine:function(a,b){return a[1]===a[4]&&(a[1]=a[4]=ja(a[1])-b%2/2),a[2]===a[5]&&(a[2]=a[5]=ja(a[2])+b%2/2),a},path:function(b){var c={fill:Ka};return f(b)?c.d=b:e(b)&&a(c,b),this.createElement("path").attr(c)},circle:function(a,b,c){return a=e(a)?a:{x:a,y:b,r:c},b=this.createElement("circle"),b.xSetter=function(a){this.element.setAttribute("cx",a)},b.ySetter=function(a){this.element.setAttribute("cy",a)},b.attr(a)},arc:function(a,b,c,d,f,g){return e(a)&&(b=a.y,c=a.r,d=a.innerR,f=a.start,g=a.end,a=a.x),a=this.symbol("arc",a||0,b||0,c||0,c||0,{innerR:d||0,start:f||0,end:g||0}),a.r=c,a},rect:function(a,b,c,d,f,g){var f=e(a)?a.r:f,h=this.createElement("rect"),a=e(a)?a:a===K?{}:{x:a,y:b,width:ma(c,0),height:ma(d,0)};return g!==K&&(a.strokeWidth=g,a=h.crisp(a)),f&&(a.r=f),h.rSetter=function(a){l(this.element,{rx:a,ry:a})},h.attr(a)},setSize:function(a,b,c){var d=this.alignedObjects,e=d.length;for(this.width=a,this.height=b,this.boxWrapper[n(c,!0)?"animate":"attr"]({width:a,height:b});e--;)d[e].align()},g:function(a){var b=this.createElement("g");return k(a)?b.attr({"class":"highcharts-"+a}):b},image:function(b,c,d,e,f){var g={preserveAspectRatio:Ka};return arguments.length>1&&a(g,{x:c,y:d,width:e,height:f}),g=this.createElement("image").attr(g),g.element.setAttributeNS?g.element.setAttributeNS("http://www.w3.org/1999/xlink","href",b):g.element.setAttribute("hc-svg-href",b),g},symbol:function(b,c,d,e,f,g){var h,i,j,k=this.symbols[b],k=k&&k(ja(c),ja(d),e,f,g),l=/^url\((.*?)\)$/;return k?(h=this.path(k),a(h,{symbolName:b,x:c,y:d,width:e,height:f}),g&&a(h,g)):l.test(b)&&(j=function(a,b){a.element&&(a.attr({width:b[0],height:b[1]}),a.alignByTranslate||a.translate(ja((e-b[0])/2),ja((f-b[1])/2)))},i=b.match(l)[1],b=Ea[i],h=this.image(i).attr({x:c,y:d}),h.isImg=!0,b?j(h,b):(h.attr({width:0,height:0}),p("img",{onload:function(){j(h,Ea[i]=[this.width,this.height])},src:i}))),h},symbols:{circle:function(a,b,c,d){var e=.166*c;return["M",a+c/2,b,"C",a+c+e,b,a+c+e,b+d,a+c/2,b+d,"C",a-e,b+d,a-e,b,a+c/2,b,"Z"]},square:function(a,b,c,d){return["M",a,b,"L",a+c,b,a+c,b+d,a,b+d,"Z"]},triangle:function(a,b,c,d){return["M",a+c/2,b,"L",a+c,b+d,a,b+d,"Z"]},"triangle-down":function(a,b,c,d){return["M",a,b,"L",a+c,b,a+c/2,b+d,"Z"]},diamond:function(a,b,c,d){return["M",a+c/2,b,"L",a+c,b+d/2,a+c/2,b+d,a,b+d/2,"Z"]},arc:function(a,b,c,d,e){var f=e.start,c=e.r||c||d,g=e.end-.001,d=e.innerR,h=e.open,i=pa(f),j=qa(f),k=pa(g),g=qa(g),e=e.end-f<ra?0:1;return["M",a+c*i,b+c*j,"A",c,c,0,e,1,a+c*k,b+c*g,h?"M":"L",a+d*k,b+d*g,"A",d,d,0,e,0,a+d*i,b+d*j,h?"":"Z"]},callout:function(a,b,c,d,e){var f=na(e&&e.r||0,c,d),g=f+6,h=e&&e.anchorX,i=e&&e.anchorY,e=ja(e.strokeWidth||0)%2/2;return a+=e,b+=e,e=["M",a+f,b,"L",a+c-f,b,"C",a+c,b,a+c,b,a+c,b+f,"L",a+c,b+d-f,"C",a+c,b+d,a+c,b+d,a+c-f,b+d,"L",a+f,b+d,"C",a,b+d,a,b+d,a,b+d-f,"L",a,b+f,"C",a,b,a,b,a+f,b],h&&h>c&&i>b+g&&b+d-g>i?e.splice(13,3,"L",a+c,i-6,a+c+6,i,a+c,i+6,a+c,b+d-f):h&&0>h&&i>b+g&&b+d-g>i?e.splice(33,3,"L",a,i+6,a-6,i,a,i-6,a,b+f):i&&i>d&&h>a+g&&a+c-g>h?e.splice(23,3,"L",h+6,b+d,h,b+d+6,h-6,b+d,a+f,b+d):i&&0>i&&h>a+g&&a+c-g>h&&e.splice(3,3,"L",h-6,b,h,b-6,h+6,b,c-f,b),e}},clipRect:function(a,b,c,d){var e="highcharts-"+Fa++,f=this.createElement("clipPath").attr({id:e}).add(this.defs),a=this.rect(a,b,c,d,0).add(f);return a.id=e,a.clipPath=f,a},text:function(a,b,c,d){var e=Da||!Ba&&this.forExport,f={};return d&&!this.forExport?this.html(a,b,c):(f.x=Math.round(b||0),c&&(f.y=Math.round(c)),(a||0===a)&&(f.text=a),a=this.createElement("text").attr(f),e&&a.css({position:"absolute"}),d||(a.xSetter=function(a,b,c){var d,e,f=c.getElementsByTagName("tspan"),g=c.getAttribute(b);for(e=0;e<f.length;e++)d=f[e],d.getAttribute(b)===g&&d.setAttribute(b,a);c.setAttribute(b,a)}),a)},fontMetrics:function(a,b){a=a||this.style.fontSize,b&&ha.getComputedStyle&&(b=b.element||b,a=ha.getComputedStyle(b,"").fontSize);var a=/px/.test(a)?c(a):/em/.test(a)?12*parseFloat(a):12,d=24>a?a+4:ja(1.2*a),e=ja(.8*d);return{h:d,b:e,f:a}},label:function(c,d,e,f,g,h,i,j,l){function m(){var b,c;b=z.element.style,q=(void 0===r||void 0===s||y.styles.textAlign)&&z.textStr&&z.getBBox(),y.width=(r||q.width||0)+2*B+C,y.height=(s||q.height||0)+2*B,v=B+x.fontMetrics(b&&b.fontSize,z).b,w&&(p||(b=ja(-A*B),c=j?-v:0,y.box=p=f?x.symbol(f,b,c,y.width,y.height,E):x.rect(b,c,y.width,y.height,0,E[Ma]),p.attr("fill",Ka).add(y)),p.isImg||p.attr(a({width:ja(y.width),height:ja(y.height)},E)),E=null)}function n(){var a,b=y.styles,b=b&&b.textAlign,c=C+B*(1-A);a=j?0:v,k(r)&&q&&("center"===b||"right"===b)&&(c+={center:.5,right:1}[b]*(r-q.width)),(c!==z.x||a!==z.y)&&(z.attr("x",c),a!==K&&z.attr("y",a)),z.x=c,z.y=a}function o(a,b){p?p.attr(a,b):E[a]=b}var p,q,r,s,t,u,v,w,x=this,y=x.g(l),z=x.text("",0,0,i).attr({zIndex:1}),A=0,B=3,C=0,D=0,E={};y.onAdd=function(){z.add(y),y.attr({text:c||"",x:d,y:e}),p&&k(g)&&y.attr({anchorX:g,anchorY:h})},y.widthSetter=function(a){r=a},y.heightSetter=function(a){s=a},y.paddingSetter=function(a){k(a)&&a!==B&&(B=a,n())},y.paddingLeftSetter=function(a){k(a)&&a!==C&&(C=a,n())},y.alignSetter=function(a){A={left:0,center:.5,right:1}[a]},y.textSetter=function(a){a!==K&&z.textSetter(a),m(),n()},y["stroke-widthSetter"]=function(a,b){a&&(w=!0),D=a%2/2,o(b,a)},y.strokeSetter=y.fillSetter=y.rSetter=function(a,b){"fill"===b&&a&&(w=!0),o(b,a)},y.anchorXSetter=function(a,b){g=a,o(b,a+D-t)},y.anchorYSetter=function(a,b){h=a,o(b,a-u)},y.xSetter=function(a){y.x=a,A&&(a-=A*((r||q.width)+B)),t=ja(a),y.attr("translateX",t)},y.ySetter=function(a){u=y.y=ja(a),y.attr("translateY",u)};var G=y.css;return a(y,{css:function(a){if(a){var c={},a=b(a);Ta(y.textProps,function(b){a[b]!==K&&(c[b]=a[b],delete a[b])}),z.css(c)}return G.call(y,a)},getBBox:function(){return{width:q.width+2*B,height:q.height+2*B,x:q.x-B,y:q.y-B}},shadow:function(a){return p&&p.shadow(a),y},destroy:function(){Ya(y.element,"mouseenter"),Ya(y.element,"mouseleave"),z&&(z=z.destroy()),p&&(p=p.destroy()),F.prototype.destroy.call(y),y=x=m=n=o=null}})}},L=gb,a(F.prototype,{htmlCss:function(b){var c=this.element;return(c=b&&"SPAN"===c.tagName&&b.width)&&(delete b.width,this.textWidth=c,this.updateTransform()),this.styles=a(this.styles,b),o(this.element,b),this},htmlGetBBox:function(){var a=this.element,b=this.bBox;return b||("text"===a.nodeName&&(a.style.position="absolute"),
b=this.bBox={x:a.offsetLeft,y:a.offsetTop,width:a.offsetWidth,height:a.offsetHeight}),b},htmlUpdateTransform:function(){if(this.added){var a=this.renderer,b=this.element,d=this.translateX||0,e=this.translateY||0,f=this.x||0,g=this.y||0,h=this.textAlign||"left",i={left:0,center:.5,right:1}[h],j=this.shadows;if(o(b,{marginLeft:d,marginTop:e}),j&&Ta(j,function(a){o(a,{marginLeft:d+1,marginTop:e+1})}),this.inverted&&Ta(b.childNodes,function(c){a.invertChild(c,b)}),"SPAN"===b.tagName){var l,m=this.rotation,p=c(this.textWidth),q=[m,h,b.innerHTML,this.textWidth].join(",");q!==this.cTT&&(l=a.fontMetrics(b.style.fontSize).b,k(m)&&this.setSpanRotation(m,i,l),j=n(this.elemWidth,b.offsetWidth),j>p&&/[ \-]/.test(b.textContent||b.innerText)&&(o(b,{width:p+"px",display:"block",whiteSpace:"normal"}),j=p),this.getSpanCorrection(j,l,i,m,h)),o(b,{left:f+(this.xCorr||0)+"px",top:g+(this.yCorr||0)+"px"}),xa&&(l=b.offsetHeight),this.cTT=q}}else this.alignOnAdd=!0},setSpanRotation:function(a,b,c){var d={},e=va?"-ms-transform":xa?"-webkit-transform":ya?"MozTransform":ua?"-o-transform":"";d[e]=d.transform="rotate("+a+"deg)",d[e+(ya?"Origin":"-origin")]=d.transformOrigin=100*b+"% "+c+"px",o(this.element,d)},getSpanCorrection:function(a,b,c){this.xCorr=-a*c,this.yCorr=-b}}),a(gb.prototype,{html:function(b,c,d){var e=this.createElement("span"),f=e.element,g=e.renderer;return e.textSetter=function(a){a!==f.innerHTML&&delete this.bBox,f.innerHTML=this.textStr=a},e.xSetter=e.ySetter=e.alignSetter=e.rotationSetter=function(a,b){"align"===b&&(b="textAlign"),e[b]=a,e.htmlUpdateTransform()},e.attr({text:b,x:ja(c),y:ja(d)}).css({position:"absolute",whiteSpace:"nowrap",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),e.css=e.htmlCss,g.isSVG&&(e.add=function(b){var c,d=g.box.parentNode,h=[];if(this.parentGroup=b){if(c=b.div,!c){for(;b;)h.push(b),b=b.parentGroup;Ta(h.reverse(),function(b){var e;c=b.div=b.div||p(Ja,{className:l(b.element,"class")},{position:"absolute",left:(b.translateX||0)+"px",top:(b.translateY||0)+"px"},c||d),e=c.style,a(b,{translateXSetter:function(a,c){e.left=a+"px",b[c]=a,b.doTransform=!0},translateYSetter:function(a,c){e.top=a+"px",b[c]=a,b.doTransform=!0},visibilitySetter:function(a,b){e[b]=a}})})}}else c=d;return c.appendChild(f),e.added=!0,e.alignOnAdd&&e.htmlUpdateTransform(),e}),e}});var hb;if(!Ba&&!Da){hb={init:function(a,b){var c=["<",b,' filled="f" stroked="f"'],d=["position: ","absolute",";"],e=b===Ja;("shape"===b||e)&&d.push("left:0;top:0;width:1px;height:1px;"),d.push("visibility: ",e?"hidden":"visible"),c.push(' style="',d.join(""),'"/>'),b&&(c=e||"span"===b||"img"===b?c.join(""):a.prepVML(c),this.element=p(c)),this.renderer=a},add:function(a){var b=this.renderer,c=this.element,d=b.box,d=a?a.element||a:d;return a&&a.inverted&&b.invertChild(c,d),d.appendChild(c),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this},updateTransform:F.prototype.htmlUpdateTransform,setSpanRotation:function(){var a=this.rotation,b=pa(a*sa),c=qa(a*sa);o(this.element,{filter:a?["progid:DXImageTransform.Microsoft.Matrix(M11=",b,", M12=",-c,", M21=",c,", M22=",b,", sizingMethod='auto expand')"].join(""):Ka})},getSpanCorrection:function(a,b,c,d,e){var f,g=d?pa(d*sa):1,h=d?qa(d*sa):0,i=n(this.elemHeight,this.element.offsetHeight);this.xCorr=0>g&&-a,this.yCorr=0>h&&-i,f=0>g*h,this.xCorr+=h*b*(f?1-c:c),this.yCorr-=g*b*(d?f?c:1-c:1),e&&"left"!==e&&(this.xCorr-=a*c*(0>g?-1:1),d&&(this.yCorr-=i*c*(0>h?-1:1)),o(this.element,{textAlign:e}))},pathToVML:function(a){for(var b=a.length,c=[];b--;)g(a[b])?c[b]=ja(10*a[b])-5:"Z"===a[b]?c[b]="x":(c[b]=a[b],!a.isArc||"wa"!==a[b]&&"at"!==a[b]||(c[b+5]===c[b+7]&&(c[b+7]+=a[b+7]>a[b+5]?1:-1),c[b+6]===c[b+8]&&(c[b+8]+=a[b+8]>a[b+6]?1:-1)));return c.join(" ")||"x"},clip:function(a){var b,c=this;return a?(b=a.members,j(b,c),b.push(c),c.destroyClip=function(){j(b,c)},a=a.getCSS(c)):(c.destroyClip&&c.destroyClip(),a={clip:wa?"inherit":"rect(auto)"}),c.css(a)},css:F.prototype.htmlCss,safeRemoveChild:function(a){a.parentNode&&B(a)},destroy:function(){return this.destroyClip&&this.destroyClip(),F.prototype.destroy.apply(this)},on:function(a,b){return this.element["on"+a]=function(){var a=ha.event;a.target=a.srcElement,b(a)},this},cutOffPath:function(a,b){var d,a=a.split(/[ ,]/);return d=a.length,(9===d||11===d)&&(a[d-4]=a[d-2]=c(a[d-2])-10*b),a.join(" ")},shadow:function(a,b,d){var e,f,g,h,i,j,k,l=[],m=this.element,o=this.renderer,q=m.style,r=m.path;if(r&&"string"!=typeof r.value&&(r="x"),i=r,a){for(j=n(a.width,3),k=(a.opacity||.15)/j,e=1;3>=e;e++)h=2*j+1-2*e,d&&(i=this.cutOffPath(r.value,h+.5)),g=['<shape isShadow="true" strokeweight="',h,'" filled="false" path="',i,'" coordsize="10 10" style="',m.style.cssText,'" />'],f=p(o.prepVML(g),null,{left:c(q.left)+n(a.offsetX,1),top:c(q.top)+n(a.offsetY,1)}),d&&(f.cutOff=h+1),g=['<stroke color="',a.color||"black",'" opacity="',k*e,'"/>'],p(o.prepVML(g),null,null,f),b?b.element.appendChild(f):m.parentNode.insertBefore(f,m),l.push(f);this.shadows=l}return this},updateShadows:Ga,setAttr:function(a,b){wa?this.element[a]=b:this.element.setAttribute(a,b)},classSetter:function(a){this.element.className=a},dashstyleSetter:function(a,b,c){(c.getElementsByTagName("stroke")[0]||p(this.renderer.prepVML(["<stroke/>"]),null,null,c))[b]=a||"solid",this[b]=a},dSetter:function(a,b,c){var d=this.shadows,a=a||[];if(this.d=a.join&&a.join(" "),c.path=a=this.pathToVML(a),d)for(c=d.length;c--;)d[c].path=d[c].cutOff?this.cutOffPath(a,d[c].cutOff):a;this.setAttr(b,a)},fillSetter:function(a,b,c){var d=c.nodeName;"SPAN"===d?c.style.color=a:"IMG"!==d&&(c.filled=a!==Ka,this.setAttr("fillcolor",this.renderer.color(a,c,b,this)))},opacitySetter:Ga,rotationSetter:function(a,b,c){c=c.style,this[b]=c[b]=a,c.left=-ja(qa(a*sa)+1)+"px",c.top=ja(pa(a*sa))+"px"},strokeSetter:function(a,b,c){this.setAttr("strokecolor",this.renderer.color(a,c,b))},"stroke-widthSetter":function(a,b,c){c.stroked=!!a,this[b]=a,g(a)&&(a+="px"),this.setAttr("strokeweight",a)},titleSetter:function(a,b){this.setAttr(b,a)},visibilitySetter:function(a,b,c){"inherit"===a&&(a="visible"),this.shadows&&Ta(this.shadows,function(c){c.style[b]=a}),"DIV"===c.nodeName&&(a="hidden"===a?"-999em":0,wa||(c.style[b]=a?"visible":"hidden"),b="top"),c.style[b]=a},xSetter:function(a,b,c){this[b]=a,"x"===b?b="left":"y"===b&&(b="top"),this.updateClipping?(this[b]=a,this.updateClipping()):c.style[b]=a},zIndexSetter:function(a,b,c){c.style[b]=a}},fa.VMLElement=hb=q(F,hb),hb.prototype.ySetter=hb.prototype.widthSetter=hb.prototype.heightSetter=hb.prototype.xSetter;var ib={Element:hb,isIE8:ta.indexOf("MSIE 8.0")>-1,init:function(b,c,d,e){var f;if(this.alignedObjects=[],e=this.createElement(Ja).css(a(this.getStyle(e),{position:"relative"})),f=e.element,b.appendChild(e.element),this.isVML=!0,this.box=f,this.boxWrapper=e,this.cache={},this.setSize(c,d,!1),!ga.namespaces.hcv){ga.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{ga.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(g){ga.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(b,c,d,f){var g=this.createElement(),h=e(b);return a(g,{members:[],left:(h?b.x:b)+1,top:(h?b.y:c)+1,width:(h?b.width:d)-1,height:(h?b.height:f)-1,getCSS:function(b){var c=b.element,d=c.nodeName,b=b.inverted,e=this.top-("shape"===d?c.offsetTop:0),f=this.left,c=f+this.width,g=e+this.height,e={clip:"rect("+ja(b?f:e)+"px,"+ja(b?g:c)+"px,"+ja(b?c:g)+"px,"+ja(b?e:f)+"px)"};return!b&&wa&&"DIV"===d&&a(e,{width:c+"px",height:g+"px"}),e},updateClipping:function(){Ta(g.members,function(a){a.element&&a.css(g.getCSS(a))})}})},color:function(a,b,c,d){var e,f,g,h=this,i=/^rgba/,j=Ka;if(a&&a.linearGradient?g="gradient":a&&a.radialGradient&&(g="pattern"),g){var k,l,m,n,o,q,r,s,t=a.linearGradient||a.radialGradient,u="",a=a.stops,v=[],w=function(){f=['<fill colors="'+v.join(",")+'" opacity="',o,'" o:opacity2="',n,'" type="',g,'" ',u,'focus="100%" method="any" />'],p(h.prepVML(f),null,null,b)};if(m=a[0],s=a[a.length-1],m[0]>0&&a.unshift([0,m[1]]),s[0]<1&&a.push([1,s[1]]),Ta(a,function(a,b){i.test(a[1])?(e=fb(a[1]),k=e.get("rgb"),l=e.get("a")):(k=a[1],l=1),v.push(100*a[0]+"% "+k),b?(o=l,q=k):(n=l,r=k)}),"fill"===c)if("gradient"===g)c=t.x1||t[0]||0,a=t.y1||t[1]||0,m=t.x2||t[2]||0,t=t.y2||t[3]||0,u='angle="'+(90-180*ia.atan((t-a)/(m-c))/ra)+'"',w();else{var x,j=t.r,y=2*j,z=2*j,A=t.cx,B=t.cy,C=b.radialReference,j=function(){C&&(x=d.getBBox(),A+=(C[0]-x.x)/x.width-.5,B+=(C[1]-x.y)/x.height-.5,y*=C[2]/x.width,z*=C[2]/x.height),u='src="'+O.global.VMLRadialGradientURL+'" size="'+y+","+z+'" origin="0.5,0.5" position="'+A+","+B+'" color2="'+r+'" ',w()};d.added?j():d.onAdd=j,j=q}else j=k}else i.test(a)&&"IMG"!==b.tagName?(e=fb(a),f=["<",c,' opacity="',e.get("a"),'"/>'],p(this.prepVML(f),null,null,b),j=e.get("rgb")):(j=b.getElementsByTagName(c),j.length&&(j[0].opacity=1,j[0].type="solid"),j=a);return j},prepVML:function(a){var b=this.isIE8,a=a.join("");return b?(a=a.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),a=-1===a.indexOf('style="')?a.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):a.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):a=a.replace("<","<hcv:"),a},text:gb.prototype.html,path:function(b){var c={coordsize:"10 10"};return f(b)?c.d=b:e(b)&&a(c,b),this.createElement("shape").attr(c)},circle:function(a,b,c){var d=this.symbol("circle");return e(a)&&(c=a.r,b=a.y,a=a.x),d.isCircle=!0,d.r=c,d.attr({x:a,y:b})},g:function(a){var b;return a&&(b={className:"highcharts-"+a,"class":"highcharts-"+a}),this.createElement(Ja).attr(b)},image:function(a,b,c,d,e){var f=this.createElement("img").attr({src:a});return arguments.length>1&&f.attr({x:b,y:c,width:d,height:e}),f},createElement:function(a){return"rect"===a?this.symbol(a):gb.prototype.createElement.call(this,a)},invertChild:function(a,b){var d=this,e=b.style,f="IMG"===a.tagName&&a.style;o(a,{flip:"x",left:c(e.width)-(f?c(f.top):1),top:c(e.height)-(f?c(f.left):1),rotation:-90}),Ta(a.childNodes,function(b){d.invertChild(b,a)})},symbols:{arc:function(a,b,c,d,e){var f=e.start,g=e.end,h=e.r||c||d,c=e.innerR,d=pa(f),i=qa(f),j=pa(g),k=qa(g);return g-f===0?["x"]:(f=["wa",a-h,b-h,a+h,b+h,a+h*d,b+h*i,a+h*j,b+h*k],e.open&&!c&&f.push("e","M",a,b),f.push("at",a-c,b-c,a+c,b+c,a+c*j,b+c*k,a+c*d,b+c*i,"x","e"),f.isArc=!0,f)},circle:function(a,b,c,d,e){return e&&(c=d=2*e.r),e&&e.isCircle&&(a-=c/2,b-=d/2),["wa",a,b,a+c,b+d,a+c,b+d/2,a+c,b+d/2,"e"]},rect:function(a,b,c,d,e){return gb.prototype.symbols[k(e)&&e.r?"callout":"square"].call(0,a,b,c,d,e)}}};fa.VMLRenderer=hb=function(){this.init.apply(this,arguments)},hb.prototype=b(gb.prototype,ib),L=hb}gb.prototype.measureSpanWidth=function(a,b){var c,d=ga.createElement("span");return c=ga.createTextNode(a),d.appendChild(c),o(d,b),this.box.appendChild(d),c=d.offsetWidth,B(d),c};var jb;Da&&(fa.CanVGRenderer=hb=function(){Aa="http://www.w3.org/1999/xhtml"},hb.prototype.symbols={},jb=function(){function a(){var a,c=b.length;for(a=0;c>a;a++)b[a]();b=[]}var b=[];return{push:function(c,d){0===b.length&&Ra(d,a),b.push(c)}}}(),L=hb),G.prototype={addLabel:function(){var b,c=this.axis,d=c.options,e=c.chart,f=c.horiz,h=c.categories,j=c.names,l=this.pos,m=d.labels,o=m.rotation,p=c.tickPositions,f=f&&h&&!m.step&&!m.staggerLines&&!m.rotation&&e.plotWidth/p.length||!f&&(e.margin[3]||.33*e.chartWidth),q=l===p[0],r=l===p[p.length-1],j=h?n(h[l],j[l],l):l,h=this.label,s=p.info;c.isDatetimeAxis&&s&&(b=d.dateTimeLabelFormats[s.higherRanks[l]||s.unitName]),this.isFirst=q,this.isLast=r,d=c.labelFormatter.call({axis:c,chart:e,isFirst:q,isLast:r,dateTimeLabelFormat:b,value:c.isLog?C(i(j)):j}),l=f&&{width:ma(1,ja(f-2*(m.padding||10)))+"px"},l=a(l,m.style),k(h)?h&&h.attr({text:d}).css(l):(b={align:c.labelAlign},g(o)&&(b.rotation=o),f&&m.ellipsis&&(l.HcHeight=c.len/p.length),this.label=h=k(d)&&m.enabled?e.renderer.text(d,0,0,m.useHTML).attr(b).css(l).add(c.labelGroup):null,c.tickBaseline=e.renderer.fontMetrics(m.style.fontSize,h).b,o&&2===c.side&&(c.tickBaseline*=pa(o*sa))),this.yOffset=h?n(m.y,c.tickBaseline+(2===c.side?8:-(h.getBBox().height/2))):0},getLabelSize:function(){var a=this.label,b=this.axis;return a?a.getBBox()[b.horiz?"height":"width"]:0},getLabelSides:function(){var a=this.label.getBBox(),b=this.axis,c=b.horiz,d=b.options.labels,a=c?a.width:a.height,b=c?d.x-a*{left:0,center:.5,right:1}[b.labelAlign]:0;return[b,c?a+b:a]},handleOverflow:function(a,b){var c,d,e,f=!0,g=this.axis,h=this.isFirst,i=this.isLast,j=g.horiz?b.x:b.y,k=g.reversed,l=g.tickPositions,m=this.getLabelSides(),n=m[0],m=m[1],o=this.label.line||0;if(c=g.labelEdge,d=g.justifyLabels&&(h||i),c[o]===K||j+n>c[o]?c[o]=j+m:d||(f=!1),d){c=(d=g.justifyToPlot)?g.pos:0,d=d?c+g.len:g.chart.chartWidth;do a+=h?1:-1,e=g.ticks[l[a]];while(l[a]&&(!e||!e.label||e.label.line!==o));g=e&&e.label.xy&&e.label.xy.x+e.getLabelSides()[h?0:1],h&&!k||i&&k?c>j+n&&(j=c-n,e&&j+m>g&&(f=!1)):j+m>d&&(j=d-m,e&&g>j+n&&(f=!1)),b.x=j}return f},getPosition:function(a,b,c,d){var e=this.axis,f=e.chart,g=d&&f.oldChartHeight||f.chartHeight;return{x:a?e.translate(b+c,null,null,d)+e.transB:e.left+e.offset+(e.opposite?(d&&f.oldChartWidth||f.chartWidth)-e.right-e.left:0),y:a?g-e.bottom+e.offset-(e.opposite?e.height:0):g-e.translate(b+c,null,null,d)-e.transB}},getLabelPosition:function(a,b,c,d,e,f,g,h){var i=this.axis,j=i.transA,k=i.reversed,l=i.staggerLines,a=a+e.x-(f&&d?f*j*(k?-1:1):0),b=b+this.yOffset-(f&&!d?f*j*(k?1:-1):0);return l&&(c.line=g/(h||1)%l,b+=c.line*(i.labelOffset/l)),{x:a,y:b}},getMarkPath:function(a,b,c,d,e,f){return f.crispLine(["M",a,b,"L",a+(e?0:-c),b+(e?c:0)],d)},render:function(a,b,c){var d=this.axis,e=d.options,f=d.chart.renderer,g=d.horiz,h=this.type,i=this.label,j=this.pos,k=e.labels,l=this.gridLine,m=h?h+"Grid":"grid",o=h?h+"Tick":"tick",p=e[m+"LineWidth"],q=e[m+"LineColor"],r=e[m+"LineDashStyle"],s=e[o+"Length"],m=e[o+"Width"]||0,t=e[o+"Color"],u=e[o+"Position"],o=this.mark,v=k.step,w=!0,x=d.tickmarkOffset,y=this.getPosition(g,j,x,b),z=y.x,y=y.y,A=g&&z===d.pos+d.len||!g&&y===d.pos?-1:1,c=n(c,1);this.isActive=!0,p&&(j=d.getPlotLinePath(j+x,p*A,b,!0),l===K&&(l={stroke:q,"stroke-width":p},r&&(l.dashstyle=r),h||(l.zIndex=1),b&&(l.opacity=0),this.gridLine=l=p?f.path(j).attr(l).add(d.gridGroup):null),!b&&l&&j&&l[this.isNew?"attr":"animate"]({d:j,opacity:c})),m&&s&&("inside"===u&&(s=-s),d.opposite&&(s=-s),h=this.getMarkPath(z,y,s,m*A,g,f),o?o.animate({d:h,opacity:c}):this.mark=f.path(h).attr({stroke:t,"stroke-width":m,opacity:c}).add(d.axisGroup)),i&&!isNaN(z)&&(i.xy=y=this.getLabelPosition(z,y,i,g,k,x,a,v),this.isFirst&&!this.isLast&&!n(e.showFirstLabel,1)||this.isLast&&!this.isFirst&&!n(e.showLastLabel,1)?w=!1:!d.isRadial&&!k.step&&!k.rotation&&!b&&0!==c&&(w=this.handleOverflow(a,y)),v&&a%v&&(w=!1),w&&!isNaN(y.y)?(y.opacity=c,i[this.isNew?"attr":"animate"](y),this.isNew=!1):i.attr("y",-9999))},destroy:function(){A(this,this.axis)}},fa.PlotLineOrBand=function(a,b){this.axis=a,b&&(this.options=b,this.id=b.id)},fa.PlotLineOrBand.prototype={render:function(){var a,c=this,d=c.axis,e=d.horiz,f=(d.pointRange||0)/2,g=c.options,i=g.label,j=c.label,l=g.width,m=g.to,n=g.from,o=k(n)&&k(m),p=g.value,q=g.dashStyle,r=c.svgElem,s=[],t=g.color,u=g.zIndex,v=g.events,w={},x=d.chart.renderer;if(d.isLog&&(n=h(n),m=h(m),p=h(p)),l)s=d.getPlotLinePath(p,l),w={stroke:t,"stroke-width":l},q&&(w.dashstyle=q);else{if(!o)return;n=ma(n,d.min-f),m=na(m,d.max+f),s=d.getPlotBandPath(n,m,g),t&&(w.fill=t),g.borderWidth&&(w.stroke=g.borderColor,w["stroke-width"]=g.borderWidth)}if(k(u)&&(w.zIndex=u),r)s?r.animate({d:s},null,r.onGetPath):(r.hide(),r.onGetPath=function(){r.show()},j&&(c.label=j=j.destroy()));else if(s&&s.length&&(c.svgElem=r=x.path(s).attr(w).add(),v))for(a in f=function(a){r.on(a,function(b){v[a].apply(c,[b])})},v)f(a);return i&&k(i.text)&&s&&s.length&&d.width>0&&d.height>0?(i=b({align:e&&o&&"center",x:e?!o&&4:10,verticalAlign:!e&&o&&"middle",y:e?o?16:10:o?6:-4,rotation:e&&!o&&90},i),j||(w={align:i.textAlign||i.align,rotation:i.rotation},k(u)&&(w.zIndex=u),c.label=j=x.text(i.text,0,0,i.useHTML).attr(w).css(i.style).add()),d=[s[1],s[4],o?s[6]:s[1]],o=[s[2],s[5],o?s[7]:s[2]],s=y(d),e=y(o),j.align(i,!1,{x:s,y:e,width:z(d)-s,height:z(o)-e}),j.show()):j&&j.hide(),c},destroy:function(){j(this.axis.plotLinesAndBands,this),delete this.axis,A(this)}},H.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:Pa,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return r(this.total,-1)},style:Pa.style}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-15},title:{rotation:0}},init:function(a,b){var c=b.isX;this.horiz=a.inverted?!c:c,this.coll=(this.isXAxis=c)?"xAxis":"yAxis",this.opposite=b.opposite,this.side=b.side||(this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(b);var d=this.options,e=d.type;this.labelFormatter=d.labels.formatter||this.defaultLabelFormatter,this.userOptions=b,this.minPixelPadding=0,this.chart=a,this.reversed=d.reversed,this.zoomEnabled=d.zoomEnabled!==!1,this.categories=d.categories||"category"===e,this.names=[],this.isLog="logarithmic"===e,this.isDatetimeAxis="datetime"===e,this.isLinked=k(d.linkedTo),this.tickmarkOffset=this.categories&&"between"===d.tickmarkPlacement?.5:0,this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=d.minRange||d.maxZoom,this.range=d.range,this.offset=d.offset||0,this.stacks={},this.oldStacks={},this.min=this.max=null,this.crosshair=n(d.crosshair,m(a.options.tooltip.crosshairs)[c?0:1],!1);var f,d=this.options.events;-1===Sa(this,a.axes)&&(c&&!this.isColorAxis?a.axes.splice(a.xAxis.length,0,this):a.axes.push(this),a[this.coll].push(this)),this.series=this.series||[],a.inverted&&c&&this.reversed===K&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(f in d)Xa(this,f,d[f]);this.isLog&&(this.val2lin=h,this.lin2val=i)},setOptions:function(a){this.options=b(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],b(O[this.coll],a))},defaultLabelFormatter:function(){var a,b=this.axis,c=this.value,d=b.categories,e=this.dateTimeLabelFormat,f=O.lang.numericSymbols,g=f&&f.length,h=b.options.labels.format,b=b.isLog?c:b.tickInterval;if(h)a=u(h,this);else if(d)a=c;else if(e)a=P(e,c);else if(g&&b>=1e3)for(;g--&&a===K;)d=Math.pow(1e3,g+1),b>=d&&null!==f[g]&&(a=r(c/d,-1)+f[g]);return a===K&&(a=oa(c)>=1e4?r(c,0):r(c,-1,K,"")),a},getSeriesExtremes:function(){var a=this,b=a.chart;a.hasVisibleSeries=!1,a.dataMin=a.dataMax=null,a.buildStacks&&a.buildStacks(),Ta(a.series,function(c){if(c.visible||!b.options.chart.ignoreHiddenSeries){var d;d=c.options.threshold;var e;a.hasVisibleSeries=!0,a.isLog&&0>=d&&(d=null),a.isXAxis?(d=c.xData,d.length&&(a.dataMin=na(n(a.dataMin,d[0]),y(d)),a.dataMax=ma(n(a.dataMax,d[0]),z(d)))):(c.getExtremes(),e=c.dataMax,c=c.dataMin,k(c)&&k(e)&&(a.dataMin=na(n(a.dataMin,c),c),a.dataMax=ma(n(a.dataMax,e),e)),k(d)&&(a.dataMin>=d?(a.dataMin=d,a.ignoreMinPadding=!0):a.dataMax<d&&(a.dataMax=d,a.ignoreMaxPadding=!0)))}})},translate:function(a,b,c,d,e,f){var h=1,i=0,j=d?this.oldTransA:this.transA,d=d?this.oldMin:this.min,k=this.minPixelPadding,e=(this.options.ordinal||this.isLog&&e)&&this.lin2val;return j||(j=this.transA),c&&(h*=-1,i=this.len),this.reversed&&(h*=-1,i-=h*(this.sector||this.len)),b?(a=a*h+i,a-=k,a=a/j+d,e&&(a=this.lin2val(a))):(e&&(a=this.val2lin(a)),"between"===f&&(f=.5),a=h*(a-d)*j+i+h*k+(g(f)?j*f*this.pointRange:0)),a},toPixels:function(a,b){return this.translate(a,!1,!this.horiz,null,!0)+(b?0:this.pos)},toValue:function(a,b){return this.translate(a-(b?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(a,b,c,d,e){var f,g,h,i=this.chart,j=this.left,k=this.top,l=c&&i.oldChartHeight||i.chartHeight,m=c&&i.oldChartWidth||i.chartWidth;return f=this.transB,e=n(e,this.translate(a,null,null,c)),a=c=ja(e+f),f=g=ja(l-e-f),isNaN(e)?h=!0:this.horiz?(f=k,g=l-this.bottom,(j>a||a>j+this.width)&&(h=!0)):(a=j,c=m-this.right,(k>f||f>k+this.height)&&(h=!0)),h&&!d?null:i.renderer.crispLine(["M",a,f,"L",c,g],b||1)},getLinearTickPositions:function(a,b,c){var d,e=C(ka(b/a)*a),f=C(la(c/a)*a),h=[];if(b===c&&g(b))return[b];for(b=e;f>=b&&(h.push(b),b=C(b+a),b!==d);)d=b;return h},getMinorTickPositions:function(){var a,b=this.options,c=this.tickPositions,d=this.minorTickInterval,e=[];if(this.isLog)for(a=c.length,b=1;a>b;b++)e=e.concat(this.getLogTickPositions(d,c[b-1],c[b],!0));else if(this.isDatetimeAxis&&"auto"===b.minorTickInterval)e=e.concat(this.getTimeTicks(this.normalizeTimeTickInterval(d),this.min,this.max,b.startOfWeek)),e[0]<this.min&&e.shift();else for(c=this.min+(c[0]-this.min)%d;c<=this.max;c+=d)e.push(c);return e},adjustForMinRange:function(){var a,b,c,d,e,f,g=this.options,h=this.min,i=this.max,j=this.dataMax-this.dataMin>=this.minRange;if(this.isXAxis&&this.minRange===K&&!this.isLog&&(k(g.min)||k(g.max)?this.minRange=null:(Ta(this.series,function(a){for(e=a.xData,c=f=a.xIncrement?1:e.length-1;c>0;c--)d=e[c]-e[c-1],(b===K||b>d)&&(b=d)}),this.minRange=na(5*b,this.dataMax-this.dataMin))),i-h<this.minRange){var l=this.minRange;a=(l-i+h)/2,a=[h-a,n(g.min,h-a)],j&&(a[2]=this.dataMin),h=z(a),i=[h+l,n(g.max,h+l)],j&&(i[2]=this.dataMax),i=y(i),l>i-h&&(a[0]=i-l,a[1]=n(g.min,i-l),h=z(a))}this.min=h,this.max=i},setAxisTranslation:function(a){var b,c=this,e=c.max-c.min,f=c.axisPointRange||0,g=0,h=0,i=c.linkedParent,j=!!c.categories,l=c.transA;(c.isXAxis||j||f)&&(i?(g=i.minPointOffset,h=i.pointRangePadding):Ta(c.series,function(a){var i=j?1:c.isXAxis?a.pointRange:c.axisPointRange||0,l=a.options.pointPlacement,m=a.closestPointRange;i>e&&(i=0),f=ma(f,i),g=ma(g,d(l)?0:i/2),h=ma(h,"on"===l?0:i),!a.noSharedTooltip&&k(m)&&(b=k(b)?na(b,m):m)}),i=c.ordinalSlope&&b?c.ordinalSlope/b:1,c.minPointOffset=g*=i,c.pointRangePadding=h*=i,c.pointRange=na(f,e),c.closestPointRange=b),a&&(c.oldTransA=l),c.translationSlope=c.transA=l=c.len/(e+h||1),c.transB=c.horiz?c.left:c.bottom,c.minPixelPadding=l*g},setTickPositions:function(a){var b,c=this,d=c.chart,e=c.options,f=e.startOnTick,i=e.endOnTick,j=c.isLog,l=c.isDatetimeAxis,m=c.isXAxis,o=c.isLinked,p=c.options.tickPositioner,q=e.maxPadding,r=e.minPadding,s=e.tickInterval,t=e.minTickInterval,u=e.tickPixelInterval,x=c.categories;o?(c.linkedParent=d[c.coll][e.linkedTo],d=c.linkedParent.getExtremes(),c.min=n(d.min,d.dataMin),c.max=n(d.max,d.dataMax),e.type!==c.linkedParent.options.type&&T(11,1)):(c.min=n(c.userMin,e.min,c.dataMin),c.max=n(c.userMax,e.max,c.dataMax)),j&&(!a&&na(c.min,n(c.dataMin,c.min))<=0&&T(10,1),c.min=C(h(c.min)),c.max=C(h(c.max))),c.range&&k(c.max)&&(c.userMin=c.min=ma(c.min,c.max-c.range),c.userMax=c.max,c.range=null),c.beforePadding&&c.beforePadding(),c.adjustForMinRange(),x||c.axisPointRange||c.usePercentage||o||!k(c.min)||!k(c.max)||!(d=c.max-c.min)||(k(e.min)||k(c.userMin)||!r||!(c.dataMin<0)&&c.ignoreMinPadding||(c.min-=d*r),k(e.max)||k(c.userMax)||!q||!(c.dataMax>0)&&c.ignoreMaxPadding||(c.max+=d*q)),g(e.floor)&&(c.min=ma(c.min,e.floor)),g(e.ceiling)&&(c.max=na(c.max,e.ceiling)),c.min===c.max||void 0===c.min||void 0===c.max?c.tickInterval=1:o&&!s&&u===c.linkedParent.options.tickPixelInterval?c.tickInterval=c.linkedParent.tickInterval:(c.tickInterval=n(s,x?1:(c.max-c.min)*u/ma(c.len,u)),!k(s)&&c.len<u&&!this.isRadial&&!this.isLog&&!x&&f&&i&&(b=!0,c.tickInterval/=4)),m&&!a&&Ta(c.series,function(a){a.processData(c.min!==c.oldMin||c.max!==c.oldMax)}),c.setAxisTranslation(!0),c.beforeSetTickPositions&&c.beforeSetTickPositions(),c.postProcessTickInterval&&(c.tickInterval=c.postProcessTickInterval(c.tickInterval)),c.pointRange&&(c.tickInterval=ma(c.pointRange,c.tickInterval)),!s&&c.tickInterval<t&&(c.tickInterval=t),l||j||s||(c.tickInterval=w(c.tickInterval,null,v(c.tickInterval),e)),c.minorTickInterval="auto"===e.minorTickInterval&&c.tickInterval?c.tickInterval/5:e.minorTickInterval,c.tickPositions=a=e.tickPositions?[].concat(e.tickPositions):p&&p.apply(c,[c.min,c.max]),a||(!c.ordinalPositions&&(c.max-c.min)/c.tickInterval>ma(2*c.len,200)&&T(19,!0),a=l?c.getTimeTicks(c.normalizeTimeTickInterval(c.tickInterval,e.units),c.min,c.max,e.startOfWeek,c.ordinalPositions,c.closestPointRange,!0):j?c.getLogTickPositions(c.tickInterval,c.min,c.max):c.getLinearTickPositions(c.tickInterval,c.min,c.max),b&&a.splice(1,a.length-2),c.tickPositions=a),o||(e=a[0],j=a[a.length-1],l=c.minPointOffset||0,!f&&!i&&!x&&2===a.length&&a.splice(1,0,(j+e)/2),f?c.min=e:c.min-l>e&&a.shift(),i?c.max=j:c.max+l<j&&a.pop(),1===a.length&&(f=oa(c.max)>1e13?1:.001,c.min-=f,c.max+=f))},setMaxTicks:function(){var a=this.chart,b=a.maxTicks||{},c=this.tickPositions,d=this._maxTicksKey=[this.coll,this.pos,this.len].join("-");!this.isLinked&&!this.isDatetimeAxis&&c&&c.length>(b[d]||0)&&this.options.alignTicks!==!1&&(b[d]=c.length),a.maxTicks=b},adjustTickAmount:function(){var a=this._maxTicksKey,b=this.tickPositions,c=this.chart.maxTicks;if(c&&c[a]&&!this.isDatetimeAxis&&!this.categories&&!this.isLinked&&this.options.alignTicks!==!1&&this.min!==K){var d=this.tickAmount,e=b.length;if(this.tickAmount=a=c[a],a>e){for(;b.length<a;)b.push(C(b[b.length-1]+this.tickInterval));this.transA*=(e-1)/(a-1),this.max=b[b.length-1]}k(d)&&a!==d&&(this.isDirty=!0)}},setScale:function(){var a,b,c,d,e=this.stacks;if(this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),d=this.len!==this.oldAxisLength,Ta(this.series,function(a){(a.isDirtyData||a.isDirty||a.xAxis.isDirty)&&(c=!0)}),d||c||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(!this.isXAxis)for(a in e)for(b in e[a])e[a][b].total=null,e[a][b].cum=0;this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickPositions(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=d||this.min!==this.oldMin||this.max!==this.oldMax)}else if(!this.isXAxis){this.oldStacks&&(e=this.stacks=this.oldStacks);for(a in e)for(b in e[a])e[a][b].cum=e[a][b].total}this.setMaxTicks()},setExtremes:function(b,c,d,e,f){var g=this,h=g.chart,d=n(d,!0),f=a(f,{min:b,max:c});Za(g,"setExtremes",f,function(){g.userMin=b,g.userMax=c,g.eventArgs=f,g.isDirtyExtremes=!0,d&&h.redraw(e)})},zoom:function(a,b){var c=this.dataMin,d=this.dataMax,e=this.options;return this.allowZoomOutside||(k(c)&&a<=na(c,n(e.min,c))&&(a=K),k(d)&&b>=ma(d,n(e.max,d))&&(b=K)),this.displayBtn=a!==K||b!==K,this.setExtremes(a,b,!1,K,{trigger:"zoom"}),!0},setAxisSize:function(){var a=this.chart,b=this.options,c=b.offsetLeft||0,d=this.horiz,e=n(b.width,a.plotWidth-c+(b.offsetRight||0)),f=n(b.height,a.plotHeight),g=n(b.top,a.plotTop),b=n(b.left,a.plotLeft+c),c=/%$/;c.test(f)&&(f=parseInt(f,10)/100*a.plotHeight),c.test(g)&&(g=parseInt(g,10)/100*a.plotHeight+a.plotTop),this.left=b,this.top=g,this.width=e,this.height=f,this.bottom=a.chartHeight-f-g,this.right=a.chartWidth-e-b,this.len=ma(d?e:f,0),this.pos=d?b:g},getExtremes:function(){var a=this.isLog;return{min:a?C(i(this.min)):this.min,max:a?C(i(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(a){var b=this.isLog,c=b?i(this.min):this.min,b=b?i(this.max):this.max;return c>a||null===a?a=c:a>b&&(a=b),this.translate(a,0,1,0,1)},autoLabelAlign:function(a){return a=(n(a,0)-90*this.side+720)%360,a>15&&165>a?"right":a>195&&345>a?"left":"center"},getOffset:function(){var a,b,c,d,e,f,g,h,i,j=this,l=j.chart,m=l.renderer,o=j.options,p=j.tickPositions,q=j.ticks,r=j.horiz,s=j.side,t=l.inverted?[1,0,3,2][s]:s,u=0,v=0,w=o.title,x=o.labels,y=0,z=l.axisOffset,l=l.clipOffset,A=[-1,1,1,-1][s],B=1,C=n(x.maxStaggerLines,5);if(j.hasData=a=j.hasVisibleSeries||k(j.min)&&k(j.max)&&!!p,j.showAxis=b=a||n(o.showEmpty,!0),j.staggerLines=j.horiz&&x.staggerLines,j.axisGroup||(j.gridGroup=m.g("grid").attr({zIndex:o.gridZIndex||1}).add(),j.axisGroup=m.g("axis").attr({zIndex:o.zIndex||2}).add(),j.labelGroup=m.g("axis-labels").attr({zIndex:x.zIndex||7}).addClass("highcharts-"+j.coll.toLowerCase()+"-labels").add()),a||j.isLinked){if(j.labelAlign=n(x.align||j.autoLabelAlign(x.rotation)),Ta(p,function(a){q[a]?q[a].addLabel():q[a]=new G(j,a)}),j.horiz&&!j.staggerLines&&C&&!x.rotation){for(a=j.reversed?[].concat(p).reverse():p;C>B;){for(e=[],f=!1,d=0;d<a.length;d++)g=a[d],h=(h=q[g].label&&q[g].label.getBBox())?h.width:0,i=d%B,h&&(g=j.translate(g),e[i]!==K&&g<e[i]&&(f=!0),e[i]=g+h);if(!f)break;B++}B>1&&(j.staggerLines=B)}Ta(p,function(a){(0===s||2===s||{1:"left",3:"right"}[s]===j.labelAlign)&&(y=ma(q[a].getLabelSize(),y))}),j.staggerLines&&(y*=j.staggerLines,j.labelOffset=y)}else for(d in q)q[d].destroy(),delete q[d];w&&w.text&&w.enabled!==!1&&(j.axisTitle||(j.axisTitle=m.text(w.text,0,0,w.useHTML).attr({zIndex:7,rotation:w.rotation||0,align:w.textAlign||{low:"left",middle:"center",high:"right"}[w.align]}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(w.style).add(j.axisGroup),j.axisTitle.isNew=!0),b&&(u=j.axisTitle.getBBox()[r?"height":"width"],c=w.offset,v=k(c)?0:n(w.margin,r?5:10)),j.axisTitle[b?"show":"hide"]()),j.offset=A*n(o.offset,z[s]),m=2===s?j.tickBaseline:0,r=y+v+(y&&A*(r?n(x.y,j.tickBaseline+8):x.x)-m),j.axisTitleMargin=n(c,r),z[s]=ma(z[s],j.axisTitleMargin+u+A*j.offset,r),l[t]=ma(l[t],2*ka(o.lineWidth/2))},getLinePath:function(a){var b=this.chart,c=this.opposite,d=this.offset,e=this.horiz,f=this.left+(c?this.width:0)+d,d=b.chartHeight-this.bottom-(c?this.height:0)+d;return c&&(a*=-1),b.renderer.crispLine(["M",e?this.left:f,e?d:this.top,"L",e?b.chartWidth-this.right:f,e?d:b.chartHeight-this.bottom],a)},getTitlePosition:function(){var a=this.horiz,b=this.left,d=this.top,e=this.len,f=this.options.title,g=a?b:d,h=this.opposite,i=this.offset,j=c(f.style.fontSize||12),e={low:g+(a?0:e),middle:g+e/2,high:g+(a?e:0)}[f.align],b=(a?d+this.height:b)+(a?1:-1)*(h?-1:1)*this.axisTitleMargin+(2===this.side?j:0);return{x:a?e:b+(h?this.width:0)+i+(f.x||0),y:a?b-(h?this.height:0)+i:e+(f.y||0)}},render:function(){var a,b,c,d=this,e=d.horiz,f=d.reversed,g=d.chart,h=g.renderer,j=d.options,l=d.isLog,m=d.isLinked,n=d.tickPositions,o=d.axisTitle,p=d.ticks,q=d.minorTicks,r=d.alternateBands,s=j.stackLabels,t=j.alternateGridColor,u=d.tickmarkOffset,v=j.lineWidth,w=g.hasRendered&&k(d.oldMin)&&!isNaN(d.oldMin),x=d.hasData,y=d.showAxis,z=j.labels.overflow,A=d.justifyLabels=e&&z!==!1;d.labelEdge.length=0,d.justifyToPlot="justify"===z,Ta([p,q,r],function(a){for(var b in a)a[b].isActive=!1}),(x||m)&&(d.minorTickInterval&&!d.categories&&Ta(d.getMinorTickPositions(),function(a){q[a]||(q[a]=new G(d,a,"minor")),w&&q[a].isNew&&q[a].render(null,!0),q[a].render(null,!1,1)}),n.length&&(a=n.slice(),(e&&f||!e&&!f)&&a.reverse(),A&&(a=a.slice(1).concat([a[0]])),Ta(a,function(b,c){A&&(c=c===a.length-1?0:c+1),
(!m||b>=d.min&&b<=d.max)&&(p[b]||(p[b]=new G(d,b)),w&&p[b].isNew&&p[b].render(c,!0,.1),p[b].render(c))}),u&&0===d.min&&(p[-1]||(p[-1]=new G(d,-1,null,!0)),p[-1].render(-1))),t&&Ta(n,function(a,e){e%2===0&&a<d.max&&(r[a]||(r[a]=new fa.PlotLineOrBand(d)),b=a+u,c=n[e+1]!==K?n[e+1]+u:d.max,r[a].options={from:l?i(b):b,to:l?i(c):c,color:t},r[a].render(),r[a].isActive=!0)}),d._addedPlotLB||(Ta((j.plotLines||[]).concat(j.plotBands||[]),function(a){d.addPlotBandOrLine(a)}),d._addedPlotLB=!0)),Ta([p,q,r],function(a){var b,c,d=[],e=Q?Q.duration||500:0,f=function(){for(c=d.length;c--;)a[d[c]]&&!a[d[c]].isActive&&(a[d[c]].destroy(),delete a[d[c]])};for(b in a)a[b].isActive||(a[b].render(b,!1,0),a[b].isActive=!1,d.push(b));a!==r&&g.hasRendered&&e?e&&setTimeout(f,e):f()}),v&&(e=d.getLinePath(v),d.axisLine?d.axisLine.animate({d:e}):d.axisLine=h.path(e).attr({stroke:j.lineColor,"stroke-width":v,zIndex:7}).add(d.axisGroup),d.axisLine[y?"show":"hide"]()),o&&y&&(o[o.isNew?"attr":"animate"](d.getTitlePosition()),o.isNew=!1),s&&s.enabled&&d.renderStackTotals(),d.isDirty=!1},redraw:function(){this.render(),Ta(this.plotLinesAndBands,function(a){a.render()}),Ta(this.series,function(a){a.isDirty=!0})},destroy:function(a){var b,c=this,d=c.stacks,e=c.plotLinesAndBands;a||Ya(c);for(b in d)A(d[b]),d[b]=null;for(Ta([c.ticks,c.minorTicks,c.alternateBands],function(a){A(a)}),a=e.length;a--;)e[a].destroy();Ta("stackTotalGroup,axisLine,axisTitle,axisGroup,cross,gridGroup,labelGroup".split(","),function(a){c[a]&&(c[a]=c[a].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(a,b){if(this.crosshair)if((k(b)||!n(this.crosshair.snap,!0))===!1)this.hideCrosshair();else{var c,d=this.crosshair,e=d.animation;n(d.snap,!0)?k(b)&&(c=this.chart.inverted!=this.horiz?b.plotX:this.len-b.plotY):c=this.horiz?a.chartX-this.pos:this.len-a.chartY+this.pos,c=this.isRadial?this.getPlotLinePath(this.isXAxis?b.x:n(b.stackY,b.y)):this.getPlotLinePath(null,null,null,null,c),null===c?this.hideCrosshair():this.cross?this.cross.attr({visibility:"visible"})[e?"animate":"attr"]({d:c},e):(e={"stroke-width":d.width||1,stroke:d.color||"#C0C0C0",zIndex:d.zIndex||2},d.dashStyle&&(e.dashstyle=d.dashStyle),this.cross=this.chart.renderer.path(c).attr(e).add())}},hideCrosshair:function(){this.cross&&this.cross.hide()}},a(H.prototype,{getPlotBandPath:function(a,b){var c=this.getPlotLinePath(b),d=this.getPlotLinePath(a);return d&&c?d.push(c[4],c[5],c[1],c[2]):d=null,d},addPlotBand:function(a){return this.addPlotBandOrLine(a,"plotBands")},addPlotLine:function(a){return this.addPlotBandOrLine(a,"plotLines")},addPlotBandOrLine:function(a,b){var c=new fa.PlotLineOrBand(this,a).render(),d=this.userOptions;return c&&(b&&(d[b]=d[b]||[],d[b].push(a)),this.plotLinesAndBands.push(c)),c},removePlotBandOrLine:function(a){for(var b=this.plotLinesAndBands,c=this.options,d=this.userOptions,e=b.length;e--;)b[e].id===a&&b[e].destroy();Ta([c.plotLines||[],d.plotLines||[],c.plotBands||[],d.plotBands||[]],function(b){for(e=b.length;e--;)b[e].id===a&&j(b,b[e])})}}),H.prototype.getTimeTicks=function(b,c,d,e){var f,g=[],h={},i=O.global.useUTC,j=new Date(c-V),l=b.unitRange,m=b.count;if(k(c)){l>=S.second&&(j.setMilliseconds(0),j.setSeconds(l>=S.minute?0:m*ka(j.getSeconds()/m))),l>=S.minute&&j[aa](l>=S.hour?0:m*ka(j[W]()/m)),l>=S.hour&&j[ba](l>=S.day?0:m*ka(j[X]()/m)),l>=S.day&&j[ca](l>=S.month?1:m*ka(j[Z]()/m)),l>=S.month&&(j[da](l>=S.year?0:m*ka(j[$]()/m)),f=j[_]()),l>=S.year&&(f-=f%m,j[ea](f)),l===S.week&&j[ca](j[Z]()-j[Y]()+n(e,1)),c=1,V&&(j=new Date(j.getTime()+V)),f=j[_]();for(var e=j.getTime(),o=j[$](),p=j[Z](),q=i?V:(864e5+6e4*j.getTimezoneOffset())%864e5;d>e;)g.push(e),l===S.year?e=U(f+c*m,0):l===S.month?e=U(f,o+c*m):i||l!==S.day&&l!==S.week?e+=l*m:e=U(f,o,p+c*m*(l===S.day?1:7)),c++;g.push(e),Ta(Ua(g,function(a){return l<=S.hour&&a%S.day===q}),function(a){h[a]="day"})}return g.info=a(b,{higherRanks:h,totalRange:l*m}),g},H.prototype.normalizeTimeTickInterval=function(a,b){var c,d=b||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],e=d[d.length-1],f=S[e[0]],g=e[1];for(c=0;c<d.length&&(e=d[c],f=S[e[0]],g=e[1],!(d[c+1]&&a<=(f*g[g.length-1]+S[d[c+1][0]])/2));c++);return f===S.year&&5*f>a&&(g=[1,2,5]),d=w(a/f,g,"year"===e[0]?ma(v(a/f),1):1),{unitRange:f,count:d,unitName:e[0]}},H.prototype.getLogTickPositions=function(a,b,c,d){var e=this.options,f=this.len,g=[];if(d||(this._minorAutoInterval=null),a>=.5)a=ja(a),g=this.getLinearTickPositions(a,b,c);else if(a>=.08)for(var j,k,l,m,o,f=ka(b),e=a>.3?[1,2,4]:a>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];c+1>f&&!o;f++)for(k=e.length,j=0;k>j&&!o;j++)l=h(i(f)*e[j]),l>b&&(!d||c>=m)&&m!==K&&g.push(m),m>c&&(o=!0),m=l;else b=i(b),c=i(c),a=e[d?"minorTickInterval":"tickInterval"],a=n("auto"===a?null:a,this._minorAutoInterval,(c-b)*(e.tickPixelInterval/(d?5:1))/((d?f/this.tickPositions.length:f)||1)),a=w(a,null,v(a)),g=Wa(this.getLinearTickPositions(a,b,c),h),d||(this._minorAutoInterval=a/5);return d||(this.tickInterval=a),g};var kb=fa.Tooltip=function(){this.init.apply(this,arguments)};kb.prototype={init:function(a,b){var d=b.borderWidth,e=b.style,f=c(e.padding);this.chart=a,this.options=b,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=a.renderer.label("",0,0,b.shape||"callout",null,null,b.useHTML,null,"tooltip").attr({padding:f,fill:b.backgroundColor,"stroke-width":d,r:b.borderRadius,zIndex:8}).css(e).css({padding:0}).add().attr({y:-9999}),Da||this.label.shadow(b.shadow),this.shared=b.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(b,c,d,e){var f=this,g=f.now,h=f.options.animation!==!1&&!f.isHidden&&(oa(b-g.x)>1||oa(c-g.y)>1),i=f.followPointer||f.len>1;a(g,{x:h?(2*g.x+b)/3:b,y:h?(g.y+c)/2:c,anchorX:i?K:h?(2*g.anchorX+d)/3:d,anchorY:i?K:h?(g.anchorY+e)/2:e}),f.label.attr(g),h&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){f&&f.move(b,c,d,e)},32))},hide:function(){var a,b=this;clearTimeout(this.hideTimer),this.isHidden||(a=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){b.label.fadeOut(),b.isHidden=!0},n(this.options.hideDelay,500)),a&&Ta(a,function(a){a.setState()}),this.chart.hoverPoints=null)},getAnchor:function(a,b){var c,d,e=this.chart,f=e.inverted,g=e.plotTop,h=0,i=0,a=m(a);return c=a[0].tooltipPos,this.followPointer&&b&&(b.chartX===K&&(b=e.pointer.normalize(b)),c=[b.chartX-e.plotLeft,b.chartY-g]),c||(Ta(a,function(a){d=a.series.yAxis,h+=a.plotX,i+=(a.plotLow?(a.plotLow+a.plotHigh)/2:a.plotY)+(!f&&d?d.top-g:0)}),h/=a.length,i/=a.length,c=[f?e.plotWidth-i:h,this.shared&&!f&&a.length>1&&b?b.chartY-g:f?e.plotHeight-h:i]),Wa(c,ja)},getPosition:function(a,b,c){var d,e=this.chart,f=this.distance,g={},h=["y",e.chartHeight,b,c.plotY+e.plotTop],i=["x",e.chartWidth,a,c.plotX+e.plotLeft],j=c.ttBelow||e.inverted&&!c.negative||!e.inverted&&c.negative,k=function(a,b,c,d){var e=d-f>c,b=b>d+f+c,c=d-f-c;if(d+=f,j&&b)g[a]=d;else if(!j&&e)g[a]=c;else if(e)g[a]=c;else{if(!b)return!1;g[a]=d}},l=function(a,b,c,d){return f>d||d>b-f?!1:void(g[a]=c/2>d?1:d>b-c/2?b-c-2:d-c/2)},m=function(a){var b=h;h=i,i=b,d=a},n=function(){k.apply(0,h)!==!1?l.apply(0,i)===!1&&!d&&(m(!0),n()):d?g.x=g.y=0:(m(!0),n())};return(e.inverted||this.len>1)&&m(),n(),g},defaultFormatter:function(a){var b,c=this.points||m(this),d=c[0].series;return b=[a.tooltipHeaderFormatter(c[0])],Ta(c,function(a){d=a.series,b.push(d.tooltipFormatter&&d.tooltipFormatter(a)||a.point.tooltipFormatter(d.tooltipOptions.pointFormat))}),b.push(a.options.footerFormat||""),b.join("")},refresh:function(a,b){var c,d,e,f=this.chart,g=this.label,h=this.options,i={},j=[];e=h.formatter||this.defaultFormatter;var k,i=f.hoverPoints,l=this.shared;clearTimeout(this.hideTimer),this.followPointer=m(a)[0].series.tooltipOptions.followPointer,d=this.getAnchor(a,b),c=d[0],d=d[1],!l||a.series&&a.series.noSharedTooltip?i=a.getLabelConfig():(f.hoverPoints=a,i&&Ta(i,function(a){a.setState()}),Ta(a,function(a){a.setState("hover"),j.push(a.getLabelConfig())}),i={x:a[0].category,y:a[0].y},i.points=j,this.len=j.length,a=a[0]),e=e.call(i,this),i=a.series,this.distance=n(i.tooltipOptions.distance,16),e===!1?this.hide():(this.isHidden&&(ab(g),g.attr("opacity",1).show()),g.attr({text:e}),k=h.borderColor||a.color||i.color||"#606060",g.attr({stroke:k}),this.updatePosition({plotX:c,plotY:d,negative:a.negative,ttBelow:a.ttBelow}),this.isHidden=!1),Za(f,"tooltipRefresh",{text:e,x:c+f.plotLeft,y:d+f.plotTop,borderColor:k})},updatePosition:function(a){var b=this.chart,c=this.label,c=(this.options.positioner||this.getPosition).call(this,c.width,c.height,a);this.move(ja(c.x),ja(c.y),a.plotX+b.plotLeft,a.plotY+b.plotTop)},tooltipHeaderFormatter:function(a){var b,c=a.series,d=c.tooltipOptions,e=d.dateTimeLabelFormats,f=d.xDateFormat,h=c.xAxis,i=h&&"datetime"===h.options.type&&g(a.key),d=d.headerFormat,h=h&&h.closestPointRange;if(i&&!f){if(h){for(b in S)if(S[b]>=h||S[b]<=S.day&&a.key%S[b]>0){f=e[b];break}}else f=e.day;f=f||e.year}return i&&f&&(d=d.replace("{point.key}","{point.key:"+f+"}")),u(d,{point:a,series:c})}};var lb;M=ga.documentElement.ontouchstart!==K;var mb=fa.Pointer=function(a,b){this.init(a,b)};if(mb.prototype={init:function(a,b){var c,d=b.chart,e=d.events,f=Da?"":d.zoomType,d=a.inverted;this.options=b,this.chart=a,this.zoomX=c=/x/.test(f),this.zoomY=f=/y/.test(f),this.zoomHor=c&&!d||f&&d,this.zoomVert=f&&!d||c&&d,this.hasZoom=c||f,this.runChartClick=e&&!!e.click,this.pinchDown=[],this.lastValidTouch={},fa.Tooltip&&b.tooltip.enabled&&(a.tooltip=new kb(a,b.tooltip),this.followTouchMove=b.tooltip.followTouchMove),this.setDOMEvents()},normalize:function(b,c){var d,e,b=b||window.event,b=$a(b);return b.target||(b.target=b.srcElement),e=b.touches?b.touches.length?b.touches.item(0):b.changedTouches[0]:b,c||(this.chartPosition=c=Va(this.chart.container)),e.pageX===K?(d=ma(b.x,b.clientX-c.left),e=b.y):(d=e.pageX-c.left,e=e.pageY-c.top),a(b,{chartX:ja(d),chartY:ja(e)})},getCoordinates:function(a){var b={xAxis:[],yAxis:[]};return Ta(this.chart.axes,function(c){b[c.isXAxis?"xAxis":"yAxis"].push({axis:c,value:c.toValue(a[c.horiz?"chartX":"chartY"])})}),b},getIndex:function(a){var b=this.chart;return b.inverted?b.plotHeight+b.plotTop-a.chartY:a.chartX-b.plotLeft},runPointActions:function(a){var b,c,d,e,f=this.chart,g=f.series,h=f.tooltip,i=f.hoverPoint,j=f.hoverSeries,k=f.chartWidth,l=this.getIndex(a);if(h&&this.options.tooltip.shared&&(!j||!j.noSharedTooltip)){for(c=[],d=g.length,e=0;d>e;e++)g[e].visible&&g[e].options.enableMouseTracking!==!1&&!g[e].noSharedTooltip&&g[e].singularTooltips!==!0&&g[e].tooltipPoints.length&&(b=g[e].tooltipPoints[l])&&b.series&&(b._dist=oa(l-b.clientX),k=na(k,b._dist),c.push(b));for(d=c.length;d--;)c[d]._dist>k&&c.splice(d,1);c.length&&c[0].clientX!==this.hoverX&&(h.refresh(c,a),this.hoverX=c[0].clientX)}g=j&&j.tooltipOptions.followPointer,j&&j.tracker&&!g?(b=j.tooltipPoints[l])&&b!==i&&b.onMouseOver(a):h&&g&&!h.isHidden&&(j=h.getAnchor([{}],a),h.updatePosition({plotX:j[0],plotY:j[1]})),h&&!this._onDocumentMouseMove&&(this._onDocumentMouseMove=function(a){Ha[lb]&&Ha[lb].pointer.onDocumentMouseMove(a)},Xa(ga,"mousemove",this._onDocumentMouseMove)),Ta(f.axes,function(c){c.drawCrosshair(a,n(b,i))})},reset:function(a){var b=this.chart,c=b.hoverSeries,d=b.hoverPoint,e=b.tooltip,f=e&&e.shared?b.hoverPoints:d;(a=a&&e&&f)&&m(f)[0].plotX===K&&(a=!1),a?(e.refresh(f),d&&d.setState(d.state,!0)):(d&&d.onMouseOut(),c&&c.onMouseOut(),e&&e.hide(),this._onDocumentMouseMove&&(Ya(ga,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null),Ta(b.axes,function(a){a.hideCrosshair()}),this.hoverX=null)},scaleGroups:function(a,b){var c,d=this.chart;Ta(d.series,function(e){c=a||e.getPlotBox(),e.xAxis&&e.xAxis.zoomEnabled&&(e.group.attr(c),e.markerGroup&&(e.markerGroup.attr(c),e.markerGroup.clip(b?d.clipRect:null)),e.dataLabelsGroup&&e.dataLabelsGroup.attr(c))}),d.clipRect.attr(b||d.clipBox)},dragStart:function(a){var b=this.chart;b.mouseIsDown=a.type,b.cancelClick=!1,b.mouseDownX=this.mouseDownX=a.chartX,b.mouseDownY=this.mouseDownY=a.chartY},drag:function(a){var b,c=this.chart,d=c.options.chart,e=a.chartX,f=a.chartY,g=this.zoomHor,h=this.zoomVert,i=c.plotLeft,j=c.plotTop,k=c.plotWidth,l=c.plotHeight,m=this.mouseDownX,n=this.mouseDownY,o=d.panKey&&a[d.panKey+"Key"];i>e?e=i:e>i+k&&(e=i+k),j>f?f=j:f>j+l&&(f=j+l),this.hasDragged=Math.sqrt(Math.pow(m-e,2)+Math.pow(n-f,2)),this.hasDragged>10&&(b=c.isInsidePlot(m-i,n-j),c.hasCartesianSeries&&(this.zoomX||this.zoomY)&&b&&!o&&!this.selectionMarker&&(this.selectionMarker=c.renderer.rect(i,j,g?1:k,h?1:l,0).attr({fill:d.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),this.selectionMarker&&g&&(e-=m,this.selectionMarker.attr({width:oa(e),x:(e>0?0:e)+m})),this.selectionMarker&&h&&(e=f-n,this.selectionMarker.attr({height:oa(e),y:(e>0?0:e)+n})),b&&!this.selectionMarker&&d.panning&&c.pan(a,d.panning))},drop:function(b){var c=this.chart,d=this.hasPinched;if(this.selectionMarker){var e,f={xAxis:[],yAxis:[],originalEvent:b.originalEvent||b},g=this.selectionMarker,h=g.attr?g.attr("x"):g.x,i=g.attr?g.attr("y"):g.y,j=g.attr?g.attr("width"):g.width,k=g.attr?g.attr("height"):g.height;(this.hasDragged||d)&&(Ta(c.axes,function(a){if(a.zoomEnabled){var c=a.horiz,d="touchend"===b.type?a.minPixelPadding:0,g=a.toValue((c?h:i)+d),c=a.toValue((c?h+j:i+k)-d);!isNaN(g)&&!isNaN(c)&&(f[a.coll].push({axis:a,min:na(g,c),max:ma(g,c)}),e=!0)}}),e&&Za(c,"selection",f,function(b){c.zoom(a(b,d?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),d&&this.scaleGroups()}c&&(o(c.container,{cursor:c._cursor}),c.cancelClick=this.hasDragged>10,c.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(a){a=this.normalize(a),a.preventDefault&&a.preventDefault(),this.dragStart(a)},onDocumentMouseUp:function(a){Ha[lb]&&Ha[lb].pointer.drop(a)},onDocumentMouseMove:function(a){var b=this.chart,c=this.chartPosition,d=b.hoverSeries,a=this.normalize(a,c);c&&d&&!this.inClass(a.target,"highcharts-tracker")&&!b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop)&&this.reset()},onContainerMouseLeave:function(){var a=Ha[lb];a&&(a.pointer.reset(),a.pointer.chartPosition=null)},onContainerMouseMove:function(a){var b=this.chart;lb=b.index,a=this.normalize(a),a.returnValue=!1,"mousedown"===b.mouseIsDown&&this.drag(a),(this.inClass(a.target,"highcharts-tracker")||b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop))&&!b.openMenu&&this.runPointActions(a)},inClass:function(a,b){for(var c;a;){if(c=l(a,"class")){if(-1!==c.indexOf(b))return!0;if(-1!==c.indexOf("highcharts-container"))return!1}a=a.parentNode}},onTrackerMouseOut:function(a){var b=this.chart.hoverSeries,c=(a=a.relatedTarget||a.toElement)&&a.point&&a.point.series;!b||b.options.stickyTracking||this.inClass(a,"highcharts-tooltip")||c===b||b.onMouseOut()},onContainerClick:function(b){var c=this.chart,d=c.hoverPoint,e=c.plotLeft,f=c.plotTop,b=this.normalize(b);b.cancelBubble=!0,c.cancelClick||(d&&this.inClass(b.target,"highcharts-tracker")?(Za(d.series,"click",a(b,{point:d})),c.hoverPoint&&d.firePointEvent("click",b)):(a(b,this.getCoordinates(b)),c.isInsidePlot(b.chartX-e,b.chartY-f)&&Za(c,"click",b)))},setDOMEvents:function(){var a=this,b=a.chart.container;b.onmousedown=function(b){a.onContainerMouseDown(b)},b.onmousemove=function(b){a.onContainerMouseMove(b)},b.onclick=function(b){a.onContainerClick(b)},Xa(b,"mouseleave",a.onContainerMouseLeave),1===Ia&&Xa(ga,"mouseup",a.onDocumentMouseUp),M&&(b.ontouchstart=function(b){a.onContainerTouchStart(b)},b.ontouchmove=function(b){a.onContainerTouchMove(b)},1===Ia&&Xa(ga,"touchend",a.onDocumentTouchEnd))},destroy:function(){var a;Ya(this.chart.container,"mouseleave",this.onContainerMouseLeave),Ia||(Ya(ga,"mouseup",this.onDocumentMouseUp),Ya(ga,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(a in this)this[a]=null}},a(fa.Pointer.prototype,{pinchTranslate:function(a,b,c,d,e,f){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,a,b,c,d,e,f),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,a,b,c,d,e,f)},pinchTranslateDirection:function(a,b,c,d,e,f,g,h){var i,j,k,l=this.chart,m=a?"x":"y",n=a?"X":"Y",o="chart"+n,p=a?"width":"height",q=l["plot"+(a?"Left":"Top")],r=h||1,s=l.inverted,t=l.bounds[a?"h":"v"],u=1===b.length,v=b[0][o],w=c[0][o],x=!u&&b[1][o],y=!u&&c[1][o],c=function(){!u&&oa(v-x)>20&&(r=h||oa(w-y)/oa(v-x)),j=(q-w)/r+v,i=l["plot"+(a?"Width":"Height")]/r};c(),b=j,b<t.min?(b=t.min,k=!0):b+i>t.max&&(b=t.max-i,k=!0),k?(w-=.8*(w-g[m][0]),u||(y-=.8*(y-g[m][1])),c()):g[m]=[w,y],s||(f[m]=j-q,f[p]=i),f=s?1/r:r,e[p]=i,e[m]=b,d[s?a?"scaleY":"scaleX":"scale"+n]=r,d["translate"+n]=f*q+(w-f*v)},pinch:function(b){var c=this,d=c.chart,e=c.pinchDown,f=c.followTouchMove,g=b.touches,h=g.length,i=c.lastValidTouch,j=c.hasZoom,k=c.selectionMarker,l={},m=1===h&&(c.inClass(b.target,"highcharts-tracker")&&d.runTrackerClick||d.runChartClick),o={};(j||f)&&!m&&b.preventDefault(),Wa(g,function(a){return c.normalize(a)}),"touchstart"===b.type?(Ta(g,function(a,b){e[b]={chartX:a.chartX,chartY:a.chartY}}),i.x=[e[0].chartX,e[1]&&e[1].chartX],i.y=[e[0].chartY,e[1]&&e[1].chartY],Ta(d.axes,function(a){if(a.zoomEnabled){var b=d.bounds[a.horiz?"h":"v"],c=a.minPixelPadding,e=a.toPixels(n(a.options.min,a.dataMin)),f=a.toPixels(n(a.options.max,a.dataMax)),g=na(e,f),e=ma(e,f);b.min=na(a.pos,g-c),b.max=ma(a.pos+a.len,e+c)}})):e.length&&(k||(c.selectionMarker=k=a({destroy:Ga},d.plotBox)),c.pinchTranslate(e,g,l,k,o,i),c.hasPinched=j,c.scaleGroups(l,o),!j&&f&&1===h&&this.runPointActions(c.normalize(b)))},onContainerTouchStart:function(a){var b=this.chart;lb=b.index,1===a.touches.length?(a=this.normalize(a),b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop)?(this.runPointActions(a),this.pinch(a)):this.reset()):2===a.touches.length&&this.pinch(a)},onContainerTouchMove:function(a){(1===a.touches.length||2===a.touches.length)&&this.pinch(a)},onDocumentTouchEnd:function(a){Ha[lb]&&Ha[lb].pointer.drop(a)}}),ha.PointerEvent||ha.MSPointerEvent){var nb={},ob=!!ha.PointerEvent,pb=function(){var a,b=[];b.item=function(a){return this[a]};for(a in nb)nb.hasOwnProperty(a)&&b.push({pageX:nb[a].pageX,pageY:nb[a].pageY,target:nb[a].target});return b},qb=function(a,b,c,d){a=a.originalEvent||a,"touch"!==a.pointerType&&a.pointerType!==a.MSPOINTER_TYPE_TOUCH||!Ha[lb]||(d(a),d=Ha[lb].pointer,d[b]({type:c,target:a.currentTarget,preventDefault:Ga,touches:pb()}))};a(mb.prototype,{onContainerPointerDown:function(a){qb(a,"onContainerTouchStart","touchstart",function(a){nb[a.pointerId]={pageX:a.pageX,pageY:a.pageY,target:a.currentTarget}})},onContainerPointerMove:function(a){qb(a,"onContainerTouchMove","touchmove",function(a){nb[a.pointerId]={pageX:a.pageX,pageY:a.pageY},nb[a.pointerId].target||(nb[a.pointerId].target=a.currentTarget)})},onDocumentPointerUp:function(a){qb(a,"onContainerTouchEnd","touchend",function(a){delete nb[a.pointerId]})},batchMSEvents:function(a){a(this.chart.container,ob?"pointerdown":"MSPointerDown",this.onContainerPointerDown),a(this.chart.container,ob?"pointermove":"MSPointerMove",this.onContainerPointerMove),a(ga,ob?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),t(mb.prototype,"init",function(a,b,c){a.call(this,b,c),(this.hasZoom||this.followTouchMove)&&o(b.container,{"-ms-touch-action":Ka,"touch-action":Ka})}),t(mb.prototype,"setDOMEvents",function(a){a.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(Xa)}),t(mb.prototype,"destroy",function(a){this.batchMSEvents(Ya),a.call(this)})}var rb=fa.Legend=function(a,b){this.init(a,b)};rb.prototype={init:function(a,c){var d=this,e=c.itemStyle,f=n(c.padding,8),g=c.itemMarginTop||0;this.options=c,c.enabled&&(d.itemStyle=e,d.itemHiddenStyle=b(e,c.itemHiddenStyle),d.itemMarginTop=g,d.padding=f,d.initialItemX=f,d.initialItemY=f-5,d.maxItemWidth=0,d.chart=a,d.itemHeight=0,d.lastLineHeight=0,d.symbolWidth=n(c.symbolWidth,16),d.pages=[],d.render(),Xa(d.chart,"endResize",function(){d.positionCheckboxes()}))},colorizeItem:function(a,b){var c,d=this.options,e=a.legendItem,f=a.legendLine,g=a.legendSymbol,h=this.itemHiddenStyle.color,d=b?d.itemStyle.color:h,i=b?a.legendColor||a.color||"#CCC":h,h=a.options&&a.options.marker,j={fill:i};if(e&&e.css({fill:d,color:d}),f&&f.attr({stroke:i}),g){if(h&&g.isMarker)for(c in j.stroke=i,h=a.convertAttribs(h))e=h[c],e!==K&&(j[c]=e);g.attr(j)}},positionItem:function(a){var b=this.options,c=b.symbolPadding,b=!b.rtl,d=a._legendItemPos,e=d[0],d=d[1],f=a.checkbox;a.legendGroup&&a.legendGroup.translate(b?e:this.legendWidth-e-2*c-4,d),f&&(f.x=e,f.y=d)},destroyItem:function(a){var b=a.checkbox;Ta(["legendItem","legendLine","legendSymbol","legendGroup"],function(b){a[b]&&(a[b]=a[b].destroy())}),b&&B(a.checkbox)},destroy:function(){var a=this.group,b=this.box;b&&(this.box=b.destroy()),a&&(this.group=a.destroy())},positionCheckboxes:function(a){var b,c=this.group.alignAttr,d=this.clipHeight||this.legendHeight;c&&(b=c.translateY,Ta(this.allItems,function(e){var f,g=e.checkbox;g&&(f=b+g.y+(a||0)+3,o(g,{left:c.translateX+e.checkboxOffset+g.x-20+"px",top:f+"px",display:f>b-6&&b+d-6>f?"":Ka}))}))},renderTitle:function(){var a=this.padding,b=this.options.title,c=0;b.text&&(this.title||(this.title=this.chart.renderer.label(b.text,a-3,a-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(b.style).add(this.group)),a=this.title.getBBox(),c=a.height,this.offsetWidth=a.width,this.contentGroup.attr({translateY:c})),this.titleHeight=c},renderItem:function(a){var c=this.chart,d=c.renderer,e=this.options,f="horizontal"===e.layout,g=this.symbolWidth,h=e.symbolPadding,i=this.itemStyle,j=this.itemHiddenStyle,k=this.padding,l=f?n(e.itemDistance,20):0,m=!e.rtl,o=e.width,p=e.itemMarginBottom||0,q=this.itemMarginTop,r=this.initialItemX,s=a.legendItem,t=a.series&&a.series.drawLegendSymbol?a.series:a,v=t.options,v=this.createCheckboxForItem&&v&&v.showCheckbox,w=e.useHTML;s||(a.legendGroup=d.g("legend-item").attr({zIndex:1}).add(this.scrollGroup),a.legendItem=s=d.text(e.labelFormat?u(e.labelFormat,a):e.labelFormatter.call(a),m?g+h:-h,this.baseline||0,w).css(b(a.visible?i:j)).attr({align:m?"left":"right",zIndex:2}).add(a.legendGroup),this.baseline||(this.baseline=d.fontMetrics(i.fontSize,s).f+3+q,s.attr("y",this.baseline)),t.drawLegendSymbol(this,a),this.setItemEvents&&this.setItemEvents(a,s,w,i,j),this.colorizeItem(a,a.visible),v&&this.createCheckboxForItem(a)),d=s.getBBox(),g=a.checkboxOffset=e.itemWidth||a.legendItemWidth||g+h+d.width+l+(v?20:0),this.itemHeight=h=ja(a.legendItemHeight||d.height),f&&this.itemX-r+g>(o||c.chartWidth-2*k-r-e.x)&&(this.itemX=r,this.itemY+=q+this.lastLineHeight+p,this.lastLineHeight=0),this.maxItemWidth=ma(this.maxItemWidth,g),this.lastItemY=q+this.itemY+p,this.lastLineHeight=ma(h,this.lastLineHeight),a._legendItemPos=[this.itemX,this.itemY],f?this.itemX+=g:(this.itemY+=q+h+p,this.lastLineHeight=h),this.offsetWidth=o||ma((f?this.itemX-r-l:g)+k,this.offsetWidth)},getAllItems:function(){var a=[];return Ta(this.chart.series,function(b){var c=b.options;n(c.showInLegend,k(c.linkedTo)?!1:K,!0)&&(a=a.concat(b.legendItems||("point"===c.legendType?b.data:b)))}),a},render:function(){var b,c,d,e,f=this,g=f.chart,h=g.renderer,i=f.group,j=f.box,k=f.options,l=f.padding,m=k.borderWidth,n=k.backgroundColor;f.itemX=f.initialItemX,f.itemY=f.initialItemY,f.offsetWidth=0,f.lastItemY=0,i||(f.group=i=h.g("legend").attr({zIndex:7}).add(),f.contentGroup=h.g().attr({zIndex:1}).add(i),f.scrollGroup=h.g().add(f.contentGroup)),f.renderTitle(),b=f.getAllItems(),x(b,function(a,b){return(a.options&&a.options.legendIndex||0)-(b.options&&b.options.legendIndex||0)}),k.reversed&&b.reverse(),f.allItems=b,f.display=c=!!b.length,Ta(b,function(a){f.renderItem(a)}),d=k.width||f.offsetWidth,e=f.lastItemY+f.lastLineHeight+f.titleHeight,e=f.handleOverflow(e),(m||n)&&(d+=l,e+=l,j?d>0&&e>0&&(j[j.isNew?"attr":"animate"](j.crisp({width:d,height:e})),j.isNew=!1):(f.box=j=h.rect(0,0,d,e,k.borderRadius,m||0).attr({stroke:k.borderColor,"stroke-width":m||0,fill:n||Ka}).add(i).shadow(k.shadow),j.isNew=!0),j[c?"show":"hide"]()),f.legendWidth=d,f.legendHeight=e,Ta(b,function(a){f.positionItem(a)}),c&&i.align(a({width:d,height:e},k),!0,"spacingBox"),g.isResizing||this.positionCheckboxes()},handleOverflow:function(a){var b,c,d=this,e=this.chart,f=e.renderer,g=this.options,h=g.y,h=e.spacingBox.height+("top"===g.verticalAlign?-h:h)-this.padding,i=g.maxHeight,j=this.clipRect,k=g.navigation,l=n(k.animation,!0),m=k.arrowSize||12,o=this.nav,p=this.pages,q=this.allItems;return"horizontal"===g.layout&&(h/=2),i&&(h=na(h,i)),p.length=0,a>h&&!g.useHTML?(this.clipHeight=b=ma(h-20-this.titleHeight-this.padding,0),this.currentPage=n(this.currentPage,1),this.fullHeight=a,Ta(q,function(a,d){var e=a._legendItemPos[1],f=ja(a.legendItem.getBBox().height),g=p.length;(!g||e-p[g-1]>b&&(c||e)!==p[g-1])&&(p.push(c||e),g++),d===q.length-1&&e+f-p[g-1]>b&&p.push(e),e!==c&&(c=e)}),j||(j=d.clipRect=f.clipRect(0,this.padding,9999,0),d.contentGroup.clip(j)),j.attr({height:b}),o||(this.nav=o=f.g().attr({zIndex:1}).add(this.group),this.up=f.symbol("triangle",0,0,m,m).on("click",function(){d.scroll(-1,l)}).add(o),this.pager=f.text("",15,10).css(k.style).add(o),this.down=f.symbol("triangle-down",0,0,m,m).on("click",function(){d.scroll(1,l)}).add(o)),d.scroll(0),a=h):o&&(j.attr({height:e.chartHeight}),o.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),a},scroll:function(a,b){var c=this.pages,d=c.length,e=this.currentPage+a,f=this.clipHeight,g=this.options.navigation,h=g.activeColor,g=g.inactiveColor,i=this.pager,j=this.padding;e>d&&(e=d),e>0&&(b!==K&&D(b,this.chart),this.nav.attr({translateX:j,translateY:f+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:1===e?g:h}).css({cursor:1===e?"default":"pointer"}),i.attr({text:e+"/"+d}),this.down.attr({x:18+this.pager.getBBox().width,fill:e===d?g:h}).css({cursor:e===d?"default":"pointer"}),c=-c[e-1]+this.initialItemY,this.scrollGroup.animate({translateY:c}),this.currentPage=e,this.positionCheckboxes(c))}},Pa=fa.LegendSymbolMixin={drawRectangle:function(a,b){var c=a.options.symbolHeight||12;b.legendSymbol=this.chart.renderer.rect(0,a.baseline-5-c/2,a.symbolWidth,c,a.options.symbolRadius||0).attr({zIndex:3}).add(b.legendGroup)},drawLineMarker:function(a){var b,c=this.options,d=c.marker;b=a.symbolWidth;var e,f=this.chart.renderer,g=this.legendGroup,a=a.baseline-ja(.3*f.fontMetrics(a.options.itemStyle.fontSize,this.legendItem).b);c.lineWidth&&(e={"stroke-width":c.lineWidth},c.dashStyle&&(e.dashstyle=c.dashStyle),this.legendLine=f.path(["M",0,a,"L",b,a]).attr(e).add(g)),d&&d.enabled!==!1&&(c=d.radius,this.legendSymbol=b=f.symbol(this.symbol,b/2-c,a-c,2*c,2*c).add(g),b.isMarker=!0)}},(/Trident\/7\.0/.test(ta)||ya)&&t(rb.prototype,"positionItem",function(a,b){var c=this,d=function(){b._legendItemPos&&a.call(c,b)};d(),setTimeout(d)}),I.prototype={init:function(a,c){var d,e=a.series;a.series=null,d=b(O,a),d.series=a.series=e,this.userOptions=a,e=d.chart,this.margin=this.splashArray("margin",e),this.spacing=this.splashArray("spacing",e);var f=e.events;this.bounds={h:{},v:{}},this.callback=c,this.isResizing=0,this.options=d,this.axes=[],this.series=[],this.hasCartesianSeries=e.showAxes;var g,h=this;if(h.index=Ha.length,Ha.push(h),Ia++,e.reflow!==!1&&Xa(h,"load",function(){h.initReflow()}),f)for(g in f)Xa(h,g,f[g]);h.xAxis=[],h.yAxis=[],h.animation=Da?!1:n(e.animation,!0),h.pointCount=h.colorCounter=h.symbolCounter=0,h.firstRender()},initSeries:function(a){var b=this.options.chart;return(b=Na[a.type||b.type||b.defaultSeriesType])||T(17,!0),b=new b,b.init(this,a),b},isInsidePlot:function(a,b,c){var d=c?b:a,a=c?a:b;return d>=0&&d<=this.plotWidth&&a>=0&&a<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&Ta(this.axes,function(a){a.adjustTickAmount()}),this.maxTicks=null},redraw:function(b){var c,d,e=this.axes,f=this.series,g=this.pointer,h=this.legend,i=this.isDirtyLegend,j=this.hasCartesianSeries,k=this.isDirtyBox,l=f.length,m=l,n=this.renderer,o=n.isHidden(),p=[];for(D(b,this),o&&this.cloneRenderTo(),this.layOutTitles();m--;)if(b=f[m],b.options.stacking&&(c=!0,b.isDirty)){d=!0;break}if(d)for(m=l;m--;)b=f[m],b.options.stacking&&(b.isDirty=!0);Ta(f,function(a){a.isDirty&&"point"===a.options.legendType&&(i=!0)}),i&&h.options.enabled&&(h.render(),this.isDirtyLegend=!1),c&&this.getStacks(),j&&(this.isResizing||(this.maxTicks=null,Ta(e,function(a){a.setScale()})),this.adjustTickAmounts()),this.getMargins(),j&&(Ta(e,function(a){a.isDirty&&(k=!0)}),Ta(e,function(b){b.isDirtyExtremes&&(b.isDirtyExtremes=!1,p.push(function(){Za(b,"afterSetExtremes",a(b.eventArgs,b.getExtremes())),delete b.eventArgs})),(k||c)&&b.redraw()})),k&&this.drawChartBox(),Ta(f,function(a){a.isDirty&&a.visible&&(!a.isCartesian||a.xAxis)&&a.redraw()}),g&&g.reset(!0),n.draw(),Za(this,"redraw"),o&&this.cloneRenderTo(!0),Ta(p,function(a){a.call()})},get:function(a){var b,c,d=this.axes,e=this.series;for(b=0;b<d.length;b++)if(d[b].options.id===a)return d[b];for(b=0;b<e.length;b++)if(e[b].options.id===a)return e[b];for(b=0;b<e.length;b++)for(c=e[b].points||[],d=0;d<c.length;d++)if(c[d].id===a)return c[d];return null},getAxes:function(){var a=this,b=this.options,c=b.xAxis=m(b.xAxis||{}),b=b.yAxis=m(b.yAxis||{});Ta(c,function(a,b){a.index=b,a.isX=!0}),Ta(b,function(a,b){a.index=b}),c=c.concat(b),Ta(c,function(b){new H(a,b)}),a.adjustTickAmounts()},getSelectedPoints:function(){var a=[];return Ta(this.series,function(b){a=a.concat(Ua(b.points||[],function(a){return a.selected}))}),a},getSelectedSeries:function(){return Ua(this.series,function(a){return a.selected})},getStacks:function(){var a=this;Ta(a.yAxis,function(a){a.stacks&&a.hasVisibleSeries&&(a.oldStacks=a.stacks)}),Ta(a.series,function(b){!b.options.stacking||b.visible!==!0&&a.options.chart.ignoreHiddenSeries!==!1||(b.stackKey=b.type+n(b.options.stack,""))})},setTitle:function(a,c,d){var e,f,g=this,h=g.options;f=h.title=b(h.title,a),e=h.subtitle=b(h.subtitle,c),h=e,Ta([["title",a,f],["subtitle",c,h]],function(a){var b=a[0],c=g[b],d=a[1],a=a[2];c&&d&&(g[b]=c=c.destroy()),a&&a.text&&!c&&(g[b]=g.renderer.text(a.text,0,0,a.useHTML).attr({align:a.align,"class":"highcharts-"+b,zIndex:a.zIndex||4}).css(a.style).add())}),g.layOutTitles(d)},layOutTitles:function(b){var c=0,d=this.title,e=this.subtitle,f=this.options,g=f.title,f=f.subtitle,h=this.renderer,i=this.spacingBox.width-44;!d||(d.css({width:(g.width||i)+"px"}).align(a({y:h.fontMetrics(g.style.fontSize,d).b-3},g),!1,"spacingBox"),g.floating||g.verticalAlign)||(c=d.getBBox().height),e&&(e.css({width:(f.width||i)+"px"}).align(a({y:c+(g.margin-13)+h.fontMetrics(g.style.fontSize,e).b},f),!1,"spacingBox"),!f.floating&&!f.verticalAlign&&(c=la(c+e.getBBox().height))),d=this.titleOffset!==c,this.titleOffset=c,!this.isDirtyBox&&d&&(this.isDirtyBox=d,this.hasRendered&&n(b,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var a=this.options.chart,b=a.width,a=a.height,c=this.renderToClone||this.renderTo;k(b)||(this.containerWidth=Qa(c,"width")),k(a)||(this.containerHeight=Qa(c,"height")),this.chartWidth=ma(0,b||this.containerWidth||600),this.chartHeight=ma(0,n(a,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(a){var b=this.renderToClone,c=this.container;a?b&&(this.renderTo.appendChild(c),B(b),delete this.renderToClone):(c&&c.parentNode===this.renderTo&&this.renderTo.removeChild(c),this.renderToClone=b=this.renderTo.cloneNode(0),o(b,{position:"absolute",top:"-9999px",display:"block"}),b.style.setProperty&&b.style.setProperty("display","block","important"),ga.body.appendChild(b),c&&b.appendChild(c))},getContainer:function(){var b,e,f,g,h=this.options.chart;this.renderTo=b=h.renderTo,g="highcharts-"+Fa++,d(b)&&(this.renderTo=b=ga.getElementById(b)),b||T(13,!0),
e=c(l(b,"data-highcharts-chart")),!isNaN(e)&&Ha[e]&&Ha[e].hasRendered&&Ha[e].destroy(),l(b,"data-highcharts-chart",this.index),b.innerHTML="",!h.skipClone&&!b.offsetWidth&&this.cloneRenderTo(),this.getChartSize(),e=this.chartWidth,f=this.chartHeight,this.container=b=p(Ja,{className:"highcharts-container"+(h.className?" "+h.className:""),id:g},a({position:"relative",overflow:"hidden",width:e+"px",height:f+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},h.style),this.renderToClone||b),this._cursor=b.style.cursor,this.renderer=h.forExport?new gb(b,e,f,h.style,!0):new L(b,e,f,h.style),Da&&this.renderer.create(this,b,e,f)},getMargins:function(){var a,b=this.spacing,c=this.legend,d=this.margin,e=this.options.legend,f=n(e.margin,20),g=e.x,h=e.y,i=e.align,j=e.verticalAlign,l=this.titleOffset;this.resetMargins(),a=this.axisOffset,l&&!k(d[0])&&(this.plotTop=ma(this.plotTop,l+this.options.title.margin+b[0])),c.display&&!e.floating&&("right"===i?k(d[1])||(this.marginRight=ma(this.marginRight,c.legendWidth-g+f+b[1])):"left"===i?k(d[3])||(this.plotLeft=ma(this.plotLeft,c.legendWidth+g+f+b[3])):"top"===j?k(d[0])||(this.plotTop=ma(this.plotTop,c.legendHeight+h+f+b[0])):"bottom"!==j||k(d[2])||(this.marginBottom=ma(this.marginBottom,c.legendHeight-h+f+b[2]))),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),this.hasCartesianSeries&&Ta(this.axes,function(a){a.getOffset()}),k(d[3])||(this.plotLeft+=a[3]),k(d[0])||(this.plotTop+=a[0]),k(d[2])||(this.marginBottom+=a[2]),k(d[1])||(this.marginRight+=a[1]),this.setChartSize()},reflow:function(a){var b=this,c=b.options.chart,d=b.renderTo,e=c.width||Qa(d,"width"),f=c.height||Qa(d,"height"),c=a?a.target:ha,d=function(){b.container&&(b.setSize(e,f,!1),b.hasUserSize=null)};b.hasUserSize||!e||!f||c!==ha&&c!==ga||((e!==b.containerWidth||f!==b.containerHeight)&&(clearTimeout(b.reflowTimeout),a?b.reflowTimeout=setTimeout(d,100):d()),b.containerWidth=e,b.containerHeight=f)},initReflow:function(){var a=this,b=function(b){a.reflow(b)};Xa(ha,"resize",b),Xa(a,"destroy",function(){Ya(ha,"resize",b)})},setSize:function(a,b,c){var d,e,f,g=this;g.isResizing+=1,f=function(){g&&Za(g,"endResize",null,function(){g.isResizing-=1})},D(c,g),g.oldChartHeight=g.chartHeight,g.oldChartWidth=g.chartWidth,k(a)&&(g.chartWidth=d=ma(0,ja(a)),g.hasUserSize=!!d),k(b)&&(g.chartHeight=e=ma(0,ja(b))),(Q?_a:o)(g.container,{width:d+"px",height:e+"px"},Q),g.setChartSize(!0),g.renderer.setSize(d,e,c),g.maxTicks=null,Ta(g.axes,function(a){a.isDirty=!0,a.setScale()}),Ta(g.series,function(a){a.isDirty=!0}),g.isDirtyLegend=!0,g.isDirtyBox=!0,g.layOutTitles(),g.getMargins(),g.redraw(c),g.oldChartHeight=null,Za(g,"resize"),Q===!1?f():setTimeout(f,Q&&Q.duration||500)},setChartSize:function(a){var b,c,d,e,f=this.inverted,g=this.renderer,h=this.chartWidth,i=this.chartHeight,j=this.options.chart,k=this.spacing,l=this.clipOffset;this.plotLeft=b=ja(this.plotLeft),this.plotTop=c=ja(this.plotTop),this.plotWidth=d=ma(0,ja(h-b-this.marginRight)),this.plotHeight=e=ma(0,ja(i-c-this.marginBottom)),this.plotSizeX=f?e:d,this.plotSizeY=f?d:e,this.plotBorderWidth=j.plotBorderWidth||0,this.spacingBox=g.spacingBox={x:k[3],y:k[0],width:h-k[3]-k[1],height:i-k[0]-k[2]},this.plotBox=g.plotBox={x:b,y:c,width:d,height:e},h=2*ka(this.plotBorderWidth/2),f=la(ma(h,l[3])/2),g=la(ma(h,l[0])/2),this.clipBox={x:f,y:g,width:ka(this.plotSizeX-ma(h,l[1])/2-f),height:ma(0,ka(this.plotSizeY-ma(h,l[2])/2-g))},a||Ta(this.axes,function(a){a.setAxisSize(),a.setAxisTranslation()})},resetMargins:function(){var a=this.spacing,b=this.margin;this.plotTop=n(b[0],a[0]),this.marginRight=n(b[1],a[1]),this.marginBottom=n(b[2],a[2]),this.plotLeft=n(b[3],a[3]),this.axisOffset=[0,0,0,0],this.clipOffset=[0,0,0,0]},drawChartBox:function(){var a,b=this.options.chart,c=this.renderer,d=this.chartWidth,e=this.chartHeight,f=this.chartBackground,g=this.plotBackground,h=this.plotBorder,i=this.plotBGImage,j=b.borderWidth||0,k=b.backgroundColor,l=b.plotBackgroundColor,m=b.plotBackgroundImage,n=b.plotBorderWidth||0,o=this.plotLeft,p=this.plotTop,q=this.plotWidth,r=this.plotHeight,s=this.plotBox,t=this.clipRect,u=this.clipBox;a=j+(b.shadow?8:0),(j||k)&&(f?f.animate(f.crisp({width:d-a,height:e-a})):(f={fill:k||Ka},j&&(f.stroke=b.borderColor,f["stroke-width"]=j),this.chartBackground=c.rect(a/2,a/2,d-a,e-a,b.borderRadius,j).attr(f).addClass("highcharts-background").add().shadow(b.shadow))),l&&(g?g.animate(s):this.plotBackground=c.rect(o,p,q,r,0).attr({fill:l}).add().shadow(b.plotShadow)),m&&(i?i.animate(s):this.plotBGImage=c.image(m,o,p,q,r).add()),t?t.animate({width:u.width,height:u.height}):this.clipRect=c.clipRect(u),n&&(h?h.animate(h.crisp({x:o,y:p,width:q,height:r})):this.plotBorder=c.rect(o,p,q,r,0,-n).attr({stroke:b.plotBorderColor,"stroke-width":n,fill:Ka,zIndex:1}).add()),this.isDirtyBox=!1},propFromSeries:function(){var a,b,c,d=this,e=d.options.chart,f=d.options.series;Ta(["inverted","angular","polar"],function(g){for(a=Na[e.type||e.defaultSeriesType],c=d[g]||e[g]||a&&a.prototype[g],b=f&&f.length;!c&&b--;)(a=Na[f[b].type])&&a.prototype[g]&&(c=!0);d[g]=c})},linkSeries:function(){var a=this,b=a.series;Ta(b,function(a){a.linkedSeries.length=0}),Ta(b,function(b){var c=b.options.linkedTo;d(c)&&(c=":previous"===c?a.series[b.index-1]:a.get(c))&&(c.linkedSeries.push(b),b.linkedParent=c)})},renderSeries:function(){Ta(this.series,function(a){a.translate(),a.setTooltipPoints&&a.setTooltipPoints(),a.render()})},renderLabels:function(){var b=this,d=b.options.labels;d.items&&Ta(d.items,function(e){var f=a(d.style,e.style),g=c(f.left)+b.plotLeft,h=c(f.top)+b.plotTop+12;delete f.left,delete f.top,b.renderer.text(e.html,g,h).attr({zIndex:2}).css(f).add()})},render:function(){var a=this.axes,b=this.renderer,c=this.options;this.setTitle(),this.legend=new rb(this,c.legend),this.getStacks(),Ta(a,function(a){a.setScale()}),this.getMargins(),this.maxTicks=null,Ta(a,function(a){a.setTickPositions(!0),a.setMaxTicks()}),this.adjustTickAmounts(),this.getMargins(),this.drawChartBox(),this.hasCartesianSeries&&Ta(a,function(a){a.render()}),this.seriesGroup||(this.seriesGroup=b.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.showCredits(c.credits),this.hasRendered=!0},showCredits:function(a){a.enabled&&!this.credits&&(this.credits=this.renderer.text(a.text,0,0).on("click",function(){a.href&&(location.href=a.href)}).attr({align:a.position.align,zIndex:8}).css(a.style).add().align(a.position))},destroy:function(){var a,b=this,c=b.axes,d=b.series,e=b.container,f=e&&e.parentNode;for(Za(b,"destroy"),Ha[b.index]=K,Ia--,b.renderTo.removeAttribute("data-highcharts-chart"),Ya(b),a=c.length;a--;)c[a]=c[a].destroy();for(a=d.length;a--;)d[a]=d[a].destroy();Ta("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(a){var c=b[a];c&&c.destroy&&(b[a]=c.destroy())}),e&&(e.innerHTML="",Ya(e),f&&B(e));for(a in b)delete b[a]},isReadyToRender:function(){var a=this;return!Ba&&ha==ha.top&&"complete"!==ga.readyState||Da&&!ha.canvg?(Da?jb.push(function(){a.firstRender()},a.options.global.canvasToolsURL):ga.attachEvent("onreadystatechange",function(){ga.detachEvent("onreadystatechange",a.firstRender),"complete"===ga.readyState&&a.firstRender()}),!1):!0},firstRender:function(){var a=this,b=a.options,c=a.callback;a.isReadyToRender()&&(a.getContainer(),Za(a,"init"),a.resetMargins(),a.setChartSize(),a.propFromSeries(),a.getAxes(),Ta(b.series||[],function(b){a.initSeries(b)}),a.linkSeries(),Za(a,"beforeRender"),fa.Pointer&&(a.pointer=new mb(a,b)),a.render(),a.renderer.draw(),c&&c.apply(a,[a]),Ta(a.callbacks,function(b){b.apply(a,[a])}),a.cloneRenderTo(!0),Za(a,"load"))},splashArray:function(a,b){var c=b[a],c=e(c)?c:[c,c,c,c];return[n(b[a+"Top"],c[0]),n(b[a+"Right"],c[1]),n(b[a+"Bottom"],c[2]),n(b[a+"Left"],c[3])]}},I.prototype.callbacks=[],hb=fa.CenteredSeriesMixin={getCenter:function(){var a,b,d=this.options,e=this.chart,f=2*(d.slicedOffset||0),g=e.plotWidth-2*f,h=e.plotHeight-2*f,e=d.center,d=[n(e[0],"50%"),n(e[1],"50%"),d.size||"100%",d.innerSize||0],i=na(g,h);return Wa(d,function(d,e){return b=/%$/.test(d),a=2>e||2===e&&b,(b?[g,h,i,i][e]*c(d)/100:d)+(a?f:0)})}};var sb=function(){};sb.prototype={init:function(a,b,c){return this.series=a,this.applyOptions(b,c),this.pointAttr={},a.options.colorByPoint&&(b=a.options.colors||a.chart.options.colors,this.color=this.color||b[a.colorCounter++],a.colorCounter===b.length)&&(a.colorCounter=0),a.chart.pointCount++,this},applyOptions:function(b,c){var d=this.series,e=d.options.pointValKey||d.pointValKey,b=sb.prototype.optionsToObject.call(this,b);return a(this,b),this.options=this.options?a(this.options,b):b,e&&(this.y=this[e]),this.x===K&&d&&(this.x=c===K?d.autoIncrement():c),this},optionsToObject:function(a){var b={},c=this.series,d=c.pointArrayMap||["y"],e=d.length,g=0,h=0;if("number"==typeof a||null===a)b[d[0]]=a;else if(f(a))for(a.length>e&&(c=typeof a[0],"string"===c?b.name=a[0]:"number"===c&&(b.x=a[0]),g++);e>h;)b[d[h++]]=a[g++];else"object"==typeof a&&(b=a,a.dataLabels&&(c._hasPointLabels=!0),a.marker&&(c._hasPointMarkers=!0));return b},destroy:function(){var a,b=this.series.chart,c=b.hoverPoints;b.pointCount--,c&&(this.setState(),j(c,this),!c.length)&&(b.hoverPoints=null),this===b.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(Ya(this),this.destroyElements()),this.legendItem&&b.legend.destroyItem(this);for(a in this)this[a]=null},destroyElements:function(){for(var a,b="graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),c=6;c--;)a=b[c],this[a]&&(this[a]=this[a].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(a){var b=this.series,c=b.tooltipOptions,d=n(c.valueDecimals,""),e=c.valuePrefix||"",f=c.valueSuffix||"";return Ta(b.pointArrayMap||["y"],function(b){b="{point."+b,(e||f)&&(a=a.replace(b+"}",e+b+"}"+f)),a=a.replace(b+"}",b+":,."+d+"f}")}),u(a,{point:this,series:this.series})},firePointEvent:function(a,b,c){var d=this,e=this.series.options;(e.point.events[a]||d.options&&d.options.events&&d.options.events[a])&&this.importEvents(),"click"===a&&e.allowPointSelect&&(c=function(a){d.select(null,a.ctrlKey||a.metaKey||a.shiftKey)}),Za(this,a,b,c)}};var tb=function(){};tb.prototype={isCartesian:!0,type:"line",pointClass:sb,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(b,c){var d,e,f=this,g=b.series,h=function(a,b){return n(a.options.index,a._i)-n(b.options.index,b._i)};f.chart=b,f.options=c=f.setOptions(c),f.linkedSeries=[],f.bindAxes(),a(f,{name:c.name,state:"",pointAttr:{},visible:c.visible!==!1,selected:c.selected===!0}),Da&&(c.animation=!1),e=c.events;for(d in e)Xa(f,d,e[d]);(e&&e.click||c.point&&c.point.events&&c.point.events.click||c.allowPointSelect)&&(b.runTrackerClick=!0),f.getColor(),f.getSymbol(),Ta(f.parallelArrays,function(a){f[a+"Data"]=[]}),f.setData(c.data,!1),f.isCartesian&&(b.hasCartesianSeries=!0),g.push(f),f._i=g.length-1,x(g,h),this.yAxis&&x(this.yAxis.series,h),Ta(g,function(a,b){a.index=b,a.name=a.name||"Series "+(b+1)})},bindAxes:function(){var a,b=this,c=b.options,d=b.chart;Ta(b.axisTypes||[],function(e){Ta(d[e],function(d){a=d.options,(c[e]===a.index||c[e]!==K&&c[e]===a.id||c[e]===K&&0===a.index)&&(d.series.push(b),b[e]=d,d.isDirty=!0)}),!b[e]&&b.optionalAxis!==e&&T(18,!0)})},updateParallelArrays:function(a,b){var c=a.series,d=arguments;Ta(c.parallelArrays,"number"==typeof b?function(d){var e="y"===d&&c.toYData?c.toYData(a):a[d];c[d+"Data"][b]=e}:function(a){Array.prototype[b].apply(c[a+"Data"],Array.prototype.slice.call(d,2))})},autoIncrement:function(){var a=this.options,b=this.xIncrement,b=n(b,a.pointStart,0);return this.pointInterval=n(this.pointInterval,a.pointInterval,1),this.xIncrement=b+this.pointInterval,b},getSegments:function(){var a,b=-1,c=[],d=this.points,e=d.length;if(e)if(this.options.connectNulls){for(a=e;a--;)null===d[a].y&&d.splice(a,1);d.length&&(c=[d])}else Ta(d,function(a,f){null===a.y?(f>b+1&&c.push(d.slice(b+1,f)),b=f):f===e-1&&c.push(d.slice(b+1,f+1))});this.segments=c},setOptions:function(a){var c=this.chart,d=c.options.plotOptions,c=c.userOptions||{},e=c.plotOptions||{},f=d[this.type];return this.userOptions=a,d=b(f,d.series,a),this.tooltipOptions=b(O.tooltip,O.plotOptions[this.type].tooltip,c.tooltip,e.series&&e.series.tooltip,e[this.type]&&e[this.type].tooltip,a.tooltip),null===f.marker&&delete d.marker,d},getCyclic:function(a,b,c){var d=this.userOptions,e="_"+a+"Index",f=a+"Counter";b||(k(d[e])?b=d[e]:(d[e]=b=this.chart[f]%c.length,this.chart[f]+=1),b=c[b]),this[a]=b},getColor:function(){this.options.colorByPoint||this.getCyclic("color",this.options.color||bb[this.type].color,this.chart.options.colors)},getSymbol:function(){var a=this.options.marker;this.getCyclic("symbol",a.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(a.radius=0)},drawLegendSymbol:Pa.drawLineMarker,setData:function(a,b,c,e){var h,i=this,j=i.points,k=j&&j.length||0,l=i.options,m=i.chart,o=null,p=i.xAxis,q=p&&!!p.categories,r=i.tooltipPoints,s=l.turboThreshold,t=this.xData,u=this.yData,v=(h=i.pointArrayMap)&&h.length,a=a||[];if(h=a.length,b=n(b,!0),e===!1||!h||k!==h||i.cropped||i.hasGroupedData){if(i.xIncrement=null,i.pointRange=q?1:l.pointRange,i.colorCounter=0,Ta(this.parallelArrays,function(a){i[a+"Data"].length=0}),s&&h>s){for(c=0;null===o&&h>c;)o=a[c],c++;if(g(o)){for(q=n(l.pointStart,0),l=n(l.pointInterval,1),c=0;h>c;c++)t[c]=q,u[c]=a[c],q+=l;i.xIncrement=q}else if(f(o))if(v)for(c=0;h>c;c++)l=a[c],t[c]=l[0],u[c]=l.slice(1,v+1);else for(c=0;h>c;c++)l=a[c],t[c]=l[0],u[c]=l[1];else T(12)}else for(c=0;h>c;c++)a[c]!==K&&(l={series:i},i.pointClass.prototype.applyOptions.apply(l,[a[c]]),i.updateParallelArrays(l,c),q&&l.name)&&(p.names[l.x]=l.name);for(d(u[0])&&T(14,!0),i.data=[],i.options.data=a,c=k;c--;)j[c]&&j[c].destroy&&j[c].destroy();r&&(r.length=0),p&&(p.minRange=p.userMinRange),i.isDirty=i.isDirtyData=m.isDirtyBox=!0,c=!1}else Ta(a,function(a,b){j[b].update(a,!1)});b&&m.redraw(c)},processData:function(a){var b,c=this.xData,d=this.yData,e=c.length;b=0;var f,g,h,i,j=this.xAxis,k=this.options,l=k.cropThreshold,m=0,n=this.isCartesian;if(n&&!this.isDirty&&!j.isDirty&&!this.yAxis.isDirty&&!a)return!1;for(n&&this.sorted&&(!l||e>l||this.forceCrop)&&(h=j.getExtremes(),i=h.min,h=h.max,c[e-1]<i||c[0]>h?(c=[],d=[]):(c[0]<i||c[e-1]>h)&&(b=this.cropData(this.xData,this.yData,i,h),c=b.xData,d=b.yData,b=b.start,f=!0,m=c.length)),a=c.length-1;a>=0;a--)e=c[a]-c[a-1],!f&&c[a]>i&&c[a]<h&&m++,e>0&&(g===K||g>e)?g=e:0>e&&this.requireSorting&&T(15);this.cropped=f,this.cropStart=b,this.processedXData=c,this.processedYData=d,this.activePointCount=m,null===k.pointRange&&(this.pointRange=g||1),this.closestPointRange=g},cropData:function(a,b,c,d){var e,f=a.length,g=0,h=f,i=n(this.cropShoulder,1);for(e=0;f>e;e++)if(a[e]>=c){g=ma(0,e-i);break}for(;f>e;e++)if(a[e]>d){h=e+i;break}return{xData:a.slice(g,h),yData:b.slice(g,h),start:g,end:h}},generatePoints:function(){var a,b,c,d,e=this.options.data,f=this.data,g=this.processedXData,h=this.processedYData,i=this.pointClass,j=g.length,k=this.cropStart||0,l=this.hasGroupedData,n=[];for(f||l||(f=[],f.length=e.length,f=this.data=f),d=0;j>d;d++)b=k+d,l?n[d]=(new i).init(this,[g[d]].concat(m(h[d]))):(f[b]?c=f[b]:e[b]!==K&&(f[b]=c=(new i).init(this,e[b],g[d])),n[d]=c);if(f&&(j!==(a=f.length)||l))for(d=0;a>d;d++)d===k&&!l&&(d+=j),f[d]&&(f[d].destroyElements(),f[d].plotX=K);this.data=f,this.points=n},getExtremes:function(a){var b,c=this.yAxis,d=this.processedXData,e=[],f=0;b=this.xAxis.getExtremes();var g,h,i,j,k=b.min,l=b.max,a=a||this.stackedYData||this.processedYData;for(b=a.length,j=0;b>j;j++)if(h=d[j],i=a[j],g=null!==i&&i!==K&&(!c.isLog||i.length||i>0),h=this.getExtremesFromAll||this.cropped||(d[j+1]||h)>=k&&(d[j-1]||h)<=l,g&&h)if(g=i.length)for(;g--;)null!==i[g]&&(e[f++]=i[g]);else e[f++]=i;this.dataMin=n(void 0,y(e)),this.dataMax=n(void 0,z(e))},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var a=this.options,b=a.stacking,c=this.xAxis,d=c.categories,e=this.yAxis,f=this.points,h=f.length,i=!!this.modifyValue,j=a.pointPlacement,l="between"===j||g(j),m=a.threshold,a=0;h>a;a++){var o=f[a],p=o.x,q=o.y,r=o.low,s=b&&e.stacks[(this.negStacks&&m>q?"-":"")+this.stackKey];e.isLog&&0>=q&&(o.y=q=null),o.plotX=c.translate(p,0,0,0,1,j,"flags"===this.type),b&&this.visible&&s&&s[p]&&(s=s[p],q=s.points[this.index+","+a],r=q[0],q=q[1],0===r&&(r=n(m,e.min)),e.isLog&&0>=r&&(r=null),o.total=o.stackTotal=s.total,o.percentage=s.total&&o.y/s.total*100,o.stackY=q,s.setOffset(this.pointXOffset||0,this.barW||0)),o.yBottom=k(r)?e.translate(r,0,1,0,1):null,i&&(q=this.modifyValue(q,o)),o.plotY="number"==typeof q&&q!==1/0?e.translate(q,0,1,0,1):K,o.clientX=l?c.translate(p,0,0,0,1):o.plotX,o.negative=o.y<(m||0),o.category=d&&d[o.x]!==K?d[o.x]:o.x}this.getSegments()},animate:function(b){var c,d=this.chart,f=d.renderer;c=this.options.animation;var g,h=this.clipBox||d.clipBox,i=d.inverted;c&&!e(c)&&(c=bb[this.type].animation),g=["_sharedClip",c.duration,c.easing,h.height].join(","),b?(b=d[g],c=d[g+"m"],b||(d[g]=b=f.clipRect(a(h,{width:0})),d[g+"m"]=c=f.clipRect(-99,i?-d.plotLeft:-d.plotTop,99,i?d.chartWidth:d.chartHeight)),this.group.clip(b),this.markerGroup.clip(c),this.sharedClipKey=g):((b=d[g])&&b.animate({width:d.plotSizeX},c),d[g+"m"]&&d[g+"m"].animate({width:d.plotSizeX+99},c),this.animate=null)},afterAnimate:function(){var a=this.chart,b=this.sharedClipKey,c=this.group,d=this.clipBox;c&&this.options.clip!==!1&&(b&&d||c.clip(d?a.renderer.clipRect(d):a.clipRect),this.markerGroup.clip()),Za(this,"afterAnimate"),setTimeout(function(){b&&a[b]&&(d||(a[b]=a[b].destroy()),a[b+"m"]&&(a[b+"m"]=a[b+"m"].destroy()))},100)},drawPoints:function(){var b,c,d,e,f,g,h,i,j,k=this.points,l=this.chart;c=this.options.marker;var m,o=this.pointAttr[""],p=this.markerGroup,q=n(c.enabled,this.activePointCount<.5*this.xAxis.len/c.radius);if(c.enabled!==!1||this._hasPointMarkers)for(e=k.length;e--;)f=k[e],c=ka(f.plotX),d=f.plotY,j=f.graphic,h=f.marker||{},b=q&&h.enabled===K||h.enabled,m=l.isInsidePlot(ja(c),d,l.inverted),b&&d!==K&&!isNaN(d)&&null!==f.y?(b=f.pointAttr[f.selected?"select":""]||o,g=b.r,h=n(h.symbol,this.symbol),i=0===h.indexOf("url"),j?j[m?"show":"hide"](!0).animate(a({x:c-g,y:d-g},j.symbolName?{width:2*g,height:2*g}:{})):m&&(g>0||i)&&(f.graphic=l.renderer.symbol(h,c-g,d-g,2*g,2*g).attr(b).add(p))):j&&(f.graphic=j.destroy())},convertAttribs:function(a,b,c,d){var e,f,g=this.pointAttrToOptions,h={},a=a||{},b=b||{},c=c||{},d=d||{};for(e in g)f=g[e],h[e]=n(a[f],b[e],c[e],d[e]);return h},getAttribs:function(){var b,c=this,d=c.options,e=bb[c.type].marker?d.marker:d,f=e.states,g=f.hover,h=c.color;b={stroke:h,fill:h};var i,j,l=c.points||[],m=[],n=c.pointAttrToOptions;j=c.hasPointSpecificOptions;var o=d.negativeColor,p=e.lineColor,q=e.fillColor;i=d.turboThreshold;var r;if(d.marker?(g.radius=g.radius||e.radius+g.radiusPlus,g.lineWidth=g.lineWidth||e.lineWidth+g.lineWidthPlus):g.color=g.color||fb(g.color||h).brighten(g.brightness).get(),m[""]=c.convertAttribs(e,b),Ta(["hover","select"],function(a){m[a]=c.convertAttribs(f[a],m[""])}),c.pointAttr=m,h=l.length,!i||i>h||j)for(;h--;){if(i=l[h],(e=i.options&&i.options.marker||i.options)&&e.enabled===!1&&(e.radius=0),i.negative&&o&&(i.color=i.fillColor=o),j=d.colorByPoint||i.color,i.options)for(r in n)k(e[n[r]])&&(j=!0);j?(e=e||{},j=[],f=e.states||{},b=f.hover=f.hover||{},d.marker||(b.color=b.color||!i.options.color&&g.color||fb(i.color).brighten(b.brightness||g.brightness).get()),b={color:i.color},q||(b.fillColor=i.color),p||(b.lineColor=i.color),j[""]=c.convertAttribs(a(b,e),m[""]),j.hover=c.convertAttribs(f.hover,m.hover,j[""]),j.select=c.convertAttribs(f.select,m.select,j[""])):j=m,i.pointAttr=j}},destroy:function(){var a,b,c,d,e,f=this,g=f.chart,h=/AppleWebKit\/533/.test(ta),i=f.data||[];for(Za(f,"destroy"),Ya(f),Ta(f.axisTypes||[],function(a){(e=f[a])&&(j(e.series,f),e.isDirty=e.forceRedraw=!0)}),f.legendItem&&f.chart.legend.destroyItem(f),b=i.length;b--;)(c=i[b])&&c.destroy&&c.destroy();f.points=null,clearTimeout(f.animationTimeout),Ta("area,graph,dataLabelsGroup,group,markerGroup,tracker,graphNeg,areaNeg,posClip,negClip".split(","),function(b){f[b]&&(a=h&&"group"===b?"hide":"destroy",f[b][a]())}),g.hoverSeries===f&&(g.hoverSeries=null),j(g.series,f);for(d in f)delete f[d]},getSegmentPath:function(a){var b=this,c=[],d=b.options.step;return Ta(a,function(e,f){var g,h=e.plotX,i=e.plotY;b.getPointSpline?c.push.apply(c,b.getPointSpline(a,e,f)):(c.push(f?"L":"M"),d&&f&&(g=a[f-1],"right"===d?c.push(g.plotX,i):"center"===d?c.push((g.plotX+h)/2,g.plotY,(g.plotX+h)/2,i):c.push(h,g.plotY)),c.push(e.plotX,e.plotY))}),c},getGraphPath:function(){var a,b=this,c=[],d=[];return Ta(b.segments,function(e){a=b.getSegmentPath(e),e.length>1?c=c.concat(a):d.push(e[0])}),b.singlePoints=d,b.graphPath=c},drawGraph:function(){var a=this,b=this.options,c=[["graph",b.lineColor||this.color]],d=b.lineWidth,e=b.dashStyle,f="square"!==b.linecap,g=this.getGraphPath(),h=b.negativeColor;h&&c.push(["graphNeg",h]),Ta(c,function(c,h){var i=c[0],j=a[i];j?(ab(j),j.animate({d:g})):d&&g.length&&(j={stroke:c[1],"stroke-width":d,fill:Ka,zIndex:1},e?j.dashstyle=e:f&&(j["stroke-linecap"]=j["stroke-linejoin"]="round"),a[i]=a.chart.renderer.path(g).attr(j).add(a.group).shadow(!h&&b.shadow))})},clipNeg:function(){var a,b=this.options,c=this.chart,d=c.renderer,e=b.negativeColor||b.negativeFillColor,f=this.graph,g=this.area,h=this.posClip,i=this.negClip;a=c.chartWidth;var j=c.chartHeight,k=ma(a,j),l=this.yAxis;e&&(f||g)&&(e=ja(l.toPixels(b.threshold||0,!0)),0>e&&(k-=e),b={x:0,y:0,width:k,height:e},k={x:0,y:e,width:k,height:k},c.inverted&&(b.height=k.y=c.plotWidth-e,d.isVML&&(b={x:c.plotWidth-e-c.plotLeft,y:0,width:a,height:j},k={x:e+c.plotLeft-a,y:0,width:c.plotLeft+e,height:a})),l.reversed?(c=k,a=b):(c=b,a=k),h?(h.animate(c),i.animate(a)):(this.posClip=h=d.clipRect(c),this.negClip=i=d.clipRect(a),f&&this.graphNeg&&(f.clip(h),this.graphNeg.clip(i)),g&&(g.clip(h),this.areaNeg.clip(i))))},invertGroups:function(){function a(){var a={width:b.yAxis.len,height:b.xAxis.len};Ta(["group","markerGroup"],function(c){b[c]&&b[c].attr(a).invert()})}var b=this,c=b.chart;b.xAxis&&(Xa(c,"resize",a),Xa(b,"destroy",function(){Ya(c,"resize",a)}),a(),b.invertGroups=a)},plotGroup:function(a,b,c,d,e){var f=this[a],g=!f;return g&&(this[a]=f=this.chart.renderer.g(b).attr({visibility:c,zIndex:d||.1}).add(e)),f[g?"attr":"animate"](this.getPlotBox()),f},getPlotBox:function(){var a=this.chart,b=this.xAxis,c=this.yAxis;return a.inverted&&(b=c,c=this.xAxis),{translateX:b?b.left:a.plotLeft,translateY:c?c.top:a.plotTop,scaleX:1,scaleY:1}},render:function(){var a,b=this,c=b.chart,d=b.options,e=(a=d.animation)&&!!b.animate&&c.renderer.isSVG&&n(a.duration,500)||0,f=b.visible?"visible":"hidden",g=d.zIndex,h=b.hasRendered,i=c.seriesGroup;a=b.plotGroup("group","series",f,g,i),b.markerGroup=b.plotGroup("markerGroup","markers",f,g,i),e&&b.animate(!0),b.getAttribs(),a.inverted=b.isCartesian?c.inverted:!1,b.drawGraph&&(b.drawGraph(),b.clipNeg()),b.drawDataLabels&&b.drawDataLabels(),b.visible&&b.drawPoints(),b.drawTracker&&b.options.enableMouseTracking!==!1&&b.drawTracker(),c.inverted&&b.invertGroups(),d.clip!==!1&&!b.sharedClipKey&&!h&&a.clip(c.clipRect),e&&b.animate(),h||(e?b.animationTimeout=setTimeout(function(){b.afterAnimate()},e):b.afterAnimate()),b.isDirty=b.isDirtyData=!1,b.hasRendered=!0},redraw:function(){var a=this.chart,b=this.isDirtyData,c=this.group,d=this.xAxis,e=this.yAxis;c&&(a.inverted&&c.attr({width:a.plotWidth,height:a.plotHeight}),c.animate({translateX:n(d&&d.left,a.plotLeft),translateY:n(e&&e.top,a.plotTop)})),this.translate(),this.setTooltipPoints&&this.setTooltipPoints(!0),this.render(),b&&Za(this,"updatedData")}},J.prototype={destroy:function(){A(this,this.axis)},render:function(a){var b=this.options,c=b.format,c=c?u(c,this):b.formatter.call(this);this.label?this.label.attr({text:c,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(c,null,null,b.useHTML).css(b.style).attr({align:this.textAlign,rotation:b.rotation,visibility:"hidden"}).add(a)},setOffset:function(a,b){var c=this.axis,d=c.chart,e=d.inverted,f=this.isNegative,g=c.translate(c.usePercentage?100:this.total,0,0,0,1),c=c.translate(0),c=oa(g-c),h=d.xAxis[0].translate(this.x)+a,i=d.plotHeight,f={x:e?f?g:g-c:h,y:e?i-h-b:f?i-g-c:i-g,width:e?c:b,height:e?b:c};(e=this.label)&&(e.align(this.alignOptions,null,f),f=e.alignAttr,e[this.options.crop===!1||d.isInsidePlot(f.x,f.y)?"show":"hide"](!0))}},H.prototype.buildStacks=function(){var a=this.series,b=n(this.options.reversedStacks,!0),c=a.length;if(!this.isXAxis){for(this.usePercentage=!1;c--;)a[b?c:a.length-c-1].setStackedPoints();if(this.usePercentage)for(c=0;c<a.length;c++)a[c].setPercentStacks()}},H.prototype.renderStackTotals=function(){var a,b,c=this.chart,d=c.renderer,e=this.stacks,f=this.stackTotalGroup;f||(this.stackTotalGroup=f=d.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),f.translate(c.plotLeft,c.plotTop);for(a in e)for(b in c=e[a])c[b].render(f)},tb.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var a,b,c,d,e,f,g=this.processedXData,h=this.processedYData,i=[],j=h.length,k=this.options,l=k.threshold,m=k.stack,k=k.stacking,n=this.stackKey,o="-"+n,p=this.negStacks,q=this.yAxis,r=q.stacks,s=q.oldStacks;for(d=0;j>d;d++)e=g[d],f=h[d],c=this.index+","+d,b=(a=p&&l>f)?o:n,r[b]||(r[b]={}),r[b][e]||(s[b]&&s[b][e]?(r[b][e]=s[b][e],r[b][e].total=null):r[b][e]=new J(q,q.options.stackLabels,a,e,m)),b=r[b][e],b.points[c]=[b.cum||0],"percent"===k?(a=a?n:o,p&&r[a]&&r[a][e]?(a=r[a][e],b.total=a.total=ma(a.total,b.total)+oa(f)||0):b.total=C(b.total+(oa(f)||0))):b.total=C(b.total+(f||0)),b.cum=(b.cum||0)+(f||0),b.points[c].push(b.cum),i[d]=b.cum;"percent"===k&&(q.usePercentage=!0),this.stackedYData=i,q.oldStacks={}}},tb.prototype.setPercentStacks=function(){var a=this,b=a.stackKey,c=a.yAxis.stacks,d=a.processedXData;Ta([b,"-"+b],function(b){for(var e,f,g,h=d.length;h--;)f=d[h],e=(g=c[b]&&c[b][f])&&g.points[a.index+","+h],(f=e)&&(g=g.total?100/g.total:0,f[0]=C(f[0]*g),f[1]=C(f[1]*g),a.stackedYData[h]=f[1])})},a(I.prototype,{addSeries:function(a,b,c){var d,e=this;return a&&(b=n(b,!0),Za(e,"addSeries",{options:a},function(){d=e.initSeries(a),e.isDirtyLegend=!0,e.linkSeries(),b&&e.redraw(c)})),d},addAxis:function(a,c,d,e){var f=c?"xAxis":"yAxis",g=this.options;new H(this,b(a,{index:this[f].length,isX:c})),g[f]=m(g[f]||{}),g[f].push(a),n(d,!0)&&this.redraw(e)},showLoading:function(b){var c=this,d=c.options,e=c.loadingDiv,f=d.loading,g=function(){e&&o(e,{left:c.plotLeft+"px",top:c.plotTop+"px",width:c.plotWidth+"px",height:c.plotHeight+"px"})};e||(c.loadingDiv=e=p(Ja,{className:"highcharts-loading"},a(f.style,{zIndex:10,display:Ka}),c.container),c.loadingSpan=p("span",null,f.labelStyle,e),Xa(c,"redraw",g)),c.loadingSpan.innerHTML=b||d.lang.loading,c.loadingShown||(o(e,{opacity:0,display:""}),_a(e,{opacity:f.style.opacity},{duration:f.showDuration||0}),c.loadingShown=!0),g()},hideLoading:function(){var a=this.options,b=this.loadingDiv;b&&_a(b,{opacity:0},{duration:a.loading.hideDuration||100,complete:function(){o(b,{display:Ka})}}),this.loadingShown=!1}}),a(sb.prototype,{update:function(a,b,c){var d,f=this,g=f.series,h=f.graphic,i=g.data,j=g.chart,k=g.options,b=n(b,!0);f.firePointEvent("update",{options:a},function(){f.applyOptions(a),e(a)&&(g.getAttribs(),h&&(a&&a.marker&&a.marker.symbol?f.graphic=h.destroy():h.attr(f.pointAttr[f.state||""])),a&&a.dataLabels&&f.dataLabel&&(f.dataLabel=f.dataLabel.destroy())),d=Sa(f,i),g.updateParallelArrays(f,d),k.data[d]=f.options,g.isDirty=g.isDirtyData=!0,!g.fixedBox&&g.hasCartesianSeries&&(j.isDirtyBox=!0),"point"===k.legendType&&j.legend.destroyItem(f),b&&j.redraw(c)})},remove:function(a,b){var c,d=this,e=d.series,f=e.points,g=e.chart,h=e.data;D(b,g),a=n(a,!0),d.firePointEvent("remove",null,function(){c=Sa(d,h),h.length===f.length&&f.splice(c,1),h.splice(c,1),e.options.data.splice(c,1),e.updateParallelArrays(d,"splice",c,1),d.destroy(),e.isDirty=!0,e.isDirtyData=!0,a&&g.redraw()})}}),a(tb.prototype,{addPoint:function(a,b,c,d){var e,f=this.options,g=this.data,h=this.graph,i=this.area,j=this.chart,k=this.xAxis&&this.xAxis.names,l=h&&h.shift||0,m=f.data,o=this.xData;if(D(d,j),c&&Ta([h,i,this.graphNeg,this.areaNeg],function(a){a&&(a.shift=l+1)}),i&&(i.isArea=!0),b=n(b,!0),d={series:this},this.pointClass.prototype.applyOptions.apply(d,[a]),h=d.x,i=o.length,this.requireSorting&&h<o[i-1])for(e=!0;i&&o[i-1]>h;)i--;this.updateParallelArrays(d,"splice",i,0,0),this.updateParallelArrays(d,i),k&&(k[h]=d.name),m.splice(i,0,a),e&&(this.data.splice(i,0,null),this.processData()),"point"===f.legendType&&this.generatePoints(),c&&(g[0]&&g[0].remove?g[0].remove(!1):(g.shift(),this.updateParallelArrays(d,"shift"),m.shift())),this.isDirtyData=this.isDirty=!0,b&&(this.getAttribs(),j.redraw())},remove:function(a,b){var c=this,d=c.chart,a=n(a,!0);c.isRemoving||(c.isRemoving=!0,Za(c,"remove",null,function(){c.destroy(),d.isDirtyLegend=d.isDirtyBox=!0,d.linkSeries(),a&&d.redraw(b)})),c.isRemoving=!1},update:function(c,d){var e,f=this,g=this.chart,h=this.userOptions,i=this.type,j=Na[i].prototype,k=["group","markerGroup","dataLabelsGroup"];Ta(k,function(a){k[a]=f[a],delete f[a]}),c=b(h,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},c),this.remove(!1);for(e in j)j.hasOwnProperty(e)&&(this[e]=K);a(this,Na[c.type||i].prototype),Ta(k,function(a){f[a]=k[a]}),this.init(g,c),g.linkSeries(),n(d,!0)&&g.redraw(!1)}}),a(H.prototype,{update:function(c,d){var e=this.chart,c=e.options[this.coll][this.options.index]=b(this.userOptions,c);this.destroy(!0),this._addedPlotLB=K,this.init(e,a(c,{events:K})),e.isDirtyBox=!0,n(d,!0)&&e.redraw()},remove:function(a){for(var b=this.chart,c=this.coll,d=this.series,e=d.length;e--;)d[e]&&d[e].remove(!1);j(b.axes,this),j(b[c],this),b.options[c].splice(this.options.index,1),Ta(b[c],function(a,b){a.options.index=b}),this.destroy(),b.isDirtyBox=!0,n(a,!0)&&b.redraw()},setTitle:function(a,b){this.update({title:a},b)},setCategories:function(a,b){this.update({categories:a},b)}}),ib=q(tb),Na.line=ib,bb.area=b(Oa,{threshold:0});var ub=q(tb,{type:"area",getSegments:function(){var a,b,c,d,e=this,f=[],g=[],h=[],i=this.xAxis,j=this.yAxis,k=j.stacks[this.stackKey],l={},m=this.points,n=this.options.connectNulls;if(this.options.stacking&&!this.cropped){for(c=0;c<m.length;c++)l[m[c].x]=m[c];for(d in k)null!==k[d].total&&h.push(+d);h.sort(function(a,b){return a-b}),Ta(h,function(d){var f,h=0;if(!n||l[d]&&null!==l[d].y)if(l[d])g.push(l[d]);else{for(c=e.index;c<=j.series.length;c++)if(f=k[d].points[c+","+d]){h=f[1];break}a=i.translate(d),b=j.toPixels(h,!0),g.push({y:null,plotX:a,clientX:a,plotY:b,yBottom:b,onMouseOver:Ga})}}),g.length&&f.push(g)}else tb.prototype.getSegments.call(this),f=this.segments;this.segments=f},getSegmentPath:function(a){var b,c=tb.prototype.getSegmentPath.call(this,a),d=[].concat(c),e=this.options;b=c.length;var f,g=this.yAxis.getThreshold(e.threshold);if(3===b&&d.push("L",c[1],c[2]),e.stacking&&!this.closedStacks)for(b=a.length-1;b>=0;b--)f=n(a[b].yBottom,g),b<a.length-1&&e.step&&d.push(a[b+1].plotX,f),d.push(a[b].plotX,f);else this.closeSegment(d,a,g);return this.areaPath=this.areaPath.concat(d),c},closeSegment:function(a,b,c){a.push("L",b[b.length-1].plotX,c,"L",b[0].plotX,c)},drawGraph:function(){this.areaPath=[],tb.prototype.drawGraph.apply(this);
var a=this,b=this.areaPath,c=this.options,d=c.negativeColor,e=c.negativeFillColor,f=[["area",this.color,c.fillColor]];(d||e)&&f.push(["areaNeg",d,e]),Ta(f,function(d){var e=d[0],f=a[e];f?f.animate({d:b}):a[e]=a.chart.renderer.path(b).attr({fill:n(d[2],fb(d[1]).setOpacity(n(c.fillOpacity,.75)).get()),zIndex:0}).add(a.group)})},drawLegendSymbol:Pa.drawRectangle});Na.area=ub,bb.spline=b(Oa),ib=q(tb,{type:"spline",getPointSpline:function(a,b,c){var d,e,f,g,h=b.plotX,i=b.plotY,j=a[c-1],k=a[c+1];if(j&&k){a=j.plotY,f=k.plotX;var l,k=k.plotY;d=(1.5*h+j.plotX)/2.5,e=(1.5*i+a)/2.5,f=(1.5*h+f)/2.5,g=(1.5*i+k)/2.5,l=(g-e)*(f-h)/(f-d)+i-g,e+=l,g+=l,e>a&&e>i?(e=ma(a,i),g=2*i-e):a>e&&i>e&&(e=na(a,i),g=2*i-e),g>k&&g>i?(g=ma(k,i),e=2*i-g):k>g&&i>g&&(g=na(k,i),e=2*i-g),b.rightContX=f,b.rightContY=g}return c?(b=["C",j.rightContX||j.plotX,j.rightContY||j.plotY,d||h,e||i,h,i],j.rightContX=j.rightContY=null):b=["M",h,i],b}}),Na.spline=ib,bb.areaspline=b(bb.area),ub=ub.prototype,ib=q(ib,{type:"areaspline",closedStacks:!0,getSegmentPath:ub.getSegmentPath,closeSegment:ub.closeSegment,drawGraph:ub.drawGraph,drawLegendSymbol:Pa.drawRectangle}),Na.areaspline=ib,bb.column=b(Oa,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,tooltip:{distance:6},threshold:0}),ib=q(tb,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){tb.prototype.init.apply(this,arguments);var a=this,b=a.chart;b.hasRendered&&Ta(b.series,function(b){b.type===a.type&&(b.isDirty=!0)})},getColumnMetrics:function(){var a,b,c=this,d=c.options,e=c.xAxis,f=c.yAxis,g=e.reversed,h={},i=0;d.grouping===!1?i=1:Ta(c.chart.series,function(d){var e=d.options,g=d.yAxis;d.type===c.type&&d.visible&&f.len===g.len&&f.pos===g.pos&&(e.stacking?(a=d.stackKey,h[a]===K&&(h[a]=i++),b=h[a]):e.grouping!==!1&&(b=i++),d.columnIndex=b)});var e=na(oa(e.transA)*(e.ordinalSlope||d.pointRange||e.closestPointRange||e.tickInterval||1),e.len),j=e*d.groupPadding,l=(e-2*j)/i,m=d.pointWidth,d=k(m)?(l-m)/2:l*d.pointPadding,m=n(m,l-2*d);return c.columnMetrics={width:m,offset:d+(j+((g?i-(c.columnIndex||0):c.columnIndex)||0)*l-e/2)*(g?-1:1)}},translate:function(){var a=this,b=a.chart,c=a.options,d=a.borderWidth=n(c.borderWidth,a.activePointCount>.5*a.xAxis.len?0:1),e=a.yAxis,f=a.translatedThreshold=e.getThreshold(c.threshold),g=n(c.minPointLength,5),h=a.getColumnMetrics(),i=h.width,j=a.barW=ma(i,1+2*d),k=a.pointXOffset=h.offset,l=-(d%2?.5:0),m=d%2?.5:1;b.renderer.isVML&&b.inverted&&(m+=1),c.pointPadding&&(j=la(j)),tb.prototype.translate.apply(a),Ta(a.points,function(c){var d,h=n(c.yBottom,f),o=na(ma(-999-h,c.plotY),e.len+999+h),p=c.plotX+k,q=j,r=na(o,h);d=ma(o,h)-r,oa(d)<g&&g&&(d=g,r=ja(oa(r-f)>g?h-g:f-(e.translate(c.y,0,1,0,1)<=f?g:0))),c.barX=p,c.pointWidth=i,c.tooltipPos=b.inverted?[e.len-o,a.xAxis.len-p-q/2]:[p+q/2,o],q=ja(p+q)+l,p=ja(p)+l,q-=p,h=oa(r)<.5,d=ja(r+d)+m,r=ja(r)+m,d-=r,h&&(r-=1,d+=1),c.shapeType="rect",c.shapeArgs={x:p,y:r,width:q,height:d}})},getSymbol:Ga,drawLegendSymbol:Pa.drawRectangle,drawGraph:Ga,drawPoints:function(){var a,c,d=this,e=this.chart,f=d.options,g=e.renderer,h=f.animationLimit||250;Ta(d.points,function(i){var j=i.plotY,l=i.graphic;j===K||isNaN(j)||null===i.y?l&&(i.graphic=l.destroy()):(a=i.shapeArgs,j=k(d.borderWidth)?{"stroke-width":d.borderWidth}:{},c=i.pointAttr[i.selected?"select":""]||d.pointAttr[""],l?(ab(l),l.attr(j)[e.pointCount<h?"animate":"attr"](b(a))):i.graphic=g[i.shapeType](a).attr(c).attr(j).add(d.group).shadow(f.shadow,null,f.stacking&&!f.borderRadius))})},animate:function(a){var b=this.yAxis,c=this.options,d=this.chart.inverted,e={};Ba&&(a?(e.scaleY=.001,a=na(b.pos+b.len,ma(b.pos,b.toPixels(c.threshold))),d?e.translateX=a-b.len:e.translateY=a,this.group.attr(e)):(e.scaleY=1,e[d?"translateX":"translateY"]=b.pos,this.group.animate(e,this.options.animation),this.animate=null))},remove:function(){var a=this,b=a.chart;b.hasRendered&&Ta(b.series,function(b){b.type===a.type&&(b.isDirty=!0)}),tb.prototype.remove.apply(a,arguments)}}),Na.column=ib,bb.bar=b(bb.column),ub=q(ib,{type:"bar",inverted:!0}),Na.bar=ub,bb.scatter=b(Oa,{lineWidth:0,tooltip:{headerFormat:'<span style="color:{series.color}">●</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"},stickyTracking:!1}),ub=q(tb,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,singularTooltips:!0,drawGraph:function(){this.options.lineWidth&&tb.prototype.drawGraph.call(this)}}),Na.scatter=ub,bb.pie=b(Oa,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}}),Oa={type:"pie",isCartesian:!1,pointClass:q(sb,{init:function(){sb.prototype.init.apply(this,arguments);var b,c=this;return c.y<0&&(c.y=null),a(c,{visible:c.visible!==!1,name:n(c.name,"Slice")}),b=function(a){c.slice("select"===a.type)},Xa(c,"select",b),Xa(c,"unselect",b),c},setVisible:function(a){var b=this,c=b.series,d=c.chart;b.visible=b.options.visible=a=a===K?!b.visible:a,c.options.data[Sa(b,c.data)]=b.options,Ta(["graphic","dataLabel","connector","shadowGroup"],function(c){b[c]&&b[c][a?"show":"hide"](!0)}),b.legendItem&&d.legend.colorizeItem(b,a),!c.isDirty&&c.options.ignoreHiddenPoint&&(c.isDirty=!0,d.redraw())},slice:function(a,b,c){var d=this.series;D(c,d.chart),n(b,!0),this.sliced=this.options.sliced=a=k(a)?a:!this.sliced,d.options.data[Sa(this,d.data)]=this.options,a=a?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(a),this.shadowGroup&&this.shadowGroup.animate(a)},haloPath:function(a){var b=this.shapeArgs,c=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(c.plotLeft+b.x,c.plotTop+b.y,b.r+a,b.r+a,{innerR:this.shapeArgs.r,start:b.start,end:b.end})}}),requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},singularTooltips:!0,getColor:Ga,animate:function(a){var b=this,c=b.points,d=b.startAngleRad;a||(Ta(c,function(a){var c=a.graphic,a=a.shapeArgs;c&&(c.attr({r:b.center[3]/2,start:d,end:d}),c.animate({r:a.r,start:a.start,end:a.end},b.options.animation))}),b.animate=null)},setData:function(a,b,c,d){tb.prototype.setData.call(this,a,!1,c,d),this.processData(),this.generatePoints(),n(b,!0)&&this.chart.redraw(c)},generatePoints:function(){var a,b,c,d,e=0,f=this.options.ignoreHiddenPoint;for(tb.prototype.generatePoints.call(this),b=this.points,c=b.length,a=0;c>a;a++)d=b[a],e+=f&&!d.visible?0:d.y;for(this.total=e,a=0;c>a;a++)d=b[a],d.percentage=e>0?d.y/e*100:0,d.total=e},translate:function(a){this.generatePoints();var b,c,d,e,f,g=0,h=this.options,i=h.slicedOffset,j=i+h.borderWidth,k=h.startAngle||0,l=this.startAngleRad=ra/180*(k-90),k=(this.endAngleRad=ra/180*(n(h.endAngle,k+360)-90))-l,m=this.points,o=h.dataLabels.distance,h=h.ignoreHiddenPoint,p=m.length;for(a||(this.center=a=this.getCenter()),this.getX=function(b,c){return d=ia.asin(na((b-a[1])/(a[2]/2+o),1)),a[0]+(c?-1:1)*pa(d)*(a[2]/2+o)},e=0;p>e;e++)f=m[e],b=l+g*k,(!h||f.visible)&&(g+=f.percentage/100),c=l+g*k,f.shapeType="arc",f.shapeArgs={x:a[0],y:a[1],r:a[2]/2,innerR:a[3]/2,start:ja(1e3*b)/1e3,end:ja(1e3*c)/1e3},d=(c+b)/2,d>1.5*ra?d-=2*ra:-ra/2>d&&(d+=2*ra),f.slicedTranslation={translateX:ja(pa(d)*i),translateY:ja(qa(d)*i)},b=pa(d)*a[2]/2,c=qa(d)*a[2]/2,f.tooltipPos=[a[0]+.7*b,a[1]+.7*c],f.half=-ra/2>d||d>ra/2?1:0,f.angle=d,j=na(j,o/2),f.labelPos=[a[0]+b+pa(d)*o,a[1]+c+qa(d)*o,a[0]+b+pa(d)*j,a[1]+c+qa(d)*j,a[0]+b,a[1]+c,0>o?"center":f.half?"right":"left",d]},drawGraph:null,drawPoints:function(){var b,c,d,e,f=this,g=f.chart.renderer,h=f.options.shadow;h&&!f.shadowGroup&&(f.shadowGroup=g.g("shadow").add(f.group)),Ta(f.points,function(i){c=i.graphic,e=i.shapeArgs,d=i.shadowGroup,h&&!d&&(d=i.shadowGroup=g.g("shadow").add(f.shadowGroup)),b=i.sliced?i.slicedTranslation:{translateX:0,translateY:0},d&&d.attr(b),c?c.animate(a(e,b)):i.graphic=c=g[i.shapeType](e).setRadialReference(f.center).attr(i.pointAttr[i.selected?"select":""]).attr({"stroke-linejoin":"round"}).attr(b).add(f.group).shadow(h,d),void 0!==i.visible&&i.setVisible(i.visible)})},sortByAngle:function(a,b){a.sort(function(a,c){return void 0!==a.angle&&(c.angle-a.angle)*b})},drawLegendSymbol:Pa.drawRectangle,getCenter:hb.getCenter,getSymbol:Ga},Oa=q(tb,Oa),Na.pie=Oa,tb.prototype.drawDataLabels=function(){var c,d,e,f,g=this,h=g.options,i=h.cursor,j=h.dataLabels,l=g.points;(j.enabled||g._hasPointLabels)&&(g.dlProcessOptions&&g.dlProcessOptions(j),f=g.plotGroup("dataLabelsGroup","data-labels",j.defer?"hidden":"visible",j.zIndex||6),!g.hasRendered&&n(j.defer,!0)&&(f.attr({opacity:0}),Xa(g,"afterAnimate",function(){g.visible&&f.show(),f[h.animation?"animate":"attr"]({opacity:1},{duration:200})})),d=j,Ta(l,function(h){var l,m,o,p=h.dataLabel,q=h.connector,r=!0;if(c=h.options&&h.options.dataLabels,l=n(c&&c.enabled,d.enabled),p&&!l)h.dataLabel=p.destroy();else if(l){if(j=b(d,c),l=j.rotation,m=h.getLabelConfig(),e=j.format?u(j.format,m):j.formatter.call(m,j),j.style.color=n(j.color,j.style.color,g.color,"black"),p)k(e)?(p.attr({text:e}),r=!1):(h.dataLabel=p=p.destroy(),q&&(h.connector=q.destroy()));else if(k(e)){p={fill:j.backgroundColor,stroke:j.borderColor,"stroke-width":j.borderWidth,r:j.borderRadius||0,rotation:l,padding:j.padding,zIndex:1};for(o in p)p[o]===K&&delete p[o];p=h.dataLabel=g.chart.renderer[l?"text":"label"](e,0,-999,null,null,null,j.useHTML).attr(p).css(a(j.style,i&&{cursor:i})).add(f).shadow(j.shadow)}p&&g.alignDataLabel(h,p,j,null,r)}}))},tb.prototype.alignDataLabel=function(b,c,d,e,f){var g=this.chart,h=g.inverted,i=n(b.plotX,-999),j=n(b.plotY,-999),k=c.getBBox();(b=this.visible&&(b.series.forceDL||g.isInsidePlot(i,ja(j),h)||e&&g.isInsidePlot(i,h?e.x+1:e.y+e.height-1,h)))&&(e=a({x:h?g.plotWidth-j:i,y:ja(h?g.plotHeight-i:j),width:0,height:0},e),a(d,{width:k.width,height:k.height}),d.rotation?c[f?"attr":"animate"]({x:e.x+d.x+e.width/2,y:e.y+d.y+e.height/2}).attr({align:d.align}):(c.align(d,null,e),h=c.alignAttr,"justify"===n(d.overflow,"justify")?this.justifyDataLabel(c,d,h,k,e,f):n(d.crop,!0)&&(b=g.isInsidePlot(h.x,h.y)&&g.isInsidePlot(h.x+k.width,h.y+k.height)))),b||(c.attr({y:-999}),c.placed=!1)},tb.prototype.justifyDataLabel=function(a,b,c,d,e,f){var g,h,i=this.chart,j=b.align,k=b.verticalAlign;g=c.x,0>g&&("right"===j?b.align="left":b.x=-g,h=!0),g=c.x+d.width,g>i.plotWidth&&("left"===j?b.align="right":b.x=i.plotWidth-g,h=!0),g=c.y,0>g&&("bottom"===k?b.verticalAlign="top":b.y=-g,h=!0),g=c.y+d.height,g>i.plotHeight&&("top"===k?b.verticalAlign="bottom":b.y=i.plotHeight-g,h=!0),h&&(a.placed=!f,a.align(b,null,e))},Na.pie&&(Na.pie.prototype.drawDataLabels=function(){var a,b,c,d,e,f,g,h,i,j,k,l=this,m=l.data,o=l.chart,p=l.options.dataLabels,q=n(p.connectorPadding,10),r=n(p.connectorWidth,1),s=o.plotWidth,t=o.plotHeight,u=n(p.softConnector,!0),v=p.distance,w=l.center,x=w[2]/2,y=w[1],A=v>0,B=[[],[]],C=[0,0,0,0],D=function(a,b){return b.y-a.y};if(l.visible&&(p.enabled||l._hasPointLabels)){for(tb.prototype.drawDataLabels.apply(l),Ta(m,function(a){a.dataLabel&&a.visible&&B[a.half].push(a)}),j=2;j--;){var E,F=[],G=[],H=B[j],I=H.length;if(I){for(l.sortByAngle(H,j-.5),k=m=0;!m&&H[k];)m=H[k]&&H[k].dataLabel&&(H[k].dataLabel.getBBox().height||21),k++;if(v>0){for(e=na(y+x+v,o.plotHeight),k=ma(0,y-x-v);e>=k;k+=m)F.push(k);if(e=F.length,I>e){for(a=[].concat(H),a.sort(D),k=I;k--;)a[k].rank=k;for(k=I;k--;)H[k].rank>=e&&H.splice(k,1);I=H.length}for(k=0;I>k;k++){a=H[k],f=a.labelPos,a=9999;var J,K;for(K=0;e>K;K++)J=oa(F[K]-f[1]),a>J&&(a=J,E=K);if(k>E&&null!==F[k])E=k;else for(I-k+E>e&&null!==F[k]&&(E=e-I+k);null===F[E];)E++;G.push({i:E,y:F[E]}),F[E]=null}G.sort(D)}for(k=0;I>k;k++)a=H[k],f=a.labelPos,d=a.dataLabel,i=a.visible===!1?"hidden":"visible",a=f[1],v>0?(e=G.pop(),E=e.i,h=e.y,(a>h&&null!==F[E+1]||h>a&&null!==F[E-1])&&(h=na(ma(0,a),o.plotHeight))):h=a,g=p.justify?w[0]+(j?-1:1)*(x+v):l.getX(h===y-x-v||h===y+x+v?a:h,j),d._attr={visibility:i,align:f[6]},d._pos={x:g+p.x+({left:q,right:-q}[f[6]]||0),y:h+p.y-10},d.connX=g,d.connY=h,null===this.options.size&&(e=d.width,q>g-e?C[3]=ma(ja(e-g+q),C[3]):g+e>s-q&&(C[1]=ma(ja(g+e-s+q),C[1])),0>h-m/2?C[0]=ma(ja(-h+m/2),C[0]):h+m/2>t&&(C[2]=ma(ja(h+m/2-t),C[2])))}}(0===z(C)||this.verifyDataLabelOverflow(C))&&(this.placeDataLabels(),A&&r&&Ta(this.points,function(a){b=a.connector,f=a.labelPos,(d=a.dataLabel)&&d._pos?(i=d._attr.visibility,g=d.connX,h=d.connY,c=u?["M",g+("left"===f[6]?5:-5),h,"C",g,h,2*f[2]-f[4],2*f[3]-f[5],f[2],f[3],"L",f[4],f[5]]:["M",g+("left"===f[6]?5:-5),h,"L",f[2],f[3],"L",f[4],f[5]],b?(b.animate({d:c}),b.attr("visibility",i)):a.connector=b=l.chart.renderer.path(c).attr({"stroke-width":r,stroke:p.connectorColor||a.color||"#606060",visibility:i}).add(l.dataLabelsGroup)):b&&(a.connector=b.destroy())}))}},Na.pie.prototype.placeDataLabels=function(){Ta(this.points,function(a){var b,a=a.dataLabel;a&&((b=a._pos)?(a.attr(a._attr),a[a.moved?"animate":"attr"](b),a.moved=!0):a&&a.attr({y:-999}))})},Na.pie.prototype.alignDataLabel=Ga,Na.pie.prototype.verifyDataLabelOverflow=function(a){var b,c=this.center,d=this.options,e=d.center,f=d=d.minSize||80;return null!==e[0]?f=ma(c[2]-ma(a[1],a[3]),d):(f=ma(c[2]-a[1]-a[3],d),c[0]+=(a[3]-a[1])/2),null!==e[1]?f=ma(na(f,c[2]-ma(a[0],a[2])),d):(f=ma(na(f,c[2]-a[0]-a[2]),d),c[1]+=(a[0]-a[2])/2),f<c[2]?(c[2]=f,this.translate(c),Ta(this.points,function(a){a.dataLabel&&(a.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):b=!0,b}),Na.column&&(Na.column.prototype.alignDataLabel=function(a,c,d,e,f){var g=this.chart,h=g.inverted,i=a.dlBox||a.shapeArgs,j=a.below||a.plotY>n(this.translatedThreshold,g.plotSizeY),k=n(d.inside,!!this.options.stacking);i&&(e=b(i),h&&(e={x:g.plotWidth-e.y-e.height,y:g.plotHeight-e.x-e.width,width:e.height,height:e.width}),!k)&&(h?(e.x+=j?0:e.width,e.width=0):(e.y+=j?e.height:0,e.height=0)),d.align=n(d.align,!h||k?"center":j?"right":"left"),d.verticalAlign=n(d.verticalAlign,h||k?"middle":j?"top":"bottom"),tb.prototype.alignDataLabel.call(this,a,c,d,e,f)}),Oa=fa.TrackerMixin={drawTrackerPoint:function(){var a=this,b=a.chart,c=b.pointer,d=a.options.cursor,e=d&&{cursor:d},f=function(c){var d,e=c.target;for(b.hoverSeries!==a&&a.onMouseOver();e&&!d;)d=e.point,e=e.parentNode;d!==K&&d!==b.hoverPoint&&d.onMouseOver(c)};Ta(a.points,function(a){a.graphic&&(a.graphic.element.point=a),a.dataLabel&&(a.dataLabel.element.point=a)}),a._hasTracking||(Ta(a.trackerGroups,function(b){a[b]&&(a[b].addClass("highcharts-tracker").on("mouseover",f).on("mouseout",function(a){c.onTrackerMouseOut(a)}).css(e),M)&&a[b].on("touchstart",f)}),a._hasTracking=!0)},drawTrackerGraph:function(){var a,b=this,c=b.options,d=c.trackByArea,e=[].concat(d?b.areaPath:b.graphPath),f=e.length,g=b.chart,h=g.pointer,i=g.renderer,j=g.options.tooltip.snap,k=b.tracker,l=c.cursor,m=l&&{cursor:l},l=b.singlePoints,n=function(){g.hoverSeries!==b&&b.onMouseOver()},o="rgba(192,192,192,"+(Ba?1e-4:.002)+")";if(f&&!d)for(a=f+1;a--;)"M"===e[a]&&e.splice(a+1,0,e[a+1]-j,e[a+2],"L"),(a&&"M"===e[a]||a===f)&&e.splice(a,0,"L",e[a-2]+j,e[a-1]);for(a=0;a<l.length;a++)f=l[a],e.push("M",f.plotX-j,f.plotY,"L",f.plotX+j,f.plotY);k?k.attr({d:e}):(b.tracker=i.path(e).attr({"stroke-linejoin":"round",visibility:b.visible?"visible":"hidden",stroke:o,fill:d?o:Ka,"stroke-width":c.lineWidth+(d?0:2*j),zIndex:2}).add(b.group),Ta([b.tracker,b.markerGroup],function(a){a.addClass("highcharts-tracker").on("mouseover",n).on("mouseout",function(a){h.onTrackerMouseOut(a)}).css(m),M&&a.on("touchstart",n)}))}},Na.column&&(ib.prototype.drawTracker=Oa.drawTrackerPoint),Na.pie&&(Na.pie.prototype.drawTracker=Oa.drawTrackerPoint),Na.scatter&&(ub.prototype.drawTracker=Oa.drawTrackerPoint),a(rb.prototype,{setItemEvents:function(a,b,c,d,e){var f=this;(c?b:a.legendGroup).on("mouseover",function(){a.setState("hover"),b.css(f.options.itemHoverStyle)}).on("mouseout",function(){b.css(a.visible?d:e),a.setState()}).on("click",function(b){var c=function(){a.setVisible()},b={browserEvent:b};a.firePointEvent?a.firePointEvent("legendItemClick",b,c):Za(a,"legendItemClick",b,c)})},createCheckboxForItem:function(a){a.checkbox=p("input",{type:"checkbox",checked:a.selected,defaultChecked:a.selected},this.options.itemCheckboxStyle,this.chart.container),Xa(a.checkbox,"click",function(b){Za(a,"checkboxClick",{checked:b.target.checked},function(){a.select()})})}}),O.legend.itemStyle.cursor="pointer",a(I.prototype,{showResetZoom:function(){var a=this,b=O.lang,c=a.options.chart.resetZoomButton,d=c.theme,e=d.states,f="chart"===c.relativeTo?null:"plotBox";this.resetZoomButton=a.renderer.button(b.resetZoom,null,null,function(){a.zoomOut()},d,e&&e.hover).attr({align:c.position.align,title:b.resetZoomTitle}).add().align(c.position,!1,f)},zoomOut:function(){var a=this;Za(a,"selection",{resetSelection:!0},function(){a.zoom()})},zoom:function(a){var b,c,d=this.pointer,f=!1;!a||a.resetSelection?Ta(this.axes,function(a){b=a.zoom()}):Ta(a.xAxis.concat(a.yAxis),function(a){var c=a.axis,e=c.isXAxis;(d[e?"zoomX":"zoomY"]||d[e?"pinchX":"pinchY"])&&(b=c.zoom(a.min,a.max),c.displayBtn&&(f=!0))}),c=this.resetZoomButton,f&&!c?this.showResetZoom():!f&&e(c)&&(this.resetZoomButton=c.destroy()),b&&this.redraw(n(this.options.chart.animation,a&&a.animation,this.pointCount<100))},pan:function(a,b){var c,d=this,e=d.hoverPoints;e&&Ta(e,function(a){a.setState()}),Ta("xy"===b?[1,0]:[1],function(b){var e=a[b?"chartX":"chartY"],f=d[b?"xAxis":"yAxis"][0],g=d[b?"mouseDownX":"mouseDownY"],h=(f.pointRange||0)/2,i=f.getExtremes(),j=f.toValue(g-e,!0)+h,g=f.toValue(g+d[b?"plotWidth":"plotHeight"]-e,!0)-h;f.series.length&&j>na(i.dataMin,i.min)&&g<ma(i.dataMax,i.max)&&(f.setExtremes(j,g,!1,!1,{trigger:"pan"}),c=!0),d[b?"mouseDownX":"mouseDownY"]=e}),c&&d.redraw(!1),o(d.container,{cursor:"move"})}}),a(sb.prototype,{select:function(a,b){var c=this,d=c.series,e=d.chart,a=n(a,!c.selected);c.firePointEvent(a?"select":"unselect",{accumulate:b},function(){c.selected=c.options.selected=a,d.options.data[Sa(c,d.data)]=c.options,c.setState(a&&"select"),b||Ta(e.getSelectedPoints(),function(a){a.selected&&a!==c&&(a.selected=a.options.selected=!1,d.options.data[Sa(a,d.data)]=a.options,a.setState(""),a.firePointEvent("unselect"))})})},onMouseOver:function(a){var b=this.series,c=b.chart,d=c.tooltip,e=c.hoverPoint;e&&e!==this&&e.onMouseOut(),this.firePointEvent("mouseOver"),d&&(!d.shared||b.noSharedTooltip)&&d.refresh(this,a),this.setState("hover"),c.hoverPoint=this},onMouseOut:function(){var a=this.series.chart,b=a.hoverPoints;this.firePointEvent("mouseOut"),b&&-1!==Sa(this,b)||(this.setState(),a.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var a,c=b(this.series.options.point,this.options).events;this.events=c;for(a in c)Xa(this,a,c[a]);this.hasImportedEvents=!0}},setState:function(c,d){var e,f=this.plotX,g=this.plotY,h=this.series,i=h.options.states,j=bb[h.type].marker&&h.options.marker,k=j&&!j.enabled,l=j&&j.states[c],m=l&&l.enabled===!1,n=h.stateMarkerGraphic,o=this.marker||{},p=h.chart,q=h.halo,c=c||"";e=this.pointAttr[c]||h.pointAttr[c],c===this.state&&!d||this.selected&&"select"!==c||i[c]&&i[c].enabled===!1||c&&(m||k&&l.enabled===!1)||c&&o.states&&o.states[c]&&o.states[c].enabled===!1||(this.graphic?(j=j&&this.graphic.symbolName&&e.r,this.graphic.attr(b(e,j?{x:f-j,y:g-j,width:2*j,height:2*j}:{})),n&&n.hide()):(c&&l&&(j=l.radius,o=o.symbol||h.symbol,n&&n.currentSymbol!==o&&(n=n.destroy()),n?n[d?"animate":"attr"]({x:f-j,y:g-j}):o&&(h.stateMarkerGraphic=n=p.renderer.symbol(o,f-j,g-j,2*j,2*j).attr(e).add(h.markerGroup),n.currentSymbol=o)),n&&n[c&&p.isInsidePlot(f,g,p.inverted)?"show":"hide"]()),(f=i[c]&&i[c].halo)&&f.size?(q||(h.halo=q=p.renderer.path().add(h.seriesGroup)),q.attr(a({fill:fb(this.color||h.color).setOpacity(f.opacity).get()},f.attributes))[d?"animate":"attr"]({d:this.haloPath(f.size)})):q&&q.attr({d:[]}),this.state=c)},haloPath:function(a){var b=this.series,c=b.chart,d=b.getPlotBox(),e=c.inverted;return c.renderer.symbols.circle(d.translateX+(e?b.yAxis.len-this.plotY:this.plotX)-a,d.translateY+(e?b.xAxis.len-this.plotX:this.plotY)-a,2*a,2*a)}}),a(tb.prototype,{onMouseOver:function(){var a=this.chart,b=a.hoverSeries;b&&b!==this&&b.onMouseOut(),this.options.events.mouseOver&&Za(this,"mouseOver"),this.setState("hover"),a.hoverSeries=this},onMouseOut:function(){var a=this.options,b=this.chart,c=b.tooltip,d=b.hoverPoint;d&&d.onMouseOut(),this&&a.events.mouseOut&&Za(this,"mouseOut"),c&&!a.stickyTracking&&(!c.shared||this.noSharedTooltip)&&c.hide(),this.setState(),b.hoverSeries=null},setState:function(a){var b=this.options,c=this.graph,d=this.graphNeg,e=b.states,b=b.lineWidth,a=a||"";this.state!==a&&(this.state=a,e[a]&&e[a].enabled===!1||(a&&(b=e[a].lineWidth||b+(e[a].lineWidthPlus||0)),c&&!c.dashstyle&&(a={"stroke-width":b},c.attr(a),d&&d.attr(a))))},setVisible:function(a,b){var c,d=this,e=d.chart,f=d.legendItem,g=e.options.chart.ignoreHiddenSeries,h=d.visible;c=(d.visible=a=d.userOptions.visible=a===K?!h:a)?"show":"hide",Ta(["group","dataLabelsGroup","markerGroup","tracker"],function(a){d[a]&&d[a][c]()}),e.hoverSeries===d&&d.onMouseOut(),f&&e.legend.colorizeItem(d,a),d.isDirty=!0,d.options.stacking&&Ta(e.series,function(a){a.options.stacking&&a.visible&&(a.isDirty=!0)}),Ta(d.linkedSeries,function(b){b.setVisible(a,!1)}),g&&(e.isDirtyBox=!0),b!==!1&&e.redraw(),Za(d,c)},setTooltipPoints:function(a){var b,c,d,e,f=[],g=this.xAxis,h=g&&g.getExtremes(),i=g?g.tooltipLen||g.len:this.chart.plotSizeX,j=[];if(this.options.enableMouseTracking!==!1&&!this.singularTooltips){for(a&&(this.tooltipPoints=null),Ta(this.segments||this.points,function(a){f=f.concat(a)}),g&&g.reversed&&(f=f.reverse()),this.orderTooltipPoints&&this.orderTooltipPoints(f),a=f.length,e=0;a>e;e++)if(g=f[e],b=g.x,b>=h.min&&b<=h.max)for(d=f[e+1],b=c===K?0:c+1,c=f[e+1]?na(ma(0,ka((g.clientX+(d?d.wrappedClientX||d.clientX:i))/2)),i):i;b>=0&&c>=b;)j[b++]=g;this.tooltipPoints=j}},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(a){this.selected=a=a===K?!this.selected:a,this.checkbox&&(this.checkbox.checked=a),Za(this,a?"select":"unselect")},drawTracker:Oa.drawTrackerGraph}),a(fa,{Axis:H,Chart:I,Color:fb,Point:sb,Tick:G,Renderer:L,Series:tb,SVGElement:F,SVGRenderer:gb,arrayMin:y,arrayMax:z,charts:Ha,dateFormat:P,format:u,pathAnim:R,getOptions:function(){return O},hasBidiBug:Ca,isTouchDevice:za,numberFormat:r,seriesTypes:Na,setOptions:function(a){return O=b(!0,O,a),E(),O},addEvent:Xa,removeEvent:Ya,createElement:p,discardElement:B,css:o,each:Ta,extend:a,map:Wa,merge:b,pick:n,splat:m,extendClass:q,pInt:c,wrap:t,svg:Ba,canvas:Da,vml:!Ba&&!Da,product:"Highcharts",version:"4.0.3"})}(),function(){var a=Highcharts,b=a.Chart,c=a.addEvent,d=a.removeEvent,e=a.createElement,f=a.discardElement,g=a.css,h=a.merge,i=a.each,j=a.extend,k=Math.max,l=document,m=window,n=void 0!==l.documentElement.ontouchstart,o=a.getOptions();j(o.lang,{downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",exportButtonTitle:"Export to raster or vector image",printButtonTitle:"Print the chart"}),o.navigation={menuStyle:{border:"1px solid #A0A0A0",background:"#FFFFFF"},menuItemStyle:{padding:"0 5px",background:"none",color:"#303030",fontSize:n?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{align:"right",backgroundColor:{linearGradient:[0,0,0,20],stops:[[.4,"#F7F7F7"],[.6,"#E3E3E3"]]},borderColor:"#B0B0B0",borderRadius:3,borderWidth:1,height:20,hoverBorderColor:"#909090",hoverSymbolFill:"#81A7CF",hoverSymbolStroke:"#4572A5",symbolFill:"#E0E0E0",symbolStroke:"#A0A0A0",symbolX:11.5,symbolY:10.5,verticalAlign:"top",width:24,y:10}},o.exporting={type:"image/png",url:"http://export.highcharts.com/",width:800,enableImages:!1,buttons:{exportButton:{symbol:"exportIcon",x:-10,symbolFill:"#A8BF77",hoverSymbolFill:"#768F3E",_id:"exportButton",_titleKey:"exportButtonTitle",menuItems:[{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]},printButton:{symbol:"printIcon",x:-36,symbolFill:"#B5C9DF",hoverSymbolFill:"#779ABF",_id:"printButton",_titleKey:"printButtonTitle",onclick:function(){this.print()}}}},j(b.prototype,{getSVG:function(b){var c,d,g,k,m,n,o=this,p=h(o.options,b);return l.createElementNS||(l.createElementNS=function(b,c){var d=l.createElement(c);return d.getBBox=function(){return a.Renderer.prototype.Element.prototype.getBBox.apply({element:d})},d}),b=e("div",null,{position:"absolute",top:"-9999em",width:o.chartWidth+"px",height:o.chartHeight+"px"},l.body),j(p.chart,{renderTo:b,forExport:!0}),p.exporting.enabled=!1,p.exporting.enableImages||(p.chart.plotBackgroundImage=null),p.series=[],i(o.series,function(a){g=a.options,g.animation=!1,g.showCheckbox=!1,g.visible=a.visible,p.exporting.enableImages||g&&g.marker&&/^url\(/.test(g.marker.symbol)&&(g.marker.symbol="circle"),g.data=[],i(a.data,function(a){k=a.config,m={x:a.x,y:a.y,name:a.name},"object"==typeof k&&a.config&&k.constructor!==Array&&j(m,k),m.visible=a.visible,g.data.push(m),p.exporting.enableImages||(n=a.config&&a.config.marker)&&/^url\(/.test(n.symbol)&&delete n.symbol}),p.series.push(g)}),c=new Highcharts.Chart(p),i(["xAxis","yAxis"],function(a){i(o[a],function(b,d){var e=c[a][d],f=b.getExtremes(),g=f.userMin;f=f.userMax,(void 0!==g||void 0!==f)&&e.setExtremes(g,f,!0,!1)})}),d=c.container.innerHTML,p=null,c.destroy(),f(b),d=d.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/isTracker="[^"]+"/g,"").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ href=/g," xlink:href=").replace(/&nbsp;/g," ").replace(/&shy;/g,"­").replace(/id=([^" >]+)/g,'id="$1"').replace(/class=([^" ]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/<img ([^>]*)>/gi,"<image $1 />").replace(/<\/image>/g,"").replace(/<image ([^>]*)([^\/])>/gi,"<image $1$2 />").replace(/width=(\d+)/g,'width="$1"').replace(/height=(\d+)/g,'height="$1"').replace(/hc-svg-href="/g,'xlink:href="').replace(/style="([^"]+)"/g,function(a){return a.toLowerCase()}),d=d.replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'"),2===d.match(/ xmlns="/g).length&&(d=d.replace(/xmlns="[^"]+"/,"")),d},exportChart:function(a,b){var c,d=this.getSVG(b);a=h(this.options.exporting,a),c=e("form",{method:"post",action:a.url},{display:"none"},l.body),i(["filename","type","width","svg"],function(b){e("input",{type:"hidden",name:b,value:{filename:a.filename||"chart",type:a.type,width:a.width,svg:d}[b]},null,c)}),c.submit(),f(c)},print:function(){var a=this,b=a.container,c=[],d=b.parentNode,e=l.body,f=e.childNodes;a.isPrinting||(a.isPrinting=!0,i(f,function(a,b){1===a.nodeType&&(c[b]=a.style.display,a.style.display="none")}),e.appendChild(b),m.print(),setTimeout(function(){d.appendChild(b),i(f,function(a,b){1===a.nodeType&&(a.style.display=c[b])}),a.isPrinting=!1},1e3))},contextMenu:function(a,b,d,f,h,l){var m,o,p=this,q=p.options.navigation,r=q.menuItemStyle,s=p.chartWidth,t=p.chartHeight,u="cache-"+a,v=p[u],w=k(h,l);v||(p[u]=v=e("div",{className:"highcharts-"+a},{position:"absolute",zIndex:1e3,padding:w+"px"},p.container),m=e("div",null,j({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},q.menuStyle),v),o=function(){g(v,{display:"none"})},c(v,"mouseleave",o),i(b,function(a){if(a){var b=e("div",{onmouseover:function(){g(this,q.menuItemHoverStyle)},onmouseout:function(){g(this,r)},innerHTML:a.text||p.options.lang[a.textKey]},j({cursor:"pointer"},r),m);b[n?"ontouchstart":"onclick"]=function(){o(),a.onclick.apply(p,arguments)},p.exportDivElements.push(b)}}),p.exportDivElements.push(m,v),p.exportMenuWidth=v.offsetWidth,p.exportMenuHeight=v.offsetHeight),a={display:"block"},d+p.exportMenuWidth>s?a.right=s-d-h-w+"px":a.left=d-w+"px",f+l+p.exportMenuHeight>t?a.bottom=t-f-w+"px":a.top=f+l-w+"px",g(v,a)},addButton:function(a){function b(){d.attr(p),c.attr(o)}var c,d,e,f=this,g=f.renderer,i=h(f.options.navigation.buttonOptions,a),k=i.onclick,l=i.menuItems,m=i.width,n=i.height;a=i.borderWidth;var o={stroke:i.borderColor},p={stroke:i.symbolStroke,fill:i.symbolFill};f.exportDivElements||(f.exportDivElements=[],f.exportSVGElements=[]),i.enabled!==!1&&(c=g.rect(0,0,m,n,i.borderRadius,a).align(i,!0).attr(j({fill:i.backgroundColor,"stroke-width":a,zIndex:19},o)).add(),e=g.rect(0,0,m,n,0).align(i).attr({id:i._id,fill:"rgba(255, 255, 255, 0.001)",title:f.options.lang[i._titleKey],zIndex:21}).css({cursor:"pointer"}).on("mouseover",function(){d.attr({stroke:i.hoverSymbolStroke,fill:i.hoverSymbolFill}),c.attr({stroke:i.hoverBorderColor})}).on("mouseout",b).on("click",b).add(),l&&(k=function(){b();var a=e.getBBox();f.contextMenu("export-menu",l,a.x,a.y,m,n)}),e.on("click",function(){k.apply(f,arguments)}),d=g.symbol(i.symbol,i.symbolX,i.symbolY,(i.symbolSize||12)/2).align(i,!0).attr(j(p,{"stroke-width":i.symbolStrokeWidth||1,zIndex:20})).add(),f.exportSVGElements.push(c,e,d))},destroyExport:function(){var a,b;for(a=0;a<this.exportSVGElements.length;a++)b=this.exportSVGElements[a],b.onclick=b.ontouchstart=null,this.exportSVGElements[a]=b.destroy();for(a=0;a<this.exportDivElements.length;a++)b=this.exportDivElements[a],d(b,"mouseleave"),this.exportDivElements[a]=b.onmouseout=b.onmouseover=b.ontouchstart=b.onclick=null,f(b)}}),a.Renderer.prototype.symbols.exportIcon=function(a,b,c){return["M",a-c,b+c,"L",a+c,b+c,a+c,b+.5*c,a-c,b+.5*c,"Z","M",a,b+.5*c,"L",a-.5*c,b-c/3,a-c/6,b-c/3,a-c/6,b-c,a+c/6,b-c,a+c/6,b-c/3,a+.5*c,b-c/3,"Z"]},a.Renderer.prototype.symbols.printIcon=function(a,b,c){return["M",a-c,b+.5*c,"L",a+c,b+.5*c,a+c,b-c/3,a-c,b-c/3,"Z","M",a-.5*c,b-c/3,"L",a-.5*c,b-c,a+.5*c,b-c,a+.5*c,b-c/3,"Z","M",a-.5*c,b+.5*c,"L",a-.75*c,b+c,a+.75*c,b+c,a+.5*c,b+.5*c,"Z"]},b.prototype.callbacks.push(function(a){var b,d=a.options.exporting,e=d.buttons;if(d.enabled!==!1){for(b in e)a.addButton(e[b]);c(a,"destroy",a.destroyExport)}})}(),function(a){function b(b,c,d,e){var j,k,l;d*=f,c*=f;var m,n,o,p=[];d*=-1,m=e.x,n=e.y,o=(0===e.z?1e-4:e.z)*(e.vd||25),o=Math.max(500,o);var q,r,s,t=g(d),u=h(d),v=g(c),w=h(c);return a.each(b,function(a){q=a.x-m,r=a.y-n,s=a.z||0,j=u*q-t*s,k=-t*v*q-u*v*s+w*r,l=t*w*q+u*w*s+v*r,j=j*((o-l)/o)+m,k=k*((o-l)/o)+n,p.push({x:i(j),y:i(k),z:i(l)})}),p}function c(a,b,d,f,i,k,l,m){var n=[];return k>i&&k-i>e/2+1e-4?(n=n.concat(c(a,b,d,f,i,i+e/2,l,m)),n=n.concat(c(a,b,d,f,i+e/2,k,l,m))):i>k&&i-k>e/2+1e-4?(n=n.concat(c(a,b,d,f,i,i-e/2,l,m)),n=n.concat(c(a,b,d,f,i-e/2,k,l,m))):(n=k-i,["C",a+d*h(i)-d*j*n*g(i)+l,b+f*g(i)+f*j*n*h(i)+m,a+d*h(k)+d*j*n*g(k)+l,b+f*g(k)-f*j*n*h(k)+m,a+d*h(k)+l,b+f*g(k)+m])}function d(b){if(this.chart.is3d()){var c=this.chart.options.plotOptions.column.grouping;void 0!==c&&!c&&void 0!==this.group.zIndex&&this.group.attr({zIndex:10*this.group.zIndex});var d=this.options,e=this.options.states;this.borderWidth=d.borderWidth=d.edgeWidth||1,a.each(this.data,function(b){b=b.pointAttr,this.borderColor=a.pick(d.edgeColor,b[""].fill),
b[""].stroke=this.borderColor,b.hover.stroke=a.pick(e.hover.edgeColor,this.borderColor),b.select.stroke=a.pick(e.select.edgeColor,this.borderColor)})}b.apply(this,[].slice.call(arguments,1))}var e=Math.PI,f=e/180,g=Math.sin,h=Math.cos,i=Math.round,j=4*(Math.sqrt(2)-1)/3/(e/2);a.SVGRenderer.prototype.toLinePath=function(b,c){var d=[];return a.each(b,function(a){d.push("L",a.x,a.y)}),d[0]="M",c&&d.push("Z"),d},a.SVGRenderer.prototype.cuboid=function(b){var c=this.g(),b=this.cuboidPath(b);return c.front=this.path(b[0]).attr({zIndex:b[3],"stroke-linejoin":"round"}).add(c),c.top=this.path(b[1]).attr({zIndex:b[4],"stroke-linejoin":"round"}).add(c),c.side=this.path(b[2]).attr({zIndex:b[5],"stroke-linejoin":"round"}).add(c),c.fillSetter=function(b){var c=a.Color(b).brighten(.1).get(),d=a.Color(b).brighten(-.1).get();return this.front.attr({fill:b}),this.top.attr({fill:c}),this.side.attr({fill:d}),this.color=b,this},c.opacitySetter=function(a){return this.front.attr({opacity:a}),this.top.attr({opacity:a}),this.side.attr({opacity:a}),this},c.attr=function(b){return b.shapeArgs||b.x?(b=this.renderer.cuboidPath(b.shapeArgs||b),this.front.attr({d:b[0],zIndex:b[3]}),this.top.attr({d:b[1],zIndex:b[4]}),this.side.attr({d:b[2],zIndex:b[5]})):a.SVGElement.prototype.attr.call(this,b),this},c.animate=function(b,c,d){return b.x&&b.y?(b=this.renderer.cuboidPath(b),this.front.attr({zIndex:b[3]}).animate({d:b[0]},c,d),this.top.attr({zIndex:b[4]}).animate({d:b[1]},c,d),this.side.attr({zIndex:b[5]}).animate({d:b[2]},c,d)):b.opacity?(this.front.animate(b,c,d),this.top.animate(b,c,d),this.side.animate(b,c,d)):a.SVGElement.prototype.animate.call(this,b,c,d),this},c.destroy=function(){return this.front.destroy(),this.top.destroy(),this.side.destroy(),null},c.attr({zIndex:-b[3]}),c},a.SVGRenderer.prototype.cuboidPath=function(a){var c=a.x,d=a.y,e=a.z,f=a.height,g=a.width,h=a.depth,i=a.alpha,j=a.beta,c=[{x:c,y:d,z:e},{x:c+g,y:d,z:e},{x:c+g,y:d+f,z:e},{x:c,y:d+f,z:e},{x:c,y:d+f,z:e+h},{x:c+g,y:d+f,z:e+h},{x:c+g,y:d,z:e+h},{x:c,y:d,z:e+h}],c=b(c,i,j,a.origin),a=["M",c[0].x,c[0].y,"L",c[7].x,c[7].y,"L",c[6].x,c[6].y,"L",c[1].x,c[1].y,"Z"],d=["M",c[3].x,c[3].y,"L",c[2].x,c[2].y,"L",c[5].x,c[5].y,"L",c[4].x,c[4].y,"Z"],e=["M",c[1].x,c[1].y,"L",c[2].x,c[2].y,"L",c[5].x,c[5].y,"L",c[6].x,c[6].y,"Z"],f=["M",c[0].x,c[0].y,"L",c[7].x,c[7].y,"L",c[4].x,c[4].y,"L",c[3].x,c[3].y,"Z"];return[["M",c[0].x,c[0].y,"L",c[1].x,c[1].y,"L",c[2].x,c[2].y,"L",c[3].x,c[3].y,"Z"],c[7].y<c[1].y?a:c[4].y>c[2].y?d:[],c[6].x>c[1].x?e:c[7].x<c[0].x?f:[],(c[0].z+c[1].z+c[2].z+c[3].z)/4,j>0?(c[0].z+c[7].z+c[6].z+c[1].z)/4:(c[3].z+c[2].z+c[5].z+c[4].z)/4,i>0?(c[1].z+c[2].z+c[5].z+c[6].z)/4:(c[0].z+c[7].z+c[4].z+c[3].z)/4]},a.SVGRenderer.prototype.arc3d=function(b){b.alpha*=f,b.beta*=f;var c=this.g(),d=this.arc3dPath(b),e=c.renderer,g=100*d.zTop;return c.shapeArgs=b,c.top=e.path(d.top).attr({zIndex:d.zTop}).add(c),c.side1=e.path(d.side2).attr({zIndex:d.zSide2}),c.side2=e.path(d.side1).attr({zIndex:d.zSide1}),c.inn=e.path(d.inn).attr({zIndex:d.zInn}),c.out=e.path(d.out).attr({zIndex:d.zOut}),c.fillSetter=function(b){this.color=b;var c=a.Color(b).brighten(-.1).get();return this.side1.attr({fill:c}),this.side2.attr({fill:c}),this.inn.attr({fill:c}),this.out.attr({fill:c}),this.top.attr({fill:b}),this},c.translateXSetter=function(a){this.out.attr({translateX:a}),this.inn.attr({translateX:a}),this.side1.attr({translateX:a}),this.side2.attr({translateX:a}),this.top.attr({translateX:a})},c.translateYSetter=function(a){this.out.attr({translateY:a}),this.inn.attr({translateY:a}),this.side1.attr({translateY:a}),this.side2.attr({translateY:a}),this.top.attr({translateY:a})},c.animate=function(b,c,d){return b.end||b.start?(this._shapeArgs=this.shapeArgs,a.SVGElement.prototype.animate.call(this,{_args:b},{duration:c,step:function(){var b=arguments[1],c=b.elem,d=c._shapeArgs,e=b.end,b=b.pos,d=a.merge(d,{start:d.start+(e.start-d.start)*b,end:d.end+(e.end-d.end)*b}),e=c.renderer.arc3dPath(d);c.shapeArgs=d,c.top.attr({d:e.top,zIndex:e.zTop}),c.inn.attr({d:e.inn,zIndex:e.zInn}),c.out.attr({d:e.out,zIndex:e.zOut}),c.side1.attr({d:e.side1,zIndex:e.zSide1}),c.side2.attr({d:e.side2,zIndex:e.zSide2})}},d)):a.SVGElement.prototype.animate.call(this,b,c,d),this},c.destroy=function(){this.top.destroy(),this.out.destroy(),this.inn.destroy(),this.side1.destroy(),this.side2.destroy(),a.SVGElement.prototype.destroy.call(this)},c.hide=function(){this.top.hide(),this.out.hide(),this.inn.hide(),this.side1.hide(),this.side2.hide()},c.show=function(){this.top.show(),this.out.show(),this.inn.show(),this.side1.show(),this.side2.show()},c.zIndex=g,c.attr({zIndex:g}),c},a.SVGRenderer.prototype.arc3dPath=function(a){var b=a.x,d=a.y,f=a.start,i=a.end-1e-5,j=a.r,k=a.innerR,l=a.depth,m=a.alpha,n=a.beta,o=h(f),p=g(f),a=h(i),q=g(i),r=j*h(n),s=j*h(m),t=k*h(n);k*=h(m);var u=l*g(n),v=l*g(m),l=["M",b+r*o,d+s*p],l=l.concat(c(b,d,r,s,f,i,0,0)),l=l.concat(["L",b+t*a,d+k*q]),l=l.concat(c(b,d,t,k,i,f,0,0)),l=l.concat(["Z"]),n=n>0?e/2:0,m=m>0?0:e/2,n=f>-n?f:i>-n?-n:f,w=e-m>i?i:e-m>f?e-m:i,m=["M",b+r*h(n),d+s*g(n)],m=m.concat(c(b,d,r,s,n,w,0,0)),m=m.concat(["L",b+r*h(w)+u,d+s*g(w)+v]),m=m.concat(c(b,d,r,s,w,n,u,v)),m=m.concat(["Z"]),n=["M",b+t*o,d+k*p],n=n.concat(c(b,d,t,k,f,i,0,0)),n=n.concat(["L",b+t*h(i)+u,d+k*g(i)+v]),n=n.concat(c(b,d,t,k,i,f,u,v)),n=n.concat(["Z"]),o=["M",b+r*o,d+s*p,"L",b+r*o+u,d+s*p+v,"L",b+t*o+u,d+k*p+v,"L",b+t*o,d+k*p,"Z"],b=["M",b+r*a,d+s*q,"L",b+r*a+u,d+s*q+v,"L",b+t*a+u,d+k*q+v,"L",b+t*a,d+k*q,"Z"],d=g((f+i)/2),f=g(f),i=g(i);return{top:l,zTop:j,out:m,zOut:Math.max(d,f,i)*j,inn:n,zInn:Math.max(d,f,i)*j,side1:o,zSide1:f*j*.99,side2:b,zSide2:i*j*.99}},a.Chart.prototype.is3d=function(){return this.options.chart.options3d&&this.options.chart.options3d.enabled},a.wrap(a.Chart.prototype,"isInsidePlot",function(a){return this.is3d()?!0:a.apply(this,[].slice.call(arguments,1))});var k=a.getOptions();k.chart.options3d={enabled:!1,alpha:0,beta:0,depth:100,viewDistance:25,frame:{bottom:{size:1,color:"rgba(255,255,255,0)"},side:{size:1,color:"rgba(255,255,255,0)"},back:{size:1,color:"rgba(255,255,255,0)"}}},k.plotOptions.pie.borderColor=void 0,a.wrap(a.Chart.prototype,"setChartSize",function(a){if(a.apply(this,[].slice.call(arguments,1)),this.is3d()){var b=this.inverted,c=this.clipBox,d=this.margin;c[b?"y":"x"]=-(d[3]||0),c[b?"x":"y"]=-(d[0]||0),c[b?"height":"width"]=this.chartWidth+(d[3]||0)+(d[1]||0),c[b?"width":"height"]=this.chartHeight+(d[0]||0)+(d[2]||0)}}),a.wrap(a.Chart.prototype,"redraw",function(a){this.is3d()&&(this.isDirtyBox=!0),a.apply(this,[].slice.call(arguments,1))}),a.Chart.prototype.retrieveStacks=function(b,c){var d={},e=1;return b||!c?this.series:(a.each(this.series,function(a){d[a.options.stack||0]?d[a.options.stack||0].series.push(a):(d[a.options.stack||0]={series:[a],position:e},e++)}),d.totalStacks=e+1,d)},a.wrap(a.Axis.prototype,"init",function(b){var c=arguments;c[1].is3d()&&(c[2].tickWidth=a.pick(c[2].tickWidth,0),c[2].gridLineWidth=a.pick(c[2].gridLineWidth,1)),b.apply(this,[].slice.call(arguments,1))}),a.wrap(a.Axis.prototype,"render",function(a){if(a.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var b=this.chart,c=b.renderer,d=b.options.chart.options3d,e=d.alpha,f=d.beta*(b.yAxis[0].opposite?-1:1),g=d.frame,h=g.bottom,i=g.back,g=g.side,j=d.depth,k=this.height,l=this.width,m=this.left,n=this.top,d={x:b.plotLeft+b.plotWidth/2,y:b.plotTop+b.plotHeight/2,z:j,vd:d.viewDistance};if(this.horiz)this.axisLine&&this.axisLine.hide(),f={x:m,y:n+(b.yAxis[0].reversed?-h.size:k),z:0,width:l,height:h.size,depth:j,alpha:e,beta:f,origin:d},this.bottomFrame?this.bottomFrame.animate(f):this.bottomFrame=c.cuboid(f).attr({fill:h.color,zIndex:b.yAxis[0].reversed&&e>0?4:-1}).css({stroke:h.color}).add();else{var o={x:m,y:n,z:j+1,width:l,height:k+h.size,depth:i.size,alpha:e,beta:f,origin:d};this.backFrame?this.backFrame.animate(o):this.backFrame=c.cuboid(o).attr({fill:i.color,zIndex:-3}).css({stroke:i.color}).add(),this.axisLine&&this.axisLine.hide(),b={x:(b.yAxis[0].opposite?l:0)+m-g.size,y:n,z:0,width:g.size,height:k+h.size,depth:j+i.size,alpha:e,beta:f,origin:d},this.sideFrame?this.sideFrame.animate(b):this.sideFrame=c.cuboid(b).attr({fill:g.color,zIndex:-2}).css({stroke:g.color}).add()}}}),a.wrap(a.Axis.prototype,"getPlotLinePath",function(a){var c=a.apply(this,[].slice.call(arguments,1));if(!this.chart.is3d())return c;if(null===c)return c;var d=this.chart,e=d.options.chart.options3d,f=e.depth;e.origin={x:d.plotLeft+d.plotWidth/2,y:d.plotTop+d.plotHeight/2,z:f,vd:e.viewDistance};var c=[{x:c[1],y:c[2],z:this.horiz||this.opposite?f:0},{x:c[1],y:c[2],z:f},{x:c[4],y:c[5],z:f},{x:c[4],y:c[5],z:this.horiz||this.opposite?0:f}],f=d.options.inverted?e.beta:e.alpha,g=d.options.inverted?e.alpha:e.beta;return g*=d.yAxis[0].opposite?-1:1,c=b(c,f,g,e.origin),c=this.chart.renderer.toLinePath(c,!1)}),a.wrap(a.Axis.prototype,"getPlotBandPath",function(a){if(this.chart.is3d()){var b=arguments,c=b[1],b=this.getPlotLinePath(b[2]);return(c=this.getPlotLinePath(c))&&b?c.push(b[7],b[8],b[4],b[5],b[1],b[2]):c=null,c}return a.apply(this,[].slice.call(arguments,1))}),a.wrap(a.Tick.prototype,"getMarkPath",function(a){var c=a.apply(this,[].slice.call(arguments,1));if(!this.axis.chart.is3d())return c;var d=this.axis.chart,e=d.options.chart.options3d,f={x:d.plotLeft+d.plotWidth/2,y:d.plotTop+d.plotHeight/2,z:e.depth,vd:e.viewDistance},c=[{x:c[1],y:c[2],z:0},{x:c[4],y:c[5],z:0}],g=d.inverted?e.beta:e.alpha,e=d.inverted?e.alpha:e.beta;return e*=d.yAxis[0].opposite?-1:1,c=b(c,g,e,f),c=["M",c[0].x,c[0].y,"L",c[1].x,c[1].y]}),a.wrap(a.Tick.prototype,"getLabelPosition",function(a){var c=a.apply(this,[].slice.call(arguments,1));if(!this.axis.chart.is3d())return c;var d=this.axis.chart,e=d.options.chart.options3d,f={x:d.plotLeft+d.plotWidth/2,y:d.plotTop+d.plotHeight/2,z:e.depth,vd:e.viewDistance},g=d.inverted?e.beta:e.alpha,e=d.inverted?e.alpha:e.beta;return e*=d.yAxis[0].opposite?-1:1,c=b([{x:c.x,y:c.y,z:0}],g,e,f)[0]}),a.wrap(a.Axis.prototype,"drawCrosshair",function(a){var b=arguments;this.chart.is3d()&&b[2]&&(b[2]={plotX:b[2].plotXold||b[2].plotX,plotY:b[2].plotYold||b[2].plotY}),a.apply(this,[].slice.call(b,1))}),a.wrap(a.seriesTypes.column.prototype,"translate",function(c){if(c.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var d=this.chart,e=this.options,f=d.options.chart.options3d,g=e.depth||25,h={x:d.plotWidth/2,y:d.plotHeight/2,z:f.depth,vd:f.viewDistance},i=f.alpha,j=f.beta*(d.yAxis[0].opposite?-1:1),k=(e.stacking?e.stack||0:this._i)*(g+(e.groupZPadding||1));e.grouping!==!1&&(k=0),k+=e.groupZPadding||1,a.each(this.data,function(a){var c=a.shapeArgs,d=a.tooltipPos;a.shapeType="cuboid",c.alpha=i,c.beta=j,c.z=k,c.origin=h,c.depth=g,d=b([{x:d[0],y:d[1],z:k}],i,j,h)[0],a.tooltipPos=[d.x,d.y]})}}),a.wrap(a.seriesTypes.column.prototype,"animate",function(b){if(this.chart.is3d()){var c=arguments[1],d=this.yAxis,e=this,f=this.yAxis.reversed;a.svg&&(c?a.each(e.data,function(a){a.height=a.shapeArgs.height,a.shapey=a.shapeArgs.y,a.shapeArgs.height=1,f||(a.shapeArgs.y=a.stackY?a.plotY+d.translate(a.stackY):a.plotY+(a.negative?-a.height:a.height))}):(a.each(e.data,function(a){a.shapeArgs.height=a.height,a.shapeArgs.y=a.shapey,a.graphic&&a.graphic.animate(a.shapeArgs,e.options.animation)}),this.drawDataLabels(),e.animate=null))}else b.apply(this,[].slice.call(arguments,1))}),a.wrap(a.seriesTypes.column.prototype,"init",function(a){if(a.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var b=this.options,c=b.grouping,d=b.stacking,e=0;if((void 0===c||c)&&d){for(c=this.chart.retrieveStacks(c,d),d=b.stack||0,e=0;e<c[d].series.length&&c[d].series[e]!==this;e++);e=10*c.totalStacks-10*(c.totalStacks-c[d].position)-e}b.zIndex=e}}),a.wrap(a.Series.prototype,"alignDataLabel",function(a){if(this.chart.is3d()&&("column"===this.type||"columnrange"===this.type)){var c=this.chart,d=c.options.chart.options3d,e=arguments[4],f={x:e.x,y:e.y,z:0},f=b([f],d.alpha,d.beta*(c.yAxis[0].opposite?-1:1),{x:c.plotWidth/2,y:c.plotHeight/2,z:d.depth,vd:d.viewDistance})[0];e.x=f.x,e.y=f.y}a.apply(this,[].slice.call(arguments,1))}),a.seriesTypes.columnrange&&a.wrap(a.seriesTypes.columnrange.prototype,"drawPoints",d),a.wrap(a.seriesTypes.column.prototype,"drawPoints",d),k=a.getOptions(),k.plotOptions.cylinder=a.merge(k.plotOptions.column),k=a.extendClass(a.seriesTypes.column,{type:"cylinder"}),a.seriesTypes.cylinder=k,a.wrap(a.seriesTypes.cylinder.prototype,"translate",function(b){if(b.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var c=this.chart,d=c.options,h=d.plotOptions.cylinder,d=d.chart.options3d,i=h.depth||0,j={x:c.inverted?c.plotHeight/2:c.plotWidth/2,y:c.inverted?c.plotWidth/2:c.plotHeight/2,z:d.depth,vd:d.viewDistance},k=d.alpha,l=h.stacking?(this.options.stack||0)*i:this._i*i;l+=i/2,h.grouping!==!1&&(l=0),a.each(this.data,function(a){var b=a.shapeArgs;a.shapeType="arc3d",b.x+=i/2,b.z=l,b.start=0,b.end=2*e,b.r=.95*i,b.innerR=0,b.depth=b.height*(1/g((90-k)*f))-l,b.alpha=90-k,b.beta=0,b.origin=j})}}),a.wrap(a.seriesTypes.pie.prototype,"translate",function(b){if(b.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var c=this,d=c.chart,e=c.options,j=e.depth||0,k=d.options.chart.options3d,l={x:d.plotWidth/2,y:d.plotHeight/2,z:k.depth},m=k.alpha,n=k.beta,o=e.stacking?(e.stack||0)*j:c._i*j;o+=j/2,e.grouping!==!1&&(o=0),a.each(c.data,function(a){a.shapeType="arc3d";var b=a.shapeArgs;a.y&&(b.z=o,b.depth=.75*j,b.origin=l,b.alpha=m,b.beta=n,b=(b.end+b.start)/2,a.slicedTranslation={translateX:i(h(b)*c.options.slicedOffset*h(m*f)),translateY:i(g(b)*c.options.slicedOffset*h(m*f))})})}}),a.wrap(a.seriesTypes.pie.prototype.pointClass.prototype,"haloPath",function(a){return this.series.chart.is3d()?[]:a.call(this)}),a.wrap(a.seriesTypes.pie.prototype,"drawPoints",function(b){if(this.chart.is3d()){var c=this.options,d=this.options.states;this.borderWidth=c.borderWidth=c.edgeWidth||1,d.hover.borderColor=a.pick(d.hover.edgeColor,this.borderColor),d.hover.borderWidth=a.pick(d.hover.edgeWidth,this.borderWidth),d.select.borderColor=a.pick(d.select.edgeColor,this.borderColor),d.select.borderWidth=a.pick(d.select.edgeWidth,this.borderWidth),a.each(this.data,function(a){var b=a.pointAttr;b[""].stroke=a.series.borderColor||a.color,b[""]["stroke-width"]=a.series.borderWidth,b.hover.stroke=d.hover.borderColor,b.hover["stroke-width"]=d.hover.borderWidth,b.select.stroke=d.select.borderColor,b.select["stroke-width"]=d.select.borderWidth})}if(b.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var e=this.group;a.each(this.points,function(a){a.graphic.out.add(e),a.graphic.inn.add(e),a.graphic.side1.add(e),a.graphic.side2.add(e)})}}),a.wrap(a.seriesTypes.pie.prototype,"drawDataLabels",function(b){this.chart.is3d()&&a.each(this.data,function(a){var b=a.shapeArgs,c=b.r,d=b.depth,e=b.alpha*f,b=(b.start+b.end)/2,a=a.labelPos;a[1]+=-c*(1-h(e))*g(b)+(g(b)>0?g(e)*d:0),a[3]+=-c*(1-h(e))*g(b)+(g(b)>0?g(e)*d:0),a[5]+=-c*(1-h(e))*g(b)+(g(b)>0?g(e)*d:0)}),b.apply(this,[].slice.call(arguments,1))}),a.wrap(a.seriesTypes.pie.prototype,"addPoint",function(a){a.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&this.update()}),a.wrap(a.seriesTypes.pie.prototype,"animate",function(b){if(this.chart.is3d()){var c=arguments[1],d=this.options.animation,e=this.center,f=this.group,g=this.markerGroup;a.svg&&(d===!0&&(d={}),c?(f.oldtranslateX=f.translateX,f.oldtranslateY=f.translateY,c={translateX:e[0],translateY:e[1],scaleX:.001,scaleY:.001},f.attr(c),g&&(g.attrSetters=f.attrSetters,g.attr(c))):(c={translateX:f.oldtranslateX,translateY:f.oldtranslateY,scaleX:1,scaleY:1},f.animate(c,d),g&&g.animate(c,d),this.animate=null))}else b.apply(this,[].slice.call(arguments,1))}),a.wrap(a.seriesTypes.scatter.prototype,"translate",function(c){if(c.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var d=this.chart,e=this.chart.options.chart.options3d,f=e.alpha,g=e.beta,h={x:d.inverted?d.plotHeight/2:d.plotWidth/2,y:d.inverted?d.plotWidth/2:d.plotHeight/2,z:e.depth,vd:e.viewDistance},e=e.depth,i=d.options.zAxis||{min:0,max:e},j=e/(i.max-i.min);a.each(this.data,function(a){var c={x:a.plotX,y:a.plotY,z:(a.z-i.min)*j},c=b([c],f,g,h)[0];a.plotXold=a.plotX,a.plotYold=a.plotY,a.plotX=c.x,a.plotY=c.y,a.plotZ=c.z})}}),a.wrap(a.seriesTypes.scatter.prototype,"init",function(a){var b=a.apply(this,[].slice.call(arguments,1));return this.chart.is3d()&&(this.pointArrayMap=["x","y","z"],this.tooltipOptions.pointFormat=this.userOptions.tooltip?this.userOptions.tooltip.pointFormat||"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>":"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>"),b}),a.VMLRenderer&&(a.setOptions({animate:!1}),a.VMLRenderer.prototype.cuboid=a.SVGRenderer.prototype.cuboid,a.VMLRenderer.prototype.cuboidPath=a.SVGRenderer.prototype.cuboidPath,a.VMLRenderer.prototype.toLinePath=a.SVGRenderer.prototype.toLinePath,a.VMLRenderer.prototype.createElement3D=a.SVGRenderer.prototype.createElement3D,a.VMLRenderer.prototype.arc3d=function(b){return b=a.SVGRenderer.prototype.arc3d.call(this,b),b.css({zIndex:b.zIndex}),b},a.VMLRenderer.prototype.arc3dPath=a.SVGRenderer.prototype.arc3dPath,a.Chart.prototype.renderSeries=function(){for(var a,b=this.series.length;b--;)a=this.series[b],a.translate(),a.setTooltipPoints&&a.setTooltipPoints(),a.render()},a.wrap(a.Axis.prototype,"render",function(a){a.apply(this,[].slice.call(arguments,1)),this.sideFrame&&(this.sideFrame.css({zIndex:0}),this.sideFrame.front.attr({fill:this.sideFrame.color})),this.bottomFrame&&(this.bottomFrame.css({zIndex:1}),this.bottomFrame.front.attr({fill:this.bottomFrame.color})),this.backFrame&&(this.backFrame.css({zIndex:0}),this.backFrame.front.attr({fill:this.backFrame.color}))}))}(Highcharts),eval(function(a,b,c,d,e,f){for(e=function(a){return(b>a?"":e(parseInt(a/b)))+((a%=b)>35?String.fromCharCode(a+29):a.toString(36))};c--;)d[c]&&(a=a.replace(new RegExp("\\b"+e(c)+"\\b","g"),d[c]));return a}('(m($){1l W=2s.4L,D=2s.4K,G=2s.4J,I=2s.4I;m U(){B $("<4H/>")};$.P=m(Y,g){1l Q=$(Y),2C,v=U(),1j=U(),J=U().u(U()).u(U()).u(U()),A=U().u(U()).u(U()).u(U()),F=$([]),1G,H,q,1f,S,O,1k,1e,13=0,1F="1D",2h,2g,2a,29,1R=10,M,1A,1z,2m,2l,15,1J,a,c,l,j,f={a:0,c:0,l:0,j:0,C:0,K:0},2r=T.4G,$p,d,i,o,w,h,2n;m 1n(x){B x+1f.E-1e.E};m 1m(y){B y+1f.q-1e.q};m 1a(x){B x-1f.E+1e.E};m 19(y){B y-1f.q+1e.q};m 1y(3H){B 3H.4F-1e.E};m 1x(3G){B 3G.4E-1e.q};m 14(2Z){1l 1h=2Z||2a,1g=2Z||29;B{a:I(f.a*1h),c:I(f.c*1g),l:I(f.l*1h),j:I(f.j*1g),C:I(f.l*1h)-I(f.a*1h),K:I(f.j*1g)-I(f.c*1g)}};m 2w(a,c,l,j,2Y){1l 1h=2Y||2a,1g=2Y||29;f={a:I(a/1h),c:I(c/1g),l:I(l/1h),j:I(j/1g)};f.C=f.l-f.a;f.K=f.j-f.c};m 1d(){b(!Q.C()){B}1f={E:I(Q.2q().E),q:I(Q.2q().q)};S=Q.C();O=Q.K();1A=g.4D||0;1z=g.4C||0;2m=G(g.4B||1<<24,S);2l=G(g.4A||1<<24,O);b($().4z=="1.3.2"&&1F=="1Y"&&!2r["4y"]){1f.q+=D(T.1r.2o,2r.2o);1f.E+=D(T.1r.2p,2r.2p)}1e=$.4x(1k.r("1p"),["1D","4w"])+1?{E:I(1k.2q().E)-1k.2p(),q:I(1k.2q().q)-1k.2o()}:1F=="1Y"?{E:$(T).2p(),q:$(T).2o()}:{E:0,q:0};H=1n(0);q=1m(0);b(f.l>S||f.j>O){1N()}};m 1O(3D){b(!1J){B}v.r({E:1n(f.a),q:1m(f.c)}).u(1j).C(w=f.C).K(h=f.K);1j.u(J).u(F).r({E:0,q:0});J.C(D(w-J.2X()+J.3B(),0)).K(D(h-J.3F()+J.4v(),0));$(A[0]).r({E:H,q:q,C:f.a,K:O});$(A[1]).r({E:H+f.a,q:q,C:w,K:f.c});$(A[2]).r({E:H+f.l,q:q,C:S-f.l,K:O});$(A[3]).r({E:H+f.a,q:q+f.j,C:w,K:O-f.j});w-=F.2X();h-=F.3F();2L(F.3a){16 8:$(F[4]).r({E:w/2});$(F[5]).r({E:w,q:h/2});$(F[6]).r({E:w/2,q:h});$(F[7]).r({q:h/2});16 4:F.3E(1,3).r({E:w});F.3E(2,4).r({q:h})}b(3D!==Z){b($.P.1W!=2O){$(T).V($.P.1W,$.P.3C)}b(g.1M){$(T)[$.P.1W]($.P.3C=2O)}}b($.1q.1V&&J.2X()-J.3B()==2){J.r("3A",0);3t(m(){J.r("3A","4u")},0)}};m 1Z(3z){1d();1O(3z);a=1n(f.a);c=1m(f.c);l=1n(f.l);j=1m(f.j)};m 22(2W,2t){g.1I?2W.4t(g.1I,2t):2W.1t()};m 1b(2V){1l x=1a(1y(2V))-f.a,y=19(1x(2V))-f.c;b(!2n){1d();2n=12;v.1i("4s",m(){2n=Z})}M="";b(g.2A){b(y<=1R){M="n"}X{b(y>=f.K-1R){M="s"}}b(x<=1R){M+="w"}X{b(x>=f.C-1R){M+="e"}}}v.r("2U",M?M+"-18":g.21?"4r":"");b(1G){1G.4q()}};m 2R(4p){$("1r").r("2U","");b(g.4o||f.C*f.K==0){22(v.u(A),m(){$(N).1t()})}g.2d(Y,14());$(T).V("R",2i);v.R(1b)};m 2z(1Q){b(1Q.3v!=1){B Z}1d();b(M){$("1r").r("2U",M+"-18");a=1n(f[/w/.2k(M)?"l":"a"]);c=1m(f[/n/.2k(M)?"j":"c"]);$(T).R(2i).1i("1P",2R);v.V("R",1b)}X{b(g.21){2h=H+f.a-1y(1Q);2g=q+f.c-1x(1Q);v.V("R",1b);$(T).R(2S).1i("1P",m(){g.2d(Y,14());$(T).V("R",2S);v.R(1b)})}X{Q.1s(1Q)}}B Z};m 1w(3y){b(15){b(3y){l=D(H,G(H+S,a+W(j-c)*15*(l>a||-1)));j=I(D(q,G(q+O,c+W(l-a)/15*(j>c||-1))));l=I(l)}X{j=D(q,G(q+O,c+W(l-a)/15*(j>c||-1)));l=I(D(H,G(H+S,a+W(j-c)*15*(l>a||-1))));j=I(j)}}};m 1N(){a=G(a,H+S);c=G(c,q+O);b(W(l-a)<1A){l=a-1A*(l<a||-1);b(l<H){a=H+1A}X{b(l>H+S){a=H+S-1A}}}b(W(j-c)<1z){j=c-1z*(j<c||-1);b(j<q){c=q+1z}X{b(j>q+O){c=q+O-1z}}}l=D(H,G(l,H+S));j=D(q,G(j,q+O));1w(W(l-a)<W(j-c)*15);b(W(l-a)>2m){l=a-2m*(l<a||-1);1w()}b(W(j-c)>2l){j=c-2l*(j<c||-1);1w(12)}f={a:1a(G(a,l)),l:1a(D(a,l)),c:19(G(c,j)),j:19(D(c,j)),C:W(l-a),K:W(j-c)};1O();g.2e(Y,14())};m 2i(2T){l=M==""||/w|e/.2k(M)||15?1y(2T):1n(f.l);j=M==""||/n|s/.2k(M)||15?1x(2T):1m(f.j);1N();B Z};m 1v(3x,3w){l=(a=3x)+f.C;j=(c=3w)+f.K;$.28(f,{a:1a(a),c:19(c),l:1a(l),j:19(j)});1O();g.2e(Y,14())};m 2S(2j){a=D(H,G(2h+1y(2j),H+S-f.C));c=D(q,G(2g+1x(2j),q+O-f.K));1v(a,c);2j.4n();B Z};m 2Q(){1d();l=a;j=c;1N();M="";b(A.2v(":35(:4m)")){v.u(A).1t().2B(g.1I||0)}1J=12;$(T).V("1P",2P).R(2i).1i("1P",2R);v.V("R",1b);g.3u(Y,14())};m 2P(){$(T).V("R",2Q);22(v.u(A));f={a:1a(a),c:19(c),l:1a(a),j:19(c),C:0,K:0};g.2e(Y,14());g.2d(Y,14())};m 20(2f){b(2f.3v!=1||A.2v(":4l")){B Z}1d();2h=a=1y(2f);2g=c=1x(2f);$(T).1i("R",2Q).1i("1P",2P);B Z};m 2y(){1Z(Z)};m 2u(){2C=12;2x(g=$.28({1L:"4k",21:12,2A:12,1X:"1r",3s:m(){},3u:m(){},2e:m(){},2d:m(){}},g));v.u(A).r({34:""});b(g.2D){1J=12;1d();1O();v.u(A).1t().2B(g.1I||0)}3t(m(){g.3s(Y,14())},0)};1l 2O=m(17){1l k=g.1M,d,t,2K=17.4j;d=!1H(k.2M)&&(17.2c||17.3p.2c)?k.2M:!1H(k.26)&&17.3q?k.26:!1H(k.27)&&17.3r?k.27:!1H(k.2N)?k.2N:10;b(k.2N=="18"||(k.27=="18"&&17.3r)||(k.26=="18"&&17.3q)||(k.2M=="18"&&(17.2c||17.3p.2c))){2L(2K){16 37:d=-d;16 39:t=D(a,l);a=G(a,l);l=D(t+d,a);1w();1u;16 38:d=-d;16 40:t=D(c,j);c=G(c,j);j=D(t+d,c);1w(12);1u;3o:B}1N()}X{a=G(a,l);c=G(c,j);2L(2K){16 37:1v(D(a-d,H),c);1u;16 38:1v(a,D(c-d,q));1u;16 39:1v(a+G(d,S-1a(l)),c);1u;16 40:1v(a,c+G(d,O-19(j)));1u;3o:B}}B Z};m 1K(3n,2J){3l(2b 4i 2J){b(g[2b]!==1S){3n.r(2J[2b],g[2b])}}};m 2x(L){b(L.1X){(1k=$(L.1X)).3f(v.u(A))}$.28(g,L);1d();b(L.2I!=3m){F.1o();F=$([]);i=L.2I?L.2I=="4h"?4:8:0;3b(i--){F=F.u(U())}F.25(g.1L+"-4g").r({1p:"1D",32:0,1E:13+1||1});b(!4f(F.r("C"))>=0){F.C(5).K(5)}b(o=g.2H){F.r({2H:o,2E:"3i"})}1K(F,{3j:"2G-23",3h:"2F-23",3k:"1c"})}2a=g.4e/S||1;29=g.4d/O||1;b(L.a!=3m){2w(L.a,L.c,L.l,L.j);L.2D=!L.1t}b(L.1M){g.1M=$.28({27:1,26:"18"},L.1M)}A.25(g.1L+"-4c");1j.25(g.1L+"-4b");3l(i=0;i++<4;){$(J[i-1]).25(g.1L+"-2G"+i)}1K(1j,{4a:"2F-23",49:"1c"});1K(J,{3k:"1c",2H:"2G-C"});1K(A,{48:"2F-23",47:"1c"});b(o=g.3j){$(J[0]).r({2E:"3i",3g:o})}b(o=g.3h){$(J[1]).r({2E:"46",3g:o})}v.3f(1j.u(J).u(F).u(1G));b($.1q.1V){b(o=A.r("3e").3d(/1c=([0-9]+)/)){A.r("1c",o[1]/1U)}b(o=J.r("3e").3d(/1c=([0-9]+)/)){J.r("1c",o[1]/1U)}}b(L.1t){22(v.u(A))}X{b(L.2D&&2C){1J=12;v.u(A).2B(g.1I||0);1Z()}}15=(d=(g.45||"").44(/:/))[0]/d[1];Q.u(A).V("1s",20);b(g.1T||g.1C===Z){v.V("R",1b).V("1s",2z);$(3c).V("18",2y)}X{b(g.1C||g.1T===Z){b(g.2A||g.21){v.R(1b).1s(2z)}$(3c).18(2y)}b(!g.43){Q.u(A).1s(20)}}g.1C=g.1T=1S};N.1o=m(){Q.V("1s",20);v.u(A).1o()};N.42=m(){B g};N.30=2x;N.41=14;N.3Z=2w;N.3Y=1Z;$p=Q;3b($p.3a){13=D(13,!1H($p.r("z-36"))?$p.r("z-36"):13);b($p.r("1p")=="1Y"){1F="1Y"}$p=$p.1X(":35(1r)")}13=g.1E||13;b($.1q.1V){Q.3X("3W","3V")}$.P.1W=$.1q.1V||$.1q.3U?"3T":"3S";b($.1q.3R){1G=U().r({C:"1U%",K:"1U%",1p:"1D",1E:13+2||2})}v.u(A).r({34:"33",1p:1F,3Q:"33",1E:13||"0"});v.r({1E:13+2||2});1j.u(J).r({1p:"1D",32:0});Y.31||Y.3P=="31"||!Q.2v("3O")?2u():Q.1i("3N",2u)};$.2t.P=m(11){11=11||{};N.3M(m(){b($(N).1B("P")){b(11.1o){$(N).1B("P").1o();$(N).3L("P")}X{$(N).1B("P").30(11)}}X{b(!11.1o){b(11.1C===1S&&11.1T===1S){11.1C=12}$(N).1B("P",3K $.P(N,11))}}});b(11.3J){B $(N).1B("P")}B N}})(3I);',62,296,"||||||||||x1|if|y1|||_24|_7|||y2||x2|function||||top|css|||add|_a|||||_d|return|width|_2|left|_e|_3|_10|_4|_c|height|_54|_1d|this|_13|imgAreaSelect|_8|mousemove|_12|document|_5|unbind|_1|else|_6|false||_55|true|_16|_2d|_22|case|_50|resize|_2a|_29|_3a|opacity|_31|_15|_11|sy|sx|one|_b|_14|var|_28|_27|remove|position|browser|body|mousedown|hide|break|_45|_42|evY|evX|_1f|_1e|data|enable|absolute|zIndex|_17|_f|isNaN|fadeSpeed|_23|_51|classPrefix|keys|_32|_33|mouseup|_40|_1c|undefined|disable|100|msie|keyPress|parent|fixed|_36|_4b|movable|_38|color||addClass|ctrl|shift|extend|_1b|_1a|option|altKey|onSelectEnd|onSelectChange|_4c|_19|_18|_3e|_48|test|_21|_20|_26|scrollTop|scrollLeft|offset|_25|Math|fn|_4e|is|_2f|_4f|_4d|_3f|resizable|fadeIn|_9|show|borderStyle|background|border|borderWidth|handles|_53|key|switch|alt|arrows|_35|_4a|_49|_3c|_41|_44|cursor|_3b|_39|outerWidth|_30|_2e|setOptions|complete|fontSize|hidden|visibility|not|index||||length|while|window|match|filter|append|borderColor|borderColor2|solid|borderColor1|borderOpacity|for|null|_52|default|originalEvent|ctrlKey|shiftKey|onInit|setTimeout|onSelectStart|which|_47|_46|_43|_37|margin|innerWidth|onKeyPress|_34|slice|outerHeight|_2c|_2b|jQuery|instance|new|removeData|each|load|img|readyState|overflow|opera|keypress|keydown|safari|on|unselectable|attr|update|setSelection||getSelection|getOptions|persistent|split|aspectRatio|dashed|outerOpacity|outerColor|selectionOpacity|selectionColor|selection|outer|imageHeight|imageWidth|parseInt|handle|corners|in|keyCode|imgareaselect|animated|visible|preventDefault|autoHide|_3d|toggle|move|mouseout|fadeOut|auto|innerHeight|relative|inArray|getBoundingClientRect|jquery|maxHeight|maxWidth|minHeight|minWidth|pageY|pageX|documentElement|div|round|min|max|abs".split("|"))),function(a){a.fn.jrac=function(b){var c={crop_width:200,crop_height:100,crop_x:0,crop_y:0,crop_resize:!0,crop_aspect_ratio:null,image_width:null,image_height:null,zoom_min:100,zoom_max:3e3,viewport_resize:!0,viewport_content_left:0,viewport_content_top:0,viewport_onload:null};return this.each(function(){if(a(this).is("img")){var d=!1;"object"==typeof b?a.extend(c,b):"destroy"==b&&(d=!0);var e=a(this),f=!1;if(e.parent().hasClass("jrac_viewport")&&(f=!0),f&&d?(e.draggable("destroy"),e.parent().find(".jrac_crop").remove(),e.parent().parent().find(".jrac_zoom_slider").remove(),e.parent().append(e.data("original")),e.parent().unwrap(),e.unwrap(),e.remove()):e.data("original",e.clone()),!d){f||e.hide().css("position","absolute").wrap('<div class="jrac_container"><div class="jrac_viewport"></div></div>');var g=e.parent(),h=g.parent(),i=a('<div class="jrac_loading" />');g.append(i);var j=function(){if(a.extend(e,{scale_proportion_locked:!0,originalWidth:e.width(),originalHeight:e.height()}),e.width(c.image_width).height(c.image_height),e.css({left:c.viewport_content_left,top:c.viewport_content_top}),!f){var b=a('<div class="jrac_zoom_slider"><div class="ui-slider-handle"></div></div>').width(g.width()).slider({value:e.width(),min:c.zoom_min,max:c.zoom_max,start:function(c,d){a.extend(b,{on_start_width_value:d.value,on_start_height_value:e.height()})},slide:function(a,c){var d=Math.round(b.on_start_height_value*c.value/b.on_start_width_value);e.height(d),e.width(c.value),g.observator.notify("jrac_image_height",d),g.observator.notify("jrac_image_width",c.value)}});h.append(b),c.viewport_resize&&g.resizable({resize:function(a,c){b.width(c.size.width)}}),e.draggable({drag:function(a,b){b.position.left!=b.originalPosition.left&&g.observator.notify("jrac_crop_x",g.observator.crop_position_x()),b.position.top!=b.originalPosition.top&&g.observator.notify("jrac_crop_y",g.observator.crop_position_y())}});var d=a('<div class="jrac_crop"><div class="jrac_crop_drag_handler"></div></div>').css({width:c.crop_width,height:c.crop_height,left:c.crop_x+c.viewport_content_left,top:c.crop_y+c.viewport_content_top}).draggable({containment:g,handle:"div.jrac_crop_drag_handler",drag:function(a,b){b.position.left!=b.originalPosition.left&&g.observator.notify("jrac_crop_x",g.observator.crop_position_x()),b.position.top!=b.originalPosition.top&&g.observator.notify("jrac_crop_y",g.observator.crop_position_y())}});c.crop_resize&&d.resizable({containment:g,aspectRatio:c.crop_aspect_ratio,resize:function(a,b){b.size.width!=b.originalSize.width&&g.observator.notify("jrac_crop_width",d.width()),b.size.height!=b.originalSize.height&&g.observator.notify("jrac_crop_height",d.height())}}),g.append(d)}a.extend(g,{$container:h,$image:e,$crop:d,$zoom_widget:b,observator:{items:{},register:function(a,b,c){a&&b&&(this.items[a]={element:b,callback:c})},unregister:function(a){delete this.items[a]},notify:function(b,c){if(this.items[b]){var d=this.items[b].element,f=this.items[b].callback;d.trigger(b,[g,c]),a.isFunction(f)&&f.call(g,b,d,c)}e.trigger("jrac_events",[g])},notify_all:function(){this.notify("jrac_crop_x",this.crop_position_x()),this.notify("jrac_crop_y",this.crop_position_y()),this.notify("jrac_crop_width",d.width()),this.notify("jrac_crop_height",d.height()),this.notify("jrac_image_width",e.width()),this.notify("jrac_image_height",e.height())},crop_position_x:function(){return d.position().left-e.position().left},crop_position_y:function(){return d.position().top-e.position().top},crop_consistent:function(){return this.crop_position_x()>=0&&this.crop_position_y()>=0&&this.crop_position_x()+d.width()<=e.width()&&this.crop_position_y()+d.height()<=e.height()},set_property:function(a,c){if(c=parseInt(c),!isNaN(c)){switch(a){case"jrac_crop_x":d.css("left",c+e.position().left);break;case"jrac_crop_y":d.css("top",c+e.position().top);break;case"jrac_crop_width":d.width(c);break;case"jrac_crop_height":d.height(c);break;case"jrac_image_width":if(e.scale_proportion_locked){var f=Math.round(e.height()*c/e.width());e.height(f),this.notify("jrac_image_height",f)}e.width(c),b.slider("value",c);break;case"jrac_image_height":if(e.scale_proportion_locked){var g=Math.round(e.width()*c/e.height());e.width(g),this.notify("jrac_image_width",g),b.slider("value",g)}e.height(c)}this.notify(a,c)}}}}),i.hide(),i.remove(),e.show(),a.isFunction(c.viewport_onload)&&(c.viewport_onload.call(g),g.observator.notify_all())},k=e.attr("src");/^data:image/.test(k)?j():(k=k+(k.search(/\?/)<0?"?":"&")+"jracrandom="+(new Date).getTime(),a("<img>").attr("src",k).load(j))}}})}}(jQuery),function(a,b,c){a.fn.paging=function(d,e){function f(c){c.preventDefault(),c=c.target;do if("a"===c.nodeName.toLowerCase())break;while(c=c.parentNode);h.setPage(a.data(c,"page")),h.n&&(b.location=c.href)}var g=this,h={setOptions:function(d){return this.a=a.extend(this.a||{lapping:0,perpage:10,page:1,refresh:{interval:10,url:null},format:"",onFormat:function(){},onSelect:function(){return!0},onRefresh:function(){}},d||{}),this.a.perpage<1&&(this.a.perpage=10),this.a.refresh.url&&(this.k&&b.clearInterval(this.k),this.k=b.setInterval(function(a,b){b.ajax({url:a.a.refresh.url,success:function(c){try{var d=b.parseJSON(c)}catch(e){return}a.a.onRefresh(d)}})},1e3*this.a.refresh.interval,this,a)),this.l=function(a){for(var b,d=0,e=0,f=1,g={e:[],h:0,g:0,c:5,d:3,j:0,m:0},h=/[*<>pq\[\]().-]|[nc]+!?/g,i={"[":"first","]":"last","<":"prev",">":"next",q:"left",p:"right","-":"fill",".":"leap"},j={};b=h.exec(a);)b=""+b,c===i[b]?"("===b?e=++d:")"===b?e=0:f&&("*"===b?(g.h=1,g.g=0):(g.h=0,g.g="!"===b.charAt(b.length-1),g.c=b.length-g.g,(g.d=1+b.indexOf("c"))||(g.d=1+g.c>>1)),g.e[g.e.length]={f:"block",i:0,b:0},f=0):(g.e[g.e.length]={f:i[b],i:e,b:c===j[b]?j[b]=1:++j[b]},"q"===b?++g.m:"p"===b&&++g.j);return g}(this.a.format),this},setNumber:function(a){return this.o=c===a||0>a?-1:a,this},setPage:function(b){if(c===b){if(b=this.a.page,null===b)return this}else if(this.a.page==b)return this;this.a.page=b|=0;var d,e,h,i,j,k,l,m,n=this.o,o=this.a,p=1,q=this.l,r=q.e.length,s=r;for(o.perpage<=o.lapping&&(o.lapping=o.perpage-1),m=n<=o.lapping?0:0|o.lapping,0>n?(h=n=-1,d=Math.max(1,b-q.d+1-m),e=d+q.c):(h=1+Math.ceil((n-o.perpage)/(o.perpage-m)),
b=Math.max(1,Math.min(0>b?1+h+b:b,h)),q.h?(d=1,e=1+h,q.d=b,q.c=h):(d=Math.max(1,Math.min(b-q.d,h-q.c)+1),e=q.g?d+q.c:Math.min(d+q.c,1+h)));s--;){switch(k=0,l=q.e[s],l.f){case"left":k=l.b<d;break;case"right":k=e<=h-q.j+l.b;break;case"first":k=q.d<b;break;case"last":k=q.c<q.d+h-b;break;case"prev":k=b>1;break;case"next":k=h>b}p|=k<<l.i}for(j={number:n,lapping:m,pages:h,perpage:o.perpage,page:b,slice:[(k=b*(o.perpage-m)+m)-o.perpage,Math.min(k,n)]},i=a(document.createElement("div"));++s<r;){switch(l=q.e[s],k=p>>l.i&1,l.f){case"block":for(;e>d;++d)j.value=d,j.pos=1+q.c-e+d,j.active=h>=d||0>n,j.first=1===d,j.last=d==h&&n>0,k=document.createElement("div"),k.innerHTML=o.onFormat.call(j,l.f),a("a",k=a(k)).data("page",j.value).click(f),i.append(k.contents());continue;case"left":j.value=j.pos=l.b,j.active=l.b<d;break;case"right":j.value=h-q.j+l.b,j.pos=l.b,j.active=e<=j.value;break;case"first":j.value=1,j.pos=l.b,j.active=k&&q.d<b;break;case"last":j.value=h,j.pos=l.b,j.active=k&&q.c<q.d+h-b;break;case"prev":j.value=Math.max(1,b-1),j.pos=l.b,j.active=k&&b>1;break;case"next":j.pos=l.b,(j.active=0>n)?j.value=1+b:(j.value=Math.min(1+b,h),j.active=k&&h>b);break;case"leap":case"fill":j.pos=l.b,j.active=k,i.append(o.onFormat.call(j,l.f));continue}j.last=j.first=c,k=document.createElement("div"),k.innerHTML=o.onFormat.call(j,l.f),a("a",k=a(k)).data("page",j.value).click(f),i.append(k.contents())}return g.html(i.contents()),this.n=o.onSelect.call({number:n,lapping:m,pages:h,slice:j.slice},b),this}};return h.setNumber(d).setOptions(e).setPage()}}(jQuery,this),function(a){function b(){var b=$this.attr("id");a("img."+b).live("mouseenter",function(){for(var c=a("img."+b).length,d=1;c>=d;d++)d<=this.alt?a("img#"+b+"-"+d).attr("src",options.path+options.starOn):a("img#"+b+"-"+d).attr("src",options.path+options.starOff)})}function c(){$this.live("mouseleave",function(){for(var b=a(this).attr("id"),c=a("img."+b).length,d=a("input#"+b+"-score").val(),e=1;c>=e;e++)d>=e?a("img#"+b+"-"+e).attr("src",options.path+options.starOn):a("img#"+b+"-"+e).attr("src",options.path+options.starOff)})}function d(){var b=$this.attr("id");a("img."+b).live("click",function(){a("input#"+b+"-score").val(this.alt)})}function e(b){var c=$this.attr("id"),d=a("img."+c).length;a("input#"+c+"-score").val(b);for(var e=1;d>=e;e++)b>=e?a("img#"+c+"-"+e).attr("src",options.path+options.starOn):a("img#"+c+"-"+e).attr("src",options.path+options.starOff)}function f(a){window.console&&window.console.log&&window.console.log(a)}a.fn.raty=function(b){if(options=a.extend({},a.fn.raty.defaults,b),void 0===this.attr("id"))return void f("Invalid selector!");$this=a(this),options.number>20&&(options.number=20),"/"!=options.path.substring(options.path.length-1,options.path.length)&&(options.path+="/");var c=$this.attr("id"),d=options.path,e=options.cancelOff,g=options.cancelOn,h=options.showHalf,i=options.starHalf,j=options.starOff,k=options.starOn,l=options.onClick,m=0,n="";!isNaN(options.start)&&options.start>0&&(m=options.start>options.number?options.number:options.start);for(var o=1;o<=options.number;o++)n=options.number<=options.hintList.length&&null!==options.hintList[o-1]?options.hintList[o-1]:o,starFile=m>=o?k:j,$this.append('<img id="'+c+"-"+o+'" src="'+d+starFile+'" alt="'+o+'" title="'+n+'" class="'+c+'"/>').append(o<options.number?"&nbsp;":"");if($this.append('<input id="'+c+'-score" type="hidden" name="'+options.scoreName+'"/>'),a("#"+c+"-score").val(m),h){var p=a("input#"+c+"-score").val(),q=Math.ceil(p),r=(q-p).toFixed(1);r>=.3&&.7>=r?(q-=.5,a("img#"+c+"-"+Math.ceil(q)).attr("src",d+i)):r>=.8?q--:a("img#"+c+"-"+q).attr("src",d+k)}if(options.readOnly)$this.css("cursor","default");else{if(options.showCancel){var s='<img src="'+d+options.cancelOff+'" alt="x" title="'+options.cancelHint+'" class="button-cancel"/>';"left"==options.cancelPlace?$this.prepend(s+"&nbsp;"):$this.append("&nbsp;").append(s),$this.css("width",20*options.number+20),a("#"+c+" img.button-cancel").live("mouseenter",function(){a(this).attr("src",d+g),a("img."+c).attr("src",d+j)}).live("mouseleave",function(){a(this).attr("src",d+e),a("img."+c).trigger("mouseout")}).live("click",function(){a("input#"+c+"-score").val(0),l&&l(0)})}else $this.css("width",20*options.number);a("img."+c).live("mouseenter",function(){for(var b=a("img."+c).length,e=1;b>=e;e++)e<=this.alt?a("img#"+c+"-"+e).attr("src",d+k):a("img#"+c+"-"+e).attr("src",d+j)}).live("click",function(){a("input#"+c+"-score").val(this.alt),l&&l(this.alt)}),$this.live("mouseleave",function(){for(var b=a(this).attr("id"),c=a("img."+b).length,e=a("input#"+b+"-score").val(),f=1;c>=f;f++)e>=f?a("img#"+b+"-"+f).attr("src",d+k):a("img#"+b+"-"+f).attr("src",d+j);if(h){var e=a("input#"+b+"-score").val(),g=Math.ceil(e),l=(g-e).toFixed(1);l>=.3&&.7>=l?(g-=.5,a("img#"+b+"-"+Math.ceil(g)).attr("src",d+i)):l>=.8?g--:a("img#"+b+"-"+g).attr("src",d+k)}}).css("cursor","pointer")}return $this},a.fn.raty.defaults={cancelHint:"cancel this rating!",cancelOff:"cancel-off.png",cancelOn:"cancel-on.png",cancelPlace:"left",hintList:["不满意","基本满意","满意"],number:3,path:RESOURCE_PATH+"/resource/system/images/",readOnly:!1,scoreName:"score",showCancel:!1,showHalf:!1,starHalf:"star-half.png",start:0,starOff:"star-off.png",starOn:"star-on.png"},a.fn.raty.readOnly=function(e){return e?(a("img."+$this.attr("id")).die(),$this.css("cursor","default").die()):(b(),c(),d(),$this.css("cursor","pointer")),a.fn.raty},a.fn.raty.start=function(b){return e(b),a.fn.raty},a.fn.raty.click=function(b){var c=b>=options.number?options.number:b;return e(c),options.onClick?options.onClick(c):f('You should add the "onClick: function() {}" option.'),a.fn.raty}}(jQuery),function(a){a.fn.slide=function(b){return a.fn.slide.defaults={effect:"fade",autoPlay:!1,delayTime:500,interTime:2500,triggerTime:150,defaultIndex:0,titCell:".hd li",mainCell:".bd",targetCell:null,trigger:"mouseover",scroll:1,vis:1,titOnClassName:"on",autoPage:!1,prevCell:".prev",nextCell:".next",pageStateCell:".pageState",opp:!1,pnLoop:!0,easing:"linear",startFun:null,endFun:null,switchLoad:null},this.each(function(){var c=a.extend({},a.fn.slide.defaults,b),d=c.effect,e=a(c.prevCell,a(this)),f=a(c.nextCell,a(this)),g=a(c.pageStateCell,a(this)),h=a(c.titCell,a(this)),i=h.size(),j=a(c.mainCell,a(this)),k=j.children().size(),l=c.switchLoad;if(null!=c.targetCell)var m=a(c.targetCell,a(this));var n=parseInt(c.defaultIndex),o=parseInt(c.delayTime),p=parseInt(c.interTime);parseInt(c.triggerTime);var q=parseInt(c.scroll),r=parseInt(c.vis),s="false"==c.autoPlay||0==c.autoPlay?!1:!0,t="false"==c.opp||0==c.opp?!1:!0,u="false"==c.autoPage||0==c.autoPage?!1:!0,v="false"==c.pnLoop||0==c.pnLoop?!1:!0,w=0,x=0,y=0,z=0,A=c.easing,B=null,C=n;if(0==i&&(i=k),u){var D=k-r;i=1+parseInt(0!=D%q?D/q+1:D/q),0>=i&&(i=1),h.html("");for(var E=0;i>E;E++)h.append("<li>"+(E+1)+"</li>");var h=a("li",h)}if(j.children().each(function(){a(this).width()>y&&(y=a(this).width(),x=a(this).outerWidth(!0)),a(this).height()>z&&(z=a(this).height(),w=a(this).outerHeight(!0))}),k>=r)switch(d){case"fold":j.css({position:"relative",width:x,height:w}).children().css({position:"absolute",width:y,left:0,top:0,display:"none"});break;case"top":j.wrap('<div class="tempWrap" style="overflow:hidden; position:relative; height:'+r*w+'px"></div>').css({position:"relative",padding:"0",margin:"0"}).children().css({height:z});break;case"left":j.wrap('<div class="tempWrap" style="overflow:hidden; position:relative; width:'+r*x+'px"></div>').css({width:k*x,position:"relative",overflow:"hidden",padding:"0",margin:"0"}).children().css({"float":"left",width:y});break;case"leftLoop":case"leftMarquee":j.children().clone().appendTo(j).clone().prependTo(j),j.wrap('<div class="tempWrap" style="overflow:hidden; position:relative; width:'+r*x+'px"></div>').css({width:3*k*x,position:"relative",overflow:"hidden",padding:"0",margin:"0",left:-k*x}).children().css({"float":"left",width:y});break;case"topLoop":case"topMarquee":j.children().clone().appendTo(j).clone().prependTo(j),j.wrap('<div class="tempWrap" style="overflow:hidden; position:relative; height:'+r*w+'px"></div>').css({height:3*k*w,position:"relative",padding:"0",margin:"0",top:-k*w}).children().css({height:z})}var F=function(){a.isFunction(c.startFun)&&c.startFun(n,i)},G=function(){a.isFunction(c.endFun)&&c.endFun(n,i)},H=function(b){b.eq(n).find("img").each(function(){void 0!==a(this).attr(l)&&a(this).attr("src",a(this).attr(l)).removeAttr(l)})},I=function(a){if(C!=n||a||"leftMarquee"==d||"topMarquee"==d){switch(d){case"fade":case"fold":case"top":case"left":n>=i?n=0:0>n&&(n=i-1);break;case"leftMarquee":case"topMarquee":n>=1?n=1:0>=n&&(n=0);break;case"leftLoop":case"topLoop":var b=n-C;i>2&&b==-(i-1)&&(b=1),i>2&&b==i-1&&(b=-1);var p=Math.abs(b*q);n>=i?n=0:0>n&&(n=i-1)}if(F(),null!=l&&H(j.children()),m&&(null!=l&&H(m),m.hide().eq(n).animate({opacity:"show"},o,function(){j[0]||G()})),k>=r)switch(d){case"fade":j.children().stop(!0,!0).eq(n).animate({opacity:"show"},o,A,function(){G()}).siblings().hide();break;case"fold":j.children().stop(!0,!0).eq(n).animate({opacity:"show"},o,A,function(){G()}).siblings().animate({opacity:"hide"},o,A);break;case"top":j.stop(!0,!1).animate({top:-n*q*w},o,A,function(){G()});break;case"left":j.stop(!0,!1).animate({left:-n*q*x},o,A,function(){G()});break;case"leftLoop":0>b?j.stop(!0,!0).animate({left:-(k-p)*x},o,A,function(){for(var a=0;p>a;a++)j.children().last().prependTo(j);j.css("left",-k*x),G()}):j.stop(!0,!0).animate({left:-(k+p)*x},o,A,function(){for(var a=0;p>a;a++)j.children().first().appendTo(j);j.css("left",-k*x),G()});break;case"topLoop":0>b?j.stop(!0,!0).animate({top:-(k-p)*w},o,A,function(){for(var a=0;p>a;a++)j.children().last().prependTo(j);j.css("top",-k*w),G()}):j.stop(!0,!0).animate({top:-(k+p)*w},o,A,function(){for(var a=0;p>a;a++)j.children().first().appendTo(j);j.css("top",-k*w),G()});break;case"leftMarquee":var s=j.css("left").replace("px","");0==n?j.animate({left:++s},0,function(){if(j.css("left").replace("px","")>=0){for(var a=0;k>a;a++)j.children().last().prependTo(j);j.css("left",-k*x)}}):j.animate({left:--s},0,function(){if(2*-k*x>=j.css("left").replace("px","")){for(var a=0;k>a;a++)j.children().first().appendTo(j);j.css("left",-k*x)}});break;case"topMarquee":var t=j.css("top").replace("px","");0==n?j.animate({top:++t},0,function(){if(j.css("top").replace("px","")>=0){for(var a=0;k>a;a++)j.children().last().prependTo(j);j.css("top",-k*w)}}):j.animate({top:--t},0,function(){if(2*-k*w>=j.css("top").replace("px","")){for(var a=0;k>a;a++)j.children().first().appendTo(j);j.css("top",-k*w)}})}h.removeClass(c.titOnClassName).eq(n).addClass(c.titOnClassName),C=n,0==v&&(f.removeClass("nextStop"),e.removeClass("prevStop"),0==n?e.addClass("prevStop"):n==i-1&&f.addClass("nextStop")),g.html("<span>"+(n+1)+"</span>/"+i)}};I(!0),s&&("leftMarquee"==d||"topMarquee"==d?(t?n--:n++,B=setInterval(I,p),j.hover(function(){s&&clearInterval(B)},function(){s&&(clearInterval(B),B=setInterval(I,p))})):(B=setInterval(function(){t?n--:n++,I()},p),a(this).hover(function(){s&&clearInterval(B)},function(){s&&(clearInterval(B),B=setInterval(function(){t?n--:n++,I()},p))})));var J;"mouseover"==c.trigger?h.hover(function(){n=h.index(this),J=window.setTimeout(I,c.triggerTime)},function(){clearTimeout(J)}):h.click(function(){n=h.index(this),I()}),f.click(function(){(1==v||n!=i-1)&&(n++,I())}),e.click(function(){(1==v||0!=n)&&(n--,I())})})}}(jQuery),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,c,d,e){return jQuery.easing[jQuery.easing.def](a,b,c,d,e)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return 1>(b/=e/2)?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return 1>(b/=e/2)?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return 1>(b/=e/2)?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return 1>(b/=e/2)?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return 0==b?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return 0==b?c:b==e?c+d:1>(b/=e/2)?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return 1>(b/=e/2)?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),Math.abs(d)>h){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),Math.abs(d)>h){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin(2*(b*e-f)*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(2==(b/=e/2))return c+d;if(g||(g=.3*e*1.5),Math.abs(d)>h){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return 1>b?-.5*h*Math.pow(2,10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g)+c:.5*h*Math.pow(2,-10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g)+d+c},easeInBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),1>(b/=e/2)?d/2*b*b*(((f*=1.525)+1)*b-f)+c:d/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c},easeInBounce:function(a,b,c,d,e){return d-jQuery.easing.easeOutBounce(a,e-b,0,d,e)+c},easeOutBounce:function(a,b,c,d,e){return 1/2.75>(b/=e)?7.5625*d*b*b+c:2/2.75>b?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:2.5/2.75>b?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(a,b,c,d,e){return e/2>b?.5*jQuery.easing.easeInBounce(a,2*b,0,d,e)+c:.5*jQuery.easing.easeOutBounce(a,2*b-e,0,d,e)+.5*d+c}}),function($){"use strict";var escape=/["\\\x00-\x1f\x7f-\x9f]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},hasOwn=Object.prototype.hasOwnProperty;$.toJSON="object"==typeof JSON&&JSON.stringify?JSON.stringify:function(a){if(null===a)return"null";var b,c,d,e,f=$.type(a);if("undefined"!==f){if("number"===f||"boolean"===f)return String(a);if("string"===f)return $.quoteString(a);if("function"==typeof a.toJSON)return $.toJSON(a.toJSON());if("date"===f){var g=a.getUTCMonth()+1,h=a.getUTCDate(),i=a.getUTCFullYear(),j=a.getUTCHours(),k=a.getUTCMinutes(),l=a.getUTCSeconds(),m=a.getUTCMilliseconds();return 10>g&&(g="0"+g),10>h&&(h="0"+h),10>j&&(j="0"+j),10>k&&(k="0"+k),10>l&&(l="0"+l),100>m&&(m="0"+m),10>m&&(m="0"+m),'"'+i+"-"+g+"-"+h+"T"+j+":"+k+":"+l+"."+m+'Z"'}if(b=[],$.isArray(a)){for(c=0;c<a.length;c++)b.push($.toJSON(a[c])||"null");return"["+b.join(",")+"]"}if("object"==typeof a){for(c in a)if(hasOwn.call(a,c)){if(f=typeof c,"number"===f)d='"'+c+'"';else{if("string"!==f)continue;d=$.quoteString(c)}f=typeof a[c],"function"!==f&&"undefined"!==f&&(e=$.toJSON(a[c]),b.push(d+":"+e))}return"{"+b.join(",")+"}"}}},$.evalJSON="object"==typeof JSON&&JSON.parse?JSON.parse:function(str){return eval("("+str+")")},$.secureEvalJSON="object"==typeof JSON&&JSON.parse?JSON.parse:function(str){var filtered=str.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(filtered))return eval("("+str+")");throw new SyntaxError("Error parsing JSON, source is not valid.")},$.quoteString=function(a){return a.match(escape)?'"'+a.replace(escape,function(a){var b=meta[a];return"string"==typeof b?b:(b=a.charCodeAt(),"\\u00"+Math.floor(b/16).toString(16)+(b%16).toString(16))})+'"':'"'+a+'"'}}(jQuery),function(){function a(){var a="{}";if("userDataBehavior"==q){o.load("jStorage");try{a=o.getAttribute("jStorage")}catch(b){}try{t=o.getAttribute("jStorage_update")}catch(c){}n.jStorage=a}e(),h(),i()}function b(){var b;clearTimeout(s),s=setTimeout(function(){if("localStorage"==q||"globalStorage"==q)b=n.jStorage_update;else if("userDataBehavior"==q){o.load("jStorage");try{b=o.getAttribute("jStorage_update")}catch(d){}}if(b&&b!=t){t=b;var e,f=k.parse(k.stringify(m.__jstorage_meta.CRC32));a(),e=k.parse(k.stringify(m.__jstorage_meta.CRC32));var g,h=[],i=[];for(g in f)f.hasOwnProperty(g)&&(e[g]?f[g]!=e[g]&&"2."==String(f[g]).substr(0,2)&&h.push(g):i.push(g));for(g in e)e.hasOwnProperty(g)&&(f[g]||h.push(g));c(h,"updated"),c(i,"deleted")}},25)}function c(a,b){if(a=[].concat(a||[]),"flushed"==b){a=[];for(var c in r)r.hasOwnProperty(c)&&a.push(c);b="deleted"}c=0;for(var d=a.length;d>c;c++){if(r[a[c]])for(var e=0,f=r[a[c]].length;f>e;e++)r[a[c]][e](a[c],b);if(r["*"])for(e=0,f=r["*"].length;f>e;e++)r["*"][e](a[c],b)}}function d(){var a=(+new Date).toString();"localStorage"==q||"globalStorage"==q?n.jStorage_update=a:"userDataBehavior"==q&&(o.setAttribute("jStorage_update",a),o.save("jStorage")),b()}function e(){if(n.jStorage)try{m=k.parse(String(n.jStorage))}catch(a){n.jStorage="{}"}else n.jStorage="{}";p=n.jStorage?String(n.jStorage).length:0,m.__jstorage_meta||(m.__jstorage_meta={}),m.__jstorage_meta.CRC32||(m.__jstorage_meta.CRC32={})}function f(){if(m.__jstorage_meta.PubSub){for(var a=+new Date-2e3,b=0,c=m.__jstorage_meta.PubSub.length;c>b;b++)if(m.__jstorage_meta.PubSub[b][0]<=a){m.__jstorage_meta.PubSub.splice(b,m.__jstorage_meta.PubSub.length-b);break}m.__jstorage_meta.PubSub.length||delete m.__jstorage_meta.PubSub}try{n.jStorage=k.stringify(m),o&&(o.setAttribute("jStorage",n.jStorage),o.save("jStorage")),p=n.jStorage?String(n.jStorage).length:0}catch(d){}}function g(a){if(!a||"string"!=typeof a&&"number"!=typeof a)throw new TypeError("Key name must be string or numeric");if("__jstorage_meta"==a)throw new TypeError("Reserved key name");return!0}function h(){var a,b,e,g,i=1/0,j=!1,k=[];if(clearTimeout(l),m.__jstorage_meta&&"object"==typeof m.__jstorage_meta.TTL){a=+new Date,e=m.__jstorage_meta.TTL,g=m.__jstorage_meta.CRC32;for(b in e)e.hasOwnProperty(b)&&(e[b]<=a?(delete e[b],delete g[b],delete m[b],j=!0,k.push(b)):e[b]<i&&(i=e[b]));1/0!=i&&(l=setTimeout(h,i-a)),j&&(f(),d(),c(k,"deleted"))}}function i(){var a;if(m.__jstorage_meta.PubSub){var b,c=v;for(a=m.__jstorage_meta.PubSub.length-1;a>=0;a--)if(b=m.__jstorage_meta.PubSub[a],b[0]>v){var c=b[0],d=b[1];if(b=b[2],u[d])for(var e=0,f=u[d].length;f>e;e++)u[d][e](d,k.parse(k.stringify(b)))}v=c}}var j=window.jQuery||window.$||(window.$={}),k={parse:window.JSON&&(window.JSON.parse||window.JSON.decode)||String.prototype.evalJSON&&function(a){return String(a).evalJSON()}||j.parseJSON||j.evalJSON,stringify:Object.toJSON||window.JSON&&(window.JSON.stringify||window.JSON.encode)||j.toJSON};if(!k.parse||!k.stringify)throw Error("No JSON support found, include //cdnjs.cloudflare.com/ajax/libs/json2/20110223/json2.js to page");var l,m={__jstorage_meta:{CRC32:{}}},n={jStorage:"{}"},o=null,p=0,q=!1,r={},s=!1,t=0,u={},v=+new Date,w={isXML:function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?"HTML"!==a.nodeName:!1},encode:function(a){if(!this.isXML(a))return!1;try{return(new XMLSerializer).serializeToString(a)}catch(b){try{return a.xml}catch(c){}}return!1},decode:function(a){var b="DOMParser"in window&&(new DOMParser).parseFromString||window.ActiveXObject&&function(a){var b=new ActiveXObject("Microsoft.XMLDOM");return b.async="false",b.loadXML(a),b};return b?(a=b.call("DOMParser"in window&&new DOMParser||window,a,"text/xml"),this.isXML(a)?a:!1):!1}};j.jStorage={version:"0.4.3",set:function(a,b,d){if(g(a),d=d||{},"undefined"==typeof b)return this.deleteKey(a),b;if(w.isXML(b))b={_is_xml:!0,xml:w.encode(b)};else{if("function"==typeof b)return;b&&"object"==typeof b&&(b=k.parse(k.stringify(b)))}m[a]=b;for(var e,f=m.__jstorage_meta.CRC32,h=k.stringify(b),i=h.length,j=2538058380^i,l=0;i>=4;)e=255&h.charCodeAt(l)|(255&h.charCodeAt(++l))<<8|(255&h.charCodeAt(++l))<<16|(255&h.charCodeAt(++l))<<24,e=1540483477*(65535&e)+((1540483477*(e>>>16)&65535)<<16),e^=e>>>24,e=1540483477*(65535&e)+((1540483477*(e>>>16)&65535)<<16),j=1540483477*(65535&j)+((1540483477*(j>>>16)&65535)<<16)^e,i-=4,++l;switch(i){case 3:j^=(255&h.charCodeAt(l+2))<<16;case 2:j^=(255&h.charCodeAt(l+1))<<8;case 1:j^=255&h.charCodeAt(l),j=1540483477*(65535&j)+((1540483477*(j>>>16)&65535)<<16)}return j^=j>>>13,j=1540483477*(65535&j)+((1540483477*(j>>>16)&65535)<<16),f[a]="2."+((j^j>>>15)>>>0),this.setTTL(a,d.TTL||0),c(a,"updated"),b},get:function(a,b){return g(a),a in m?m[a]&&"object"==typeof m[a]&&m[a]._is_xml?w.decode(m[a].xml):m[a]:"undefined"==typeof b?null:b},deleteKey:function(a){return g(a),a in m?(delete m[a],"object"==typeof m.__jstorage_meta.TTL&&a in m.__jstorage_meta.TTL&&delete m.__jstorage_meta.TTL[a],delete m.__jstorage_meta.CRC32[a],f(),d(),c(a,"deleted"),!0):!1},setTTL:function(a,b){var c=+new Date;return g(a),b=Number(b)||0,a in m?(m.__jstorage_meta.TTL||(m.__jstorage_meta.TTL={}),b>0?m.__jstorage_meta.TTL[a]=c+b:delete m.__jstorage_meta.TTL[a],f(),h(),d(),!0):!1},getTTL:function(a){var b=+new Date;return g(a),a in m&&m.__jstorage_meta.TTL&&m.__jstorage_meta.TTL[a]?(a=m.__jstorage_meta.TTL[a]-b)||0:0},flush:function(){return m={__jstorage_meta:{CRC32:{}}},f(),d(),c(null,"flushed"),!0},storageObj:function(){function a(){}return a.prototype=m,new a},index:function(){var a,b=[];for(a in m)m.hasOwnProperty(a)&&"__jstorage_meta"!=a&&b.push(a);return b},storageSize:function(){return p},currentBackend:function(){return q},storageAvailable:function(){return!!q},listenKeyChange:function(a,b){g(a),r[a]||(r[a]=[]),r[a].push(b)},stopListening:function(a,b){if(g(a),r[a])if(b)for(var c=r[a].length-1;c>=0;c--)r[a][c]==b&&r[a].splice(c,1);else delete r[a]},subscribe:function(a,b){if(a=(a||"").toString(),!a)throw new TypeError("Channel not defined");u[a]||(u[a]=[]),u[a].push(b)},publish:function(a,b){if(a=(a||"").toString(),!a)throw new TypeError("Channel not defined");m.__jstorage_meta||(m.__jstorage_meta={}),m.__jstorage_meta.PubSub||(m.__jstorage_meta.PubSub=[]),m.__jstorage_meta.PubSub.unshift([+new Date,a,b]),f(),d()},reInit:function(){a()}};a:{if(j=!1,"localStorage"in window)try{window.localStorage.setItem("_tmptest","tmpval"),j=!0,window.localStorage.removeItem("_tmptest")}catch(x){}if(j)try{window.localStorage&&(n=window.localStorage,q="localStorage",t=n.jStorage_update)}catch(y){}else if("globalStorage"in window)try{window.globalStorage&&(n=window.globalStorage[window.location.hostname],q="globalStorage",t=n.jStorage_update)}catch(z){}else{if(o=document.createElement("link"),!o.addBehavior){o=null;break a}o.style.behavior="url(#default#userData)",document.getElementsByTagName("head")[0].appendChild(o);try{o.load("jStorage")}catch(A){o.setAttribute("jStorage","{}"),o.save("jStorage"),o.load("jStorage")}j="{}";try{j=o.getAttribute("jStorage")}catch(B){}try{t=o.getAttribute("jStorage_update")}catch(C){}n.jStorage=j,q="userDataBehavior"}e(),h(),"localStorage"==q||"globalStorage"==q?"addEventListener"in window?window.addEventListener("storage",b,!1):document.attachEvent("onstorage",b):"userDataBehavior"==q&&setInterval(b,1e3),i(),"addEventListener"in window&&window.addEventListener("pageshow",function(a){a.persisted&&b()},!1)}}(),function(a){a.fn.mask=function(b,c){a(this).each(function(){if(void 0!==c&&c>0){var d=a(this);d.data("_mask_timeout",setTimeout(function(){a.maskElement(d,b)},c))}else a.maskElement(a(this),b)})},a.fn.unmask=function(){a(this).each(function(){a.unmaskElement(a(this))})},a.fn.isMasked=function(){return this.hasClass("masked")},a.maskElement=function(b,c){void 0!==b.data("_mask_timeout")&&(clearTimeout(b.data("_mask_timeout")),b.removeData("_mask_timeout")),b.isMasked()&&a.unmaskElement(b),"static"==b.css("position")&&b.addClass("masked-relative"),b.addClass("masked");var d=a('<div class="loadmask"></div>');if(navigator.userAgent.toLowerCase().indexOf("msie")>-1&&(d.height(b.height()+parseInt(b.css("padding-top"))+parseInt(b.css("padding-bottom"))),d.width(b.width()+parseInt(b.css("padding-left"))+parseInt(b.css("padding-right")))),navigator.userAgent.toLowerCase().indexOf("msie 6")>-1&&b.find("select").addClass("masked-hidden"),b.append(d),void 0!==c){var e=a('<div class="loadmask-msg" style="display:none;"></div>');e.append("<div>"+c+"</div>"),b.append(e),e.css("top",Math.round(b.height()/2-(e.height()-parseInt(e.css("padding-top"))-parseInt(e.css("padding-bottom")))/2)+"px"),e.css("left",Math.round(b.width()/2-(e.width()-parseInt(e.css("padding-left"))-parseInt(e.css("padding-right")))/2)+"px"),e.show()}},a.unmaskElement=function(a){void 0!==a.data("_mask_timeout")&&(clearTimeout(a.data("_mask_timeout")),a.removeData("_mask_timeout")),a.find(".loadmask-msg,.loadmask").remove(),a.removeClass("masked"),a.removeClass("masked-relative"),a.find("select").removeClass("masked-hidden")}}(jQuery),function(a){a.fn.extend({primaryOrgMemberAutoComplete:function(b){function c(b){return a.extend({memberName:b,orgId:a("#fatesonOrgId").val(),"primaryOrgMember.primaryOrgId":a("#primaryOrgId").val()},h)}function d(b){var c=b.gender.id,d=e(a("#gender"),c);return"姓名:"+b.name+"；性别:"+d}function e(a,b){for(var c="",d=a.get(0).options.length,e=0;d>e;e++)if(a.get(0).options[e].value==b){c=a.get(0).options[e].text;break}return c}function f(){a("#gender").val(""),a("#dutyId").val(""),a("#job").val(""),a("#year").val(""),a("#mobileNumber").val(""),a("#telephone").val(""),a("#remark").val("")}var g=a(this),h={rows:10};a.extend(h,b.postData);var i={delay:500,minLength:0,searchByMemberName:!1,searchLevel:"",close:function(){},source:function(b,e){return""==b.term?(b.term=null,void a("#serviceTeamMemberForm")[0].reset()):void a.ajax({url:PATH+"/baseinfo/primaryOrgMemberManage/findOrgMembersByName.action",data:c(b.term),success:function(b){g.data("data",b),0==b.length?(f(),b={"":""},e(a.map(b,function(){return{noRecord:"",label:function(){return"没查询到记录"},value:function(){return a("#name").val()}}}))):e(a.map(b,function(a){return{dutyId:a.dutyId.id,genderId:a.gender.id,position:a.position,remark:a.remark,telephone:a.telephone,year:a.year,mobile:a.mobile,label:function(){return d(a)},value:function(){return a.name}}}))},error:function(){a.messageBox({message:"搜索失败，请重新登入！",level:"error"})}})}};a.extend(i,b),i.select=function(a,c){null!=b.select&&b.select(a,c)},a(this).autocomplete(i)}})}(jQuery),function(a){var b,c,d="0.3.4",e="hasOwnProperty",f=/[\.\/]/,g="*",h=function(){},i=function(a,b){return a-b},j={n:{}},k=function(a,d){var e,f=c,g=Array.prototype.slice.call(arguments,2),h=k.listeners(a),j=0,l=[],m={},n=[],o=b;b=a,c=0;for(var p=0,q=h.length;q>p;p++)"zIndex"in h[p]&&(l.push(h[p].zIndex),h[p].zIndex<0&&(m[h[p].zIndex]=h[p]));for(l.sort(i);l[j]<0;)if(e=m[l[j++]],n.push(e.apply(d,g)),c)return c=f,n;for(p=0;q>p;p++)if(e=h[p],"zIndex"in e)if(e.zIndex==l[j]){if(n.push(e.apply(d,g)),c)break;do if(j++,e=m[l[j]],e&&n.push(e.apply(d,g)),c)break;while(e)}else m[e.zIndex]=e;else if(n.push(e.apply(d,g)),c)break;return c=f,b=o,n.length?n:null};k.listeners=function(a){var b,c,d,e,h,i,k,l,m=a.split(f),n=j,o=[n],p=[];for(e=0,h=m.length;h>e;e++){for(l=[],i=0,k=o.length;k>i;i++)for(n=o[i].n,c=[n[m[e]],n[g]],d=2;d--;)b=c[d],b&&(l.push(b),p=p.concat(b.f||[]));o=l}return p},k.on=function(a,b){for(var c=a.split(f),d=j,e=0,g=c.length;g>e;e++)d=d.n,!d[c[e]]&&(d[c[e]]={n:{}}),d=d[c[e]];for(d.f=d.f||[],e=0,g=d.f.length;g>e;e++)if(d.f[e]==b)return h;return d.f.push(b),function(a){+a==+a&&(b.zIndex=+a)}},k.stop=function(){c=1},k.nt=function(a){return a?new RegExp("(?:\\.|\\/|^)"+a+"(?:\\.|\\/|$)").test(b):b},k.off=k.unbind=function(a,b){var c,d,h,i,k,l,m,n=a.split(f),o=[j];for(i=0,k=n.length;k>i;i++)for(l=0;l<o.length;l+=h.length-2){if(h=[l,1],c=o[l].n,n[i]!=g)c[n[i]]&&h.push(c[n[i]]);else for(d in c)c[e](d)&&h.push(c[d]);o.splice.apply(o,h)}for(i=0,k=o.length;k>i;i++)for(c=o[i];c.n;){if(b){if(c.f){for(l=0,m=c.f.length;m>l;l++)if(c.f[l]==b){c.f.splice(l,1);break}!c.f.length&&delete c.f}for(d in c.n)if(c.n[e](d)&&c.n[d].f){var p=c.n[d].f;for(l=0,m=p.length;m>l;l++)if(p[l]==b){p.splice(l,1);break}!p.length&&delete c.n[d].f}}else{delete c.f;for(d in c.n)c.n[e](d)&&c.n[d].f&&delete c.n[d].f}c=c.n}},k.once=function(a,b){var c=function(){var d=b.apply(this,arguments);return k.unbind(a,c),d};return k.on(a,c)},k.version=d,k.toString=function(){return"You are running Eve "+d},"undefined"!=typeof module&&module.exports?module.exports=k:"undefined"!=typeof define?define("eve",[],function(){return k}):a.eve=k}(this),function(){function a(a){for(var b=0;b<fb.length;b++)fb[b].el.paper==a&&fb.splice(b--,1)}function b(a,b,c,e,g,h){c=Z(c);var i,j,k,l,m,n,o=a.ms,p={},q={},s={};if(e)for(v=0,w=fb.length;w>v;v++){var t=fb[v];if(t.el.id==b.id&&t.anim==a){t.percent!=c?(fb.splice(v,1),k=1):j=t,b.attr(t.totalOrigin);break}}else e=+q;for(var v=0,w=a.percents.length;w>v;v++){if(a.percents[v]==c||a.percents[v]>e*a.top){c=a.percents[v],m=a.percents[v-1]||0,o=o/a.top*(c-m),l=a.percents[v+1],i=a.anim[c];break}e&&b.attr(a.anim[a.percents[v]])}if(i){if(j)j.initstatus=e,j.start=new Date-j.ms*e;else{for(var y in i)if(i[x](y)&&(ba[x](y)||b.paper.customAttributes[x](y)))switch(p[y]=b.attr(y),null==p[y]&&(p[y]=aa[y]),q[y]=i[y],ba[y]){case R:s[y]=(q[y]-p[y])/o;break;case"colour":p[y]=r.getRGB(p[y]);var z=r.getRGB(q[y]);s[y]={r:(z.r-p[y].r)/o,g:(z.g-p[y].g)/o,b:(z.b-p[y].b)/o};break;case"path":var A=Ia(p[y],q[y]),B=A[1];for(p[y]=A[0],s[y]=[],v=0,w=p[y].length;w>v;v++){s[y][v]=[0];for(var D=1,E=p[y][v].length;E>D;D++)s[y][v][D]=(B[v][D]-p[y][v][D])/o}break;case"transform":var F=b._,I=Na(F[y],q[y]);if(I)for(p[y]=I.from,q[y]=I.to,s[y]=[],s[y].real=!0,v=0,w=p[y].length;w>v;v++)for(s[y][v]=[p[y][v][0]],D=1,E=p[y][v].length;E>D;D++)s[y][v][D]=(q[y][v][D]-p[y][v][D])/o;else{var J=b.matrix||new f,K={_:{transform:F.transform},getBBox:function(){return b.getBBox(1)}};p[y]=[J.a,J.b,J.c,J.d,J.e,J.f],La(K,q[y]),q[y]=K._.transform,s[y]=[(K.matrix.a-J.a)/o,(K.matrix.b-J.b)/o,(K.matrix.c-J.c)/o,(K.matrix.d-J.d)/o,(K.matrix.e-J.e)/o,(K.matrix.f-J.f)/o]}break;case"csv":var L=G(i[y])[H](u),M=G(p[y])[H](u);if("clip-rect"==y)for(p[y]=M,s[y]=[],v=M.length;v--;)s[y][v]=(L[v]-p[y][v])/o;q[y]=L;break;default:for(L=[][C](i[y]),M=[][C](p[y]),s[y]=[],v=b.paper.customAttributes[y].length;v--;)s[y][v]=((L[v]||0)-(M[v]||0))/o}var N=i.easing,O=r.easing_formulas[N];if(!O)if(O=G(N).match(X),O&&5==O.length){var P=O;O=function(a){return d(a,+P[1],+P[2],+P[3],+P[4],o)}}else O=la;if(n=i.start||a.start||+new Date,t={anim:a,percent:c,timestamp:n,start:n+(a.del||0),status:0,initstatus:e||0,stop:!1,ms:o,easing:O,from:p,diff:s,to:q,el:b,callback:i.callback,prev:m,next:l,repeat:h||a.times,origin:b.attr(),totalOrigin:g},fb.push(t),e&&!j&&!k&&(t.stop=!0,t.start=new Date-o*e,1==fb.length))return hb();k&&(t.start=new Date-t.ms*e),1==fb.length&&gb(hb)}eve("raphael.anim.start."+b.id,b,a)}}function c(a,b){var c=[],d={};if(this.ms=b,this.times=1,a){for(var e in a)a[x](e)&&(d[Z(e)]=a[e],c.push(Z(e)));c.sort(ja)}this.anim=d,this.top=c[c.length-1],this.percents=c}function d(a,b,c,d,e,f){function g(a,b){var c,d,e,f,g,h;for(e=a,h=0;8>h;h++){if(f=i(e)-a,O(f)<b)return e;if(g=(3*l*e+2*k)*e+j,O(g)<1e-6)break;e-=f/g}if(c=0,d=1,e=a,c>e)return c;
if(e>d)return d;for(;d>c;){if(f=i(e),O(f-a)<b)return e;a>f?c=e:d=e,e=(d-c)/2+c}return e}function h(a,b){var c=g(a,b);return((o*c+n)*c+m)*c}function i(a){return((l*a+k)*a+j)*a}var j=3*b,k=3*(d-b)-j,l=1-j-k,m=3*c,n=3*(e-c)-m,o=1-m-n;return h(a,1/(200*f))}function e(){return this.x+F+this.y+F+this.width+" × "+this.height}function f(a,b,c,d,e,f){null!=a?(this.a=+a,this.b=+b,this.c=+c,this.d=+d,this.e=+e,this.f=+f):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function g(a,b,c){a=r._path2curve(a),b=r._path2curve(b);for(var d,e,f,g,i,j,k,l,m,n,o=c?0:[],p=0,q=a.length;q>p;p++){var s=a[p];if("M"==s[0])d=i=s[1],e=j=s[2];else{"C"==s[0]?(m=[d,e].concat(s.slice(1)),d=m[6],e=m[7]):(m=[d,e,d,e,i,j,i,j],d=i,e=j);for(var t=0,u=b.length;u>t;t++){var v=b[t];if("M"==v[0])f=k=v[1],g=l=v[2];else{"C"==v[0]?(n=[f,g].concat(v.slice(1)),f=n[6],g=n[7]):(n=[f,g,f,g,k,l,k,l],f=k,g=l);var w=h(m,n,c);if(c)o+=w;else{for(var x=0,y=w.length;y>x;x++)w[x].segment1=p,w[x].segment2=t,w[x].bez1=m,w[x].bez2=n;o=o.concat(w)}}}}}return o}function h(a,b,c){var d=r.bezierBBox(a),e=r.bezierBBox(b);if(!r.isBBoxIntersect(d,e))return c?0:[];for(var f=k.apply(0,a),g=k.apply(0,b),h=~~(f/5),j=~~(g/5),l=[],m=[],n={},o=c?0:[],p=0;h+1>p;p++){var q=r.findDotsAtSegment.apply(r,a.concat(p/h));l.push({x:q.x,y:q.y,t:p/h})}for(p=0;j+1>p;p++)q=r.findDotsAtSegment.apply(r,b.concat(p/j)),m.push({x:q.x,y:q.y,t:p/j});for(p=0;h>p;p++)for(var s=0;j>s;s++){var t=l[p],u=l[p+1],v=m[s],w=m[s+1],x=O(u.x-t.x)<.001?"y":"x",y=O(w.x-v.x)<.001?"y":"x",z=i(t.x,t.y,u.x,u.y,v.x,v.y,w.x,w.y);if(z){if(n[z.x.toFixed(4)]==z.y.toFixed(4))continue;n[z.x.toFixed(4)]=z.y.toFixed(4);var A=t.t+O((z[x]-t[x])/(u[x]-t[x]))*(u.t-t.t),B=v.t+O((z[y]-v[y])/(w[y]-v[y]))*(w.t-v.t);A>=0&&1>=A&&B>=0&&1>=B&&(c?o++:o.push({x:z.x,y:z.y,t1:A,t2:B}))}}return o}function i(a,b,c,d,e,f,g,h){if(!(M(a,c)<N(e,g)||N(a,c)>M(e,g)||M(b,d)<N(f,h)||N(b,d)>M(f,h))){var i=(a*d-b*c)*(e-g)-(a-c)*(e*h-f*g),j=(a*d-b*c)*(f-h)-(b-d)*(e*h-f*g),k=(a-c)*(f-h)-(b-d)*(e-g);if(!k)return;var l=i/k,m=j/k,n=+l.toFixed(2),o=+m.toFixed(2);if(n<+N(a,c).toFixed(2)||n>+M(a,c).toFixed(2)||n<+N(e,g).toFixed(2)||n>+M(e,g).toFixed(2)||o<+N(b,d).toFixed(2)||o>+M(b,d).toFixed(2)||o<+N(f,h).toFixed(2)||o>+M(f,h).toFixed(2))return;return{x:l,y:m}}}function j(a,b,c,d,e,f,g,h,i){if(!(0>i||k(a,b,c,d,e,f,g,h)<i)){var j,l=1,m=l/2,n=l-m,o=.01;for(j=k(a,b,c,d,e,f,g,h,n);O(j-i)>o;)m/=2,n+=(i>j?1:-1)*m,j=k(a,b,c,d,e,f,g,h,n);return n}}function k(a,b,c,d,e,f,g,h,i){null==i&&(i=1),i=i>1?1:0>i?0:i;for(var j=i/2,k=12,m=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],n=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],o=0,p=0;k>p;p++){var q=j*m[p]+j,r=l(q,a,c,e,g),s=l(q,b,d,f,h),t=r*r+s*s;o+=n[p]*L.sqrt(t)}return j*o}function l(a,b,c,d,e){var f=-3*b+9*c-9*d+3*e,g=a*f+6*b-12*c+6*d;return a*g-3*b+3*c}function m(a,b){for(var c=[],d=0,e=a.length;e-2*!b>d;d+=2){var f=[{x:+a[d-2],y:+a[d-1]},{x:+a[d],y:+a[d+1]},{x:+a[d+2],y:+a[d+3]},{x:+a[d+4],y:+a[d+5]}];b?d?e-4==d?f[3]={x:+a[0],y:+a[1]}:e-2==d&&(f[2]={x:+a[0],y:+a[1]},f[3]={x:+a[2],y:+a[3]}):f[0]={x:+a[e-2],y:+a[e-1]}:e-4==d?f[3]=f[2]:d||(f[0]={x:+a[d],y:+a[d+1]}),c.push(["C",(-f[0].x+6*f[1].x+f[2].x)/6,(-f[0].y+6*f[1].y+f[2].y)/6,(f[1].x+6*f[2].x-f[3].x)/6,(f[1].y+6*f[2].y-f[3].y)/6,f[2].x,f[2].y])}return c}function n(){return this.hex}function o(a,b,c){function d(){var e=Array.prototype.slice.call(arguments,0),f=e.join("␀"),g=d.cache=d.cache||{},h=d.count=d.count||[];return g[x](f)?(p(h,f),c?c(g[f]):g[f]):(h.length>=1e3&&delete g[h.shift()],h.push(f),g[f]=a[B](b,e),c?c(g[f]):g[f])}return d}function p(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return a.push(a.splice(c,1)[0])}function q(a){if(Object(a)!==a)return a;var b=new a.constructor;for(var c in a)a[x](c)&&(b[c]=q(a[c]));return b}function r(a){if(r.is(a,"function"))return s?a():eve.on("raphael.DOMload",a);if(r.is(a,T))return r._engine.create[B](r,a.splice(0,3+r.is(a[0],R))).add(a);var b=Array.prototype.slice.call(arguments,0);if(r.is(b[b.length-1],"function")){var c=b.pop();return s?c.call(r._engine.create[B](r,b)):eve.on("raphael.DOMload",function(){c.call(r._engine.create[B](r,b))})}return r._engine.create[B](r,arguments)}r.version="2.1.0",r.eve=eve;var s,t,u=/[, ]+/,v={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},w=/\{(\d+)\}/g,x="hasOwnProperty",y={doc:document,win:window},z={was:Object.prototype[x].call(y.win,"Raphael"),is:y.win.Raphael},A=function(){this.ca=this.customAttributes={}},B="apply",C="concat",D="createTouch"in y.doc,E="",F=" ",G=String,H="split",I="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[H](F),J={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},K=G.prototype.toLowerCase,L=Math,M=L.max,N=L.min,O=L.abs,P=L.pow,Q=L.PI,R="number",S="string",T="array",U=Object.prototype.toString,V=(r._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),W={NaN:1,Infinity:1,"-Infinity":1},X=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,Y=L.round,Z=parseFloat,$=parseInt,_=G.prototype.toUpperCase,aa=r._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},ba=r._availableAnimAttrs={blur:R,"clip-rect":"csv",cx:R,cy:R,fill:"colour","fill-opacity":R,"font-size":R,height:R,opacity:R,path:"path",r:R,rx:R,ry:R,stroke:"colour","stroke-opacity":R,"stroke-width":R,transform:"transform",width:R,x:R,y:R},ca=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,da={hs:1,rg:1},ea=/,?([achlmqrstvxz]),?/gi,fa=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ga=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ha=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,ia=(r._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),ja=function(a,b){return Z(a)-Z(b)},ka=function(){},la=function(a){return a},ma=r._rectPath=function(a,b,c,d,e){return e?[["M",a+e,b],["l",c-2*e,0],["a",e,e,0,0,1,e,e],["l",0,d-2*e],["a",e,e,0,0,1,-e,e],["l",2*e-c,0],["a",e,e,0,0,1,-e,-e],["l",0,2*e-d],["a",e,e,0,0,1,e,-e],["z"]]:[["M",a,b],["l",c,0],["l",0,d],["l",-c,0],["z"]]},na=function(a,b,c,d){return null==d&&(d=c),[["M",a,b],["m",0,-d],["a",c,d,0,1,1,0,2*d],["a",c,d,0,1,1,0,-2*d],["z"]]},oa=r._getPath={path:function(a){return a.attr("path")},circle:function(a){var b=a.attrs;return na(b.cx,b.cy,b.r)},ellipse:function(a){var b=a.attrs;return na(b.cx,b.cy,b.rx,b.ry)},rect:function(a){var b=a.attrs;return ma(b.x,b.y,b.width,b.height,b.r)},image:function(a){var b=a.attrs;return ma(b.x,b.y,b.width,b.height)},text:function(a){var b=a._getBBox();return ma(b.x,b.y,b.width,b.height)}},pa=r.mapPath=function(a,b){if(!b)return a;var c,d,e,f,g,h,i;for(a=Ia(a),e=0,g=a.length;g>e;e++)for(i=a[e],f=1,h=i.length;h>f;f+=2)c=b.x(i[f],i[f+1]),d=b.y(i[f],i[f+1]),i[f]=c,i[f+1]=d;return a};if(r._g=y,r.type=y.win.SVGAngle||y.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==r.type){var qa,ra=y.doc.createElement("div");if(ra.innerHTML='<v:shape adj="1"/>',qa=ra.firstChild,qa.style.behavior="url(#default#VML)",!qa||"object"!=typeof qa.adj)return r.type=E;ra=null}r.svg=!(r.vml="VML"==r.type),r._Paper=A,r.fn=t=A.prototype=r.prototype,r._id=0,r._oid=0,r.is=function(a,b){return b=K.call(b),"finite"==b?!W[x](+a):"array"==b?a instanceof Array:"null"==b&&null===a||b==typeof a&&null!==a||"object"==b&&a===Object(a)||"array"==b&&Array.isArray&&Array.isArray(a)||U.call(a).slice(8,-1).toLowerCase()==b},r.angle=function(a,b,c,d,e,f){if(null==e){var g=a-c,h=b-d;return g||h?(180+180*L.atan2(-h,-g)/Q+360)%360:0}return r.angle(a,b,e,f)-r.angle(c,d,e,f)},r.rad=function(a){return a%360*Q/180},r.deg=function(a){return 180*a/Q%360},r.snapTo=function(a,b,c){if(c=r.is(c,"finite")?c:10,r.is(a,T)){for(var d=a.length;d--;)if(O(a[d]-b)<=c)return a[d]}else{a=+a;var e=b%a;if(c>e)return b-e;if(e>a-c)return b-e+a}return b};r.createUUID=function(a,b){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(a,b).toUpperCase()}}(/[xy]/g,function(a){var b=16*L.random()|0,c="x"==a?b:3&b|8;return c.toString(16)});r.setWindow=function(a){eve("raphael.setWindow",r,y.win,a),y.win=a,y.doc=y.win.document,r._engine.initWin&&r._engine.initWin(y.win)};var sa=function(a){if(r.vml){var b,c=/^\s+|\s+$/g;try{var d=new ActiveXObject("htmlfile");d.write("<body>"),d.close(),b=d.body}catch(e){b=createPopup().document.body}var f=b.createTextRange();sa=o(function(a){try{b.style.color=G(a).replace(c,E);var d=f.queryCommandValue("ForeColor");return d=(255&d)<<16|65280&d|(16711680&d)>>>16,"#"+("000000"+d.toString(16)).slice(-6)}catch(e){return"none"}})}else{var g=y.doc.createElement("i");g.title="Raphaël Colour Picker",g.style.display="none",y.doc.body.appendChild(g),sa=o(function(a){return g.style.color=a,y.doc.defaultView.getComputedStyle(g,E).getPropertyValue("color")})}return sa(a)},ta=function(){return"hsb("+[this.h,this.s,this.b]+")"},ua=function(){return"hsl("+[this.h,this.s,this.l]+")"},va=function(){return this.hex},wa=function(a,b,c){if(null==b&&r.is(a,"object")&&"r"in a&&"g"in a&&"b"in a&&(c=a.b,b=a.g,a=a.r),null==b&&r.is(a,S)){var d=r.getRGB(a);a=d.r,b=d.g,c=d.b}return(a>1||b>1||c>1)&&(a/=255,b/=255,c/=255),[a,b,c]},xa=function(a,b,c,d){a*=255,b*=255,c*=255;var e={r:a,g:b,b:c,hex:r.rgb(a,b,c),toString:va};return r.is(d,"finite")&&(e.opacity=d),e};r.color=function(a){var b;return r.is(a,"object")&&"h"in a&&"s"in a&&"b"in a?(b=r.hsb2rgb(a),a.r=b.r,a.g=b.g,a.b=b.b,a.hex=b.hex):r.is(a,"object")&&"h"in a&&"s"in a&&"l"in a?(b=r.hsl2rgb(a),a.r=b.r,a.g=b.g,a.b=b.b,a.hex=b.hex):(r.is(a,"string")&&(a=r.getRGB(a)),r.is(a,"object")&&"r"in a&&"g"in a&&"b"in a?(b=r.rgb2hsl(a),a.h=b.h,a.s=b.s,a.l=b.l,b=r.rgb2hsb(a),a.v=b.b):(a={hex:"none"},a.r=a.g=a.b=a.h=a.s=a.v=a.l=-1)),a.toString=va,a},r.hsb2rgb=function(a,b,c,d){this.is(a,"object")&&"h"in a&&"s"in a&&"b"in a&&(c=a.b,b=a.s,a=a.h,d=a.o),a*=360;var e,f,g,h,i;return a=a%360/60,i=c*b,h=i*(1-O(a%2-1)),e=f=g=c-i,a=~~a,e+=[i,h,0,0,h,i][a],f+=[h,i,i,h,0,0][a],g+=[0,0,h,i,i,h][a],xa(e,f,g,d)},r.hsl2rgb=function(a,b,c,d){this.is(a,"object")&&"h"in a&&"s"in a&&"l"in a&&(c=a.l,b=a.s,a=a.h),(a>1||b>1||c>1)&&(a/=360,b/=100,c/=100),a*=360;var e,f,g,h,i;return a=a%360/60,i=2*b*(.5>c?c:1-c),h=i*(1-O(a%2-1)),e=f=g=c-i/2,a=~~a,e+=[i,h,0,0,h,i][a],f+=[h,i,i,h,0,0][a],g+=[0,0,h,i,i,h][a],xa(e,f,g,d)},r.rgb2hsb=function(a,b,c){c=wa(a,b,c),a=c[0],b=c[1],c=c[2];var d,e,f,g;return f=M(a,b,c),g=f-N(a,b,c),d=0==g?null:f==a?(b-c)/g:f==b?(c-a)/g+2:(a-b)/g+4,d=(d+360)%6*60/360,e=0==g?0:g/f,{h:d,s:e,b:f,toString:ta}},r.rgb2hsl=function(a,b,c){c=wa(a,b,c),a=c[0],b=c[1],c=c[2];var d,e,f,g,h,i;return g=M(a,b,c),h=N(a,b,c),i=g-h,d=0==i?null:g==a?(b-c)/i:g==b?(c-a)/i+2:(a-b)/i+4,d=(d+360)%6*60/360,f=(g+h)/2,e=0==i?0:.5>f?i/(2*f):i/(2-2*f),{h:d,s:e,l:f,toString:ua}},r._path2string=function(){return this.join(",").replace(ea,"$1")};r._preload=function(a,b){var c=y.doc.createElement("img");c.style.cssText="position:absolute;left:-9999em;top:-9999em",c.onload=function(){b.call(this),this.onload=null,y.doc.body.removeChild(this)},c.onerror=function(){y.doc.body.removeChild(this)},y.doc.body.appendChild(c),c.src=a};r.getRGB=o(function(a){if(!a||(a=G(a)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:n};if("none"==a)return{r:-1,g:-1,b:-1,hex:"none",toString:n};!da[x](a.toLowerCase().substring(0,2))&&"#"!=a.charAt()&&(a=sa(a));var b,c,d,e,f,g,h=a.match(V);return h?(h[2]&&(d=$(h[2].substring(5),16),c=$(h[2].substring(3,5),16),b=$(h[2].substring(1,3),16)),h[3]&&(d=$((f=h[3].charAt(3))+f,16),c=$((f=h[3].charAt(2))+f,16),b=$((f=h[3].charAt(1))+f,16)),h[4]&&(g=h[4][H](ca),b=Z(g[0]),"%"==g[0].slice(-1)&&(b*=2.55),c=Z(g[1]),"%"==g[1].slice(-1)&&(c*=2.55),d=Z(g[2]),"%"==g[2].slice(-1)&&(d*=2.55),"rgba"==h[1].toLowerCase().slice(0,4)&&(e=Z(g[3])),g[3]&&"%"==g[3].slice(-1)&&(e/=100)),h[5]?(g=h[5][H](ca),b=Z(g[0]),"%"==g[0].slice(-1)&&(b*=2.55),c=Z(g[1]),"%"==g[1].slice(-1)&&(c*=2.55),d=Z(g[2]),"%"==g[2].slice(-1)&&(d*=2.55),("deg"==g[0].slice(-3)||"°"==g[0].slice(-1))&&(b/=360),"hsba"==h[1].toLowerCase().slice(0,4)&&(e=Z(g[3])),g[3]&&"%"==g[3].slice(-1)&&(e/=100),r.hsb2rgb(b,c,d,e)):h[6]?(g=h[6][H](ca),b=Z(g[0]),"%"==g[0].slice(-1)&&(b*=2.55),c=Z(g[1]),"%"==g[1].slice(-1)&&(c*=2.55),d=Z(g[2]),"%"==g[2].slice(-1)&&(d*=2.55),("deg"==g[0].slice(-3)||"°"==g[0].slice(-1))&&(b/=360),"hsla"==h[1].toLowerCase().slice(0,4)&&(e=Z(g[3])),g[3]&&"%"==g[3].slice(-1)&&(e/=100),r.hsl2rgb(b,c,d,e)):(h={r:b,g:c,b:d,toString:n},h.hex="#"+(16777216|d|c<<8|b<<16).toString(16).slice(1),r.is(e,"finite")&&(h.opacity=e),h)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:n}},r),r.hsb=o(function(a,b,c){return r.hsb2rgb(a,b,c).hex}),r.hsl=o(function(a,b,c){return r.hsl2rgb(a,b,c).hex}),r.rgb=o(function(a,b,c){return"#"+(16777216|c|b<<8|a<<16).toString(16).slice(1)}),r.getColor=function(a){var b=this.getColor.start=this.getColor.start||{h:0,s:1,b:a||.75},c=this.hsb2rgb(b.h,b.s,b.b);return b.h+=.075,b.h>1&&(b.h=0,b.s-=.2,b.s<=0&&(this.getColor.start={h:0,s:1,b:b.b})),c.hex},r.getColor.reset=function(){delete this.start},r.parsePathString=function(a){if(!a)return null;var b=ya(a);if(b.arr)return Aa(b.arr);var c={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},d=[];return r.is(a,T)&&r.is(a[0],T)&&(d=Aa(a)),d.length||G(a).replace(fa,function(a,b,e){var f=[],g=b.toLowerCase();if(e.replace(ha,function(a,b){b&&f.push(+b)}),"m"==g&&f.length>2&&(d.push([b][C](f.splice(0,2))),g="l",b="m"==b?"l":"L"),"r"==g)d.push([b][C](f));else for(;f.length>=c[g]&&(d.push([b][C](f.splice(0,c[g]))),c[g]););}),d.toString=r._path2string,b.arr=Aa(d),d},r.parseTransformString=o(function(a){if(!a)return null;var b=[];return r.is(a,T)&&r.is(a[0],T)&&(b=Aa(a)),b.length||G(a).replace(ga,function(a,c,d){var e=[];K.call(c);d.replace(ha,function(a,b){b&&e.push(+b)}),b.push([c][C](e))}),b.toString=r._path2string,b});var ya=function(a){var b=ya.ps=ya.ps||{};return b[a]?b[a].sleep=100:b[a]={sleep:100},setTimeout(function(){for(var c in b)b[x](c)&&c!=a&&(b[c].sleep--,!b[c].sleep&&delete b[c])}),b[a]};r.findDotsAtSegment=function(a,b,c,d,e,f,g,h,i){var j=1-i,k=P(j,3),l=P(j,2),m=i*i,n=m*i,o=k*a+3*l*i*c+3*j*i*i*e+n*g,p=k*b+3*l*i*d+3*j*i*i*f+n*h,q=a+2*i*(c-a)+m*(e-2*c+a),r=b+2*i*(d-b)+m*(f-2*d+b),s=c+2*i*(e-c)+m*(g-2*e+c),t=d+2*i*(f-d)+m*(h-2*f+d),u=j*a+i*c,v=j*b+i*d,w=j*e+i*g,x=j*f+i*h,y=90-180*L.atan2(q-s,r-t)/Q;return(q>s||t>r)&&(y+=180),{x:o,y:p,m:{x:q,y:r},n:{x:s,y:t},start:{x:u,y:v},end:{x:w,y:x},alpha:y}},r.bezierBBox=function(a,b,c,d,e,f,g,h){r.is(a,"array")||(a=[a,b,c,d,e,f,g,h]);var i=Ha.apply(null,a);return{x:i.min.x,y:i.min.y,x2:i.max.x,y2:i.max.y,width:i.max.x-i.min.x,height:i.max.y-i.min.y}},r.isPointInsideBBox=function(a,b,c){return b>=a.x&&b<=a.x2&&c>=a.y&&c<=a.y2},r.isBBoxIntersect=function(a,b){var c=r.isPointInsideBBox;return c(b,a.x,a.y)||c(b,a.x2,a.y)||c(b,a.x,a.y2)||c(b,a.x2,a.y2)||c(a,b.x,b.y)||c(a,b.x2,b.y)||c(a,b.x,b.y2)||c(a,b.x2,b.y2)||(a.x<b.x2&&a.x>b.x||b.x<a.x2&&b.x>a.x)&&(a.y<b.y2&&a.y>b.y||b.y<a.y2&&b.y>a.y)},r.pathIntersection=function(a,b){return g(a,b)},r.pathIntersectionNumber=function(a,b){return g(a,b,1)},r.isPointInsidePath=function(a,b,c){var d=r.pathBBox(a);return r.isPointInsideBBox(d,b,c)&&g(a,[["M",b,c],["H",d.x2+10]],1)%2==1},r._removedFactory=function(a){return function(){eve("raphael.log",null,"Raphaël: you are calling to method “"+a+"” of removed object",a)}};var za=r.pathBBox=function(a){var b=ya(a);if(b.bbox)return b.bbox;if(!a)return{x:0,y:0,width:0,height:0,x2:0,y2:0};a=Ia(a);for(var c,d=0,e=0,f=[],g=[],h=0,i=a.length;i>h;h++)if(c=a[h],"M"==c[0])d=c[1],e=c[2],f.push(d),g.push(e);else{var j=Ha(d,e,c[1],c[2],c[3],c[4],c[5],c[6]);f=f[C](j.min.x,j.max.x),g=g[C](j.min.y,j.max.y),d=c[5],e=c[6]}var k=N[B](0,f),l=N[B](0,g),m=M[B](0,f),n=M[B](0,g),o={x:k,y:l,x2:m,y2:n,width:m-k,height:n-l};return b.bbox=q(o),o},Aa=function(a){var b=q(a);return b.toString=r._path2string,b},Ba=r._pathToRelative=function(a){var b=ya(a);if(b.rel)return Aa(b.rel);r.is(a,T)&&r.is(a&&a[0],T)||(a=r.parsePathString(a));var c=[],d=0,e=0,f=0,g=0,h=0;"M"==a[0][0]&&(d=a[0][1],e=a[0][2],f=d,g=e,h++,c.push(["M",d,e]));for(var i=h,j=a.length;j>i;i++){var k=c[i]=[],l=a[i];if(l[0]!=K.call(l[0]))switch(k[0]=K.call(l[0]),k[0]){case"a":k[1]=l[1],k[2]=l[2],k[3]=l[3],k[4]=l[4],k[5]=l[5],k[6]=+(l[6]-d).toFixed(3),k[7]=+(l[7]-e).toFixed(3);break;case"v":k[1]=+(l[1]-e).toFixed(3);break;case"m":f=l[1],g=l[2];default:for(var m=1,n=l.length;n>m;m++)k[m]=+(l[m]-(m%2?d:e)).toFixed(3)}else{k=c[i]=[],"m"==l[0]&&(f=l[1]+d,g=l[2]+e);for(var o=0,p=l.length;p>o;o++)c[i][o]=l[o]}var q=c[i].length;switch(c[i][0]){case"z":d=f,e=g;break;case"h":d+=+c[i][q-1];break;case"v":e+=+c[i][q-1];break;default:d+=+c[i][q-2],e+=+c[i][q-1]}}return c.toString=r._path2string,b.rel=Aa(c),c},Ca=r._pathToAbsolute=function(a){var b=ya(a);if(b.abs)return Aa(b.abs);if(r.is(a,T)&&r.is(a&&a[0],T)||(a=r.parsePathString(a)),!a||!a.length)return[["M",0,0]];var c=[],d=0,e=0,f=0,g=0,h=0;"M"==a[0][0]&&(d=+a[0][1],e=+a[0][2],f=d,g=e,h++,c[0]=["M",d,e]);for(var i,j,k=3==a.length&&"M"==a[0][0]&&"R"==a[1][0].toUpperCase()&&"Z"==a[2][0].toUpperCase(),l=h,n=a.length;n>l;l++){if(c.push(i=[]),j=a[l],j[0]!=_.call(j[0]))switch(i[0]=_.call(j[0]),i[0]){case"A":i[1]=j[1],i[2]=j[2],i[3]=j[3],i[4]=j[4],i[5]=j[5],i[6]=+(j[6]+d),i[7]=+(j[7]+e);break;case"V":i[1]=+j[1]+e;break;case"H":i[1]=+j[1]+d;break;case"R":for(var o=[d,e][C](j.slice(1)),p=2,q=o.length;q>p;p++)o[p]=+o[p]+d,o[++p]=+o[p]+e;c.pop(),c=c[C](m(o,k));break;case"M":f=+j[1]+d,g=+j[2]+e;default:for(p=1,q=j.length;q>p;p++)i[p]=+j[p]+(p%2?d:e)}else if("R"==j[0])o=[d,e][C](j.slice(1)),c.pop(),c=c[C](m(o,k)),i=["R"][C](j.slice(-2));else for(var s=0,t=j.length;t>s;s++)i[s]=j[s];switch(i[0]){case"Z":d=f,e=g;break;case"H":d=i[1];break;case"V":e=i[1];break;case"M":f=i[i.length-2],g=i[i.length-1];default:d=i[i.length-2],e=i[i.length-1]}}return c.toString=r._path2string,b.abs=Aa(c),c},Da=function(a,b,c,d){return[a,b,c,d,c,d]},Ea=function(a,b,c,d,e,f){var g=1/3,h=2/3;return[g*a+h*c,g*b+h*d,g*e+h*c,g*f+h*d,e,f]},Fa=function(a,b,c,d,e,f,g,h,i,j){var k,l=120*Q/180,m=Q/180*(+e||0),n=[],p=o(function(a,b,c){var d=a*L.cos(c)-b*L.sin(c),e=a*L.sin(c)+b*L.cos(c);return{x:d,y:e}});if(j)y=j[0],z=j[1],w=j[2],x=j[3];else{k=p(a,b,-m),a=k.x,b=k.y,k=p(h,i,-m),h=k.x,i=k.y;var q=(L.cos(Q/180*e),L.sin(Q/180*e),(a-h)/2),r=(b-i)/2,s=q*q/(c*c)+r*r/(d*d);s>1&&(s=L.sqrt(s),c=s*c,d=s*d);var t=c*c,u=d*d,v=(f==g?-1:1)*L.sqrt(O((t*u-t*r*r-u*q*q)/(t*r*r+u*q*q))),w=v*c*r/d+(a+h)/2,x=v*-d*q/c+(b+i)/2,y=L.asin(((b-x)/d).toFixed(9)),z=L.asin(((i-x)/d).toFixed(9));y=w>a?Q-y:y,z=w>h?Q-z:z,0>y&&(y=2*Q+y),0>z&&(z=2*Q+z),g&&y>z&&(y-=2*Q),!g&&z>y&&(z-=2*Q)}var A=z-y;if(O(A)>l){var B=z,D=h,E=i;z=y+l*(g&&z>y?1:-1),h=w+c*L.cos(z),i=x+d*L.sin(z),n=Fa(h,i,c,d,e,0,g,D,E,[z,B,w,x])}A=z-y;var F=L.cos(y),G=L.sin(y),I=L.cos(z),J=L.sin(z),K=L.tan(A/4),M=4/3*c*K,N=4/3*d*K,P=[a,b],R=[a+M*G,b-N*F],S=[h+M*J,i-N*I],T=[h,i];if(R[0]=2*P[0]-R[0],R[1]=2*P[1]-R[1],j)return[R,S,T][C](n);n=[R,S,T][C](n).join()[H](",");for(var U=[],V=0,W=n.length;W>V;V++)U[V]=V%2?p(n[V-1],n[V],m).y:p(n[V],n[V+1],m).x;return U},Ga=function(a,b,c,d,e,f,g,h,i){var j=1-i;return{x:P(j,3)*a+3*P(j,2)*i*c+3*j*i*i*e+P(i,3)*g,y:P(j,3)*b+3*P(j,2)*i*d+3*j*i*i*f+P(i,3)*h}},Ha=o(function(a,b,c,d,e,f,g,h){var i,j=e-2*c+a-(g-2*e+c),k=2*(c-a)-2*(e-c),l=a-c,m=(-k+L.sqrt(k*k-4*j*l))/2/j,n=(-k-L.sqrt(k*k-4*j*l))/2/j,o=[b,h],p=[a,g];return O(m)>"1e12"&&(m=.5),O(n)>"1e12"&&(n=.5),m>0&&1>m&&(i=Ga(a,b,c,d,e,f,g,h,m),p.push(i.x),o.push(i.y)),n>0&&1>n&&(i=Ga(a,b,c,d,e,f,g,h,n),p.push(i.x),o.push(i.y)),j=f-2*d+b-(h-2*f+d),k=2*(d-b)-2*(f-d),l=b-d,m=(-k+L.sqrt(k*k-4*j*l))/2/j,n=(-k-L.sqrt(k*k-4*j*l))/2/j,O(m)>"1e12"&&(m=.5),O(n)>"1e12"&&(n=.5),m>0&&1>m&&(i=Ga(a,b,c,d,e,f,g,h,m),p.push(i.x),o.push(i.y)),n>0&&1>n&&(i=Ga(a,b,c,d,e,f,g,h,n),p.push(i.x),o.push(i.y)),{min:{x:N[B](0,p),y:N[B](0,o)},max:{x:M[B](0,p),y:M[B](0,o)}}}),Ia=r._path2curve=o(function(a,b){var c=!b&&ya(a);if(!b&&c.curve)return Aa(c.curve);for(var d=Ca(a),e=b&&Ca(b),f={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},g={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},h=(function(a,b){var c,d;if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];switch(!(a[0]in{T:1,Q:1})&&(b.qx=b.qy=null),a[0]){case"M":b.X=a[1],b.Y=a[2];break;case"A":a=["C"][C](Fa[B](0,[b.x,b.y][C](a.slice(1))));break;case"S":c=b.x+(b.x-(b.bx||b.x)),d=b.y+(b.y-(b.by||b.y)),a=["C",c,d][C](a.slice(1));break;case"T":b.qx=b.x+(b.x-(b.qx||b.x)),b.qy=b.y+(b.y-(b.qy||b.y)),a=["C"][C](Ea(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case"Q":b.qx=a[1],b.qy=a[2],a=["C"][C](Ea(b.x,b.y,a[1],a[2],a[3],a[4]));break;case"L":a=["C"][C](Da(b.x,b.y,a[1],a[2]));break;case"H":a=["C"][C](Da(b.x,b.y,a[1],b.y));break;case"V":a=["C"][C](Da(b.x,b.y,b.x,a[1]));break;case"Z":a=["C"][C](Da(b.x,b.y,b.X,b.Y))}return a}),i=function(a,b){if(a[b].length>7){a[b].shift();for(var c=a[b];c.length;)a.splice(b++,0,["C"][C](c.splice(0,6)));a.splice(b,1),l=M(d.length,e&&e.length||0)}},j=function(a,b,c,f,g){a&&b&&"M"==a[g][0]&&"M"!=b[g][0]&&(b.splice(g,0,["M",f.x,f.y]),c.bx=0,c.by=0,c.x=a[g][1],c.y=a[g][2],l=M(d.length,e&&e.length||0))},k=0,l=M(d.length,e&&e.length||0);l>k;k++){d[k]=h(d[k],f),i(d,k),e&&(e[k]=h(e[k],g)),e&&i(e,k),j(d,e,f,g,k),j(e,d,g,f,k);var m=d[k],n=e&&e[k],o=m.length,p=e&&n.length;f.x=m[o-2],f.y=m[o-1],f.bx=Z(m[o-4])||f.x,f.by=Z(m[o-3])||f.y,g.bx=e&&(Z(n[p-4])||g.x),g.by=e&&(Z(n[p-3])||g.y),g.x=e&&n[p-2],g.y=e&&n[p-1]}return e||(c.curve=Aa(d)),e?[d,e]:d},null,Aa),Ja=(r._parseDots=o(function(a){for(var b=[],c=0,d=a.length;d>c;c++){var e={},f=a[c].match(/^([^:]*):?([\d\.]*)/);if(e.color=r.getRGB(f[1]),e.color.error)return null;e.color=e.color.hex,f[2]&&(e.offset=f[2]+"%"),b.push(e)}for(c=1,d=b.length-1;d>c;c++)if(!b[c].offset){for(var g=Z(b[c-1].offset||0),h=0,i=c+1;d>i;i++)if(b[i].offset){h=b[i].offset;break}h||(h=100,i=d),h=Z(h);for(var j=(h-g)/(i-c+1);i>c;c++)g+=j,b[c].offset=g+"%"}return b}),r._tear=function(a,b){a==b.top&&(b.top=a.prev),a==b.bottom&&(b.bottom=a.next),a.next&&(a.next.prev=a.prev),a.prev&&(a.prev.next=a.next)}),Ka=(r._tofront=function(a,b){b.top!==a&&(Ja(a,b),a.next=null,a.prev=b.top,b.top.next=a,b.top=a)},r._toback=function(a,b){b.bottom!==a&&(Ja(a,b),a.next=b.bottom,a.prev=null,b.bottom.prev=a,b.bottom=a)},r._insertafter=function(a,b,c){Ja(a,c),b==c.top&&(c.top=a),b.next&&(b.next.prev=a),a.next=b.next,a.prev=b,b.next=a},r._insertbefore=function(a,b,c){Ja(a,c),b==c.bottom&&(c.bottom=a),b.prev&&(b.prev.next=a),a.prev=b.prev,b.prev=a,a.next=b},r.toMatrix=function(a,b){var c=za(a),d={_:{transform:E},getBBox:function(){return c}};return La(d,b),d.matrix}),La=(r.transformPath=function(a,b){return pa(a,Ka(a,b))},r._extractTransform=function(a,b){if(null==b)return a._.transform;b=G(b).replace(/\.{3}|\u2026/g,a._.transform||E);var c=r.parseTransformString(b),d=0,e=0,g=0,h=1,i=1,j=a._,k=new f;if(j.transform=c||[],c)for(var l=0,m=c.length;m>l;l++){var n,o,p,q,s,t=c[l],u=t.length,v=G(t[0]).toLowerCase(),w=t[0]!=v,x=w?k.invert():0;"t"==v&&3==u?w?(n=x.x(0,0),o=x.y(0,0),p=x.x(t[1],t[2]),q=x.y(t[1],t[2]),k.translate(p-n,q-o)):k.translate(t[1],t[2]):"r"==v?2==u?(s=s||a.getBBox(1),k.rotate(t[1],s.x+s.width/2,s.y+s.height/2),d+=t[1]):4==u&&(w?(p=x.x(t[2],t[3]),q=x.y(t[2],t[3]),k.rotate(t[1],p,q)):k.rotate(t[1],t[2],t[3]),d+=t[1]):"s"==v?2==u||3==u?(s=s||a.getBBox(1),k.scale(t[1],t[u-1],s.x+s.width/2,s.y+s.height/2),h*=t[1],i*=t[u-1]):5==u&&(w?(p=x.x(t[3],t[4]),q=x.y(t[3],t[4]),k.scale(t[1],t[2],p,q)):k.scale(t[1],t[2],t[3],t[4]),h*=t[1],i*=t[2]):"m"==v&&7==u&&k.add(t[1],t[2],t[3],t[4],t[5],t[6]),j.dirtyT=1,a.matrix=k}a.matrix=k,j.sx=h,j.sy=i,j.deg=d,j.dx=e=k.e,j.dy=g=k.f,1==h&&1==i&&!d&&j.bbox?(j.bbox.x+=+e,j.bbox.y+=+g):j.dirtyT=1}),Ma=function(a){var b=a[0];switch(b.toLowerCase()){case"t":return[b,0,0];case"m":return[b,1,0,0,1,0,0];case"r":return 4==a.length?[b,0,a[2],a[3]]:[b,0];case"s":return 5==a.length?[b,1,1,a[3],a[4]]:3==a.length?[b,1,1]:[b,1]}},Na=r._equaliseTransform=function(a,b){b=G(b).replace(/\.{3}|\u2026/g,a),a=r.parseTransformString(a)||[],b=r.parseTransformString(b)||[];for(var c,d,e,f,g=M(a.length,b.length),h=[],i=[],j=0;g>j;j++){if(e=a[j]||Ma(b[j]),f=b[j]||Ma(e),e[0]!=f[0]||"r"==e[0].toLowerCase()&&(e[2]!=f[2]||e[3]!=f[3])||"s"==e[0].toLowerCase()&&(e[3]!=f[3]||e[4]!=f[4]))return;for(h[j]=[],i[j]=[],c=0,d=M(e.length,f.length);d>c;c++)c in e&&(h[j][c]=e[c]),c in f&&(i[j][c]=f[c])}return{from:h,to:i}};r._getContainer=function(a,b,c,d){var e;return e=null!=d||r.is(a,"object")?a:y.doc.getElementById(a),null!=e?e.tagName?null==b?{container:e,width:e.style.pixelWidth||e.offsetWidth,height:e.style.pixelHeight||e.offsetHeight}:{container:e,width:b,height:c}:{container:1,x:a,y:b,width:c,height:d}:void 0},r.pathToRelative=Ba,r._engine={},r.path2curve=Ia,r.matrix=function(a,b,c,d,e,g){return new f(a,b,c,d,e,g)},function(a){function b(a){var b=L.sqrt(c(a));a[0]&&(a[0]/=b),a[1]&&(a[1]/=b)}function c(a){return a[0]*a[0]+a[1]*a[1]}a.add=function(a,b,c,d,e,g){var h,i,j,k,l=[[],[],[]],m=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],n=[[a,c,e],[b,d,g],[0,0,1]];for(a&&a instanceof f&&(n=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]),h=0;3>h;h++)for(i=0;3>i;i++){for(k=0,j=0;3>j;j++)k+=m[h][j]*n[j][i];l[h][i]=k}this.a=l[0][0],this.b=l[1][0],this.c=l[0][1],this.d=l[1][1],this.e=l[0][2],this.f=l[1][2]},a.invert=function(){var a=this,b=a.a*a.d-a.b*a.c;return new f(a.d/b,-a.b/b,-a.c/b,a.a/b,(a.c*a.f-a.d*a.e)/b,(a.b*a.e-a.a*a.f)/b)},a.clone=function(){return new f(this.a,this.b,this.c,this.d,this.e,this.f)},a.translate=function(a,b){this.add(1,0,0,1,a,b)},a.scale=function(a,b,c,d){null==b&&(b=a),(c||d)&&this.add(1,0,0,1,c,d),this.add(a,0,0,b,0,0),(c||d)&&this.add(1,0,0,1,-c,-d)},a.rotate=function(a,b,c){a=r.rad(a),b=b||0,c=c||0;var d=+L.cos(a).toFixed(9),e=+L.sin(a).toFixed(9);this.add(d,e,-e,d,b,c),this.add(1,0,0,1,-b,-c)},a.x=function(a,b){return a*this.a+b*this.c+this.e},a.y=function(a,b){return a*this.b+b*this.d+this.f},a.get=function(a){return+this[G.fromCharCode(97+a)].toFixed(4)},a.toString=function(){return r.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},a.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},a.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},a.split=function(){var a={};a.dx=this.e,a.dy=this.f;var d=[[this.a,this.c],[this.b,this.d]];a.scalex=L.sqrt(c(d[0])),b(d[0]),a.shear=d[0][0]*d[1][0]+d[0][1]*d[1][1],d[1]=[d[1][0]-d[0][0]*a.shear,d[1][1]-d[0][1]*a.shear],a.scaley=L.sqrt(c(d[1])),b(d[1]),a.shear/=a.scaley;var e=-d[0][1],f=d[1][1];return 0>f?(a.rotate=r.deg(L.acos(f)),0>e&&(a.rotate=360-a.rotate)):a.rotate=r.deg(L.asin(e)),a.isSimple=!(+a.shear.toFixed(9)||a.scalex.toFixed(9)!=a.scaley.toFixed(9)&&a.rotate),a.isSuperSimple=!+a.shear.toFixed(9)&&a.scalex.toFixed(9)==a.scaley.toFixed(9)&&!a.rotate,a.noRotation=!+a.shear.toFixed(9)&&!a.rotate,a},a.toTransformString=function(a){var b=a||this[H]();return b.isSimple?(b.scalex=+b.scalex.toFixed(4),b.scaley=+b.scaley.toFixed(4),b.rotate=+b.rotate.toFixed(4),(b.dx||b.dy?"t"+[b.dx,b.dy]:E)+(1!=b.scalex||1!=b.scaley?"s"+[b.scalex,b.scaley,0,0]:E)+(b.rotate?"r"+[b.rotate,0,0]:E)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(f.prototype);var Oa=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);"Apple Computer, Inc."==navigator.vendor&&(Oa&&Oa[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&Oa&&Oa[1]<8?t.safari=function(){var a=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){a.remove()})}:t.safari=ka;for(var Pa=function(){this.returnValue=!1},Qa=function(){return this.originalEvent.preventDefault()},Ra=function(){this.cancelBubble=!0},Sa=function(){return this.originalEvent.stopPropagation()},Ta=function(){return y.doc.addEventListener?function(a,b,c,d){var e=D&&J[b]?J[b]:b,f=function(e){var f=y.doc.documentElement.scrollTop||y.doc.body.scrollTop,g=y.doc.documentElement.scrollLeft||y.doc.body.scrollLeft,h=e.clientX+g,i=e.clientY+f;if(D&&J[x](b))for(var j=0,k=e.targetTouches&&e.targetTouches.length;k>j;j++)if(e.targetTouches[j].target==a){var l=e;e=e.targetTouches[j],e.originalEvent=l,e.preventDefault=Qa,e.stopPropagation=Sa;break}return c.call(d,e,h,i)};return a.addEventListener(e,f,!1),function(){return a.removeEventListener(e,f,!1),!0}}:y.doc.attachEvent?function(a,b,c,d){var e=function(a){a=a||y.win.event;var b=y.doc.documentElement.scrollTop||y.doc.body.scrollTop,e=y.doc.documentElement.scrollLeft||y.doc.body.scrollLeft,f=a.clientX+e,g=a.clientY+b;return a.preventDefault=a.preventDefault||Pa,a.stopPropagation=a.stopPropagation||Ra,c.call(d,a,f,g)};a.attachEvent("on"+b,e);var f=function(){return a.detachEvent("on"+b,e),!0};return f}:void 0}(),Ua=[],Va=function(a){for(var b,c=a.clientX,d=a.clientY,e=y.doc.documentElement.scrollTop||y.doc.body.scrollTop,f=y.doc.documentElement.scrollLeft||y.doc.body.scrollLeft,g=Ua.length;g--;){if(b=Ua[g],D){for(var h,i=a.touches.length;i--;)if(h=a.touches[i],h.identifier==b.el._drag.id){c=h.clientX,d=h.clientY,(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();var j,k=b.el.node,l=k.nextSibling,m=k.parentNode,n=k.style.display;y.win.opera&&m.removeChild(k),k.style.display="none",j=b.el.paper.getElementByPoint(c,d),k.style.display=n,y.win.opera&&(l?m.insertBefore(k,l):m.appendChild(k)),j&&eve("raphael.drag.over."+b.el.id,b.el,j),c+=f,d+=e,eve("raphael.drag.move."+b.el.id,b.move_scope||b.el,c-b.el._drag.x,d-b.el._drag.y,c,d,a);
}},Wa=function(a){r.unmousemove(Va).unmouseup(Wa);for(var b,c=Ua.length;c--;)b=Ua[c],b.el._drag={},eve("raphael.drag.end."+b.el.id,b.end_scope||b.start_scope||b.move_scope||b.el,a);Ua=[]},Xa=r.el={},Ya=I.length;Ya--;)(function(a){r[a]=Xa[a]=function(b,c){return r.is(b,"function")&&(this.events=this.events||[],this.events.push({name:a,f:b,unbind:Ta(this.shape||this.node||y.doc,a,b,c||this)})),this},r["un"+a]=Xa["un"+a]=function(b){for(var c=this.events||[],d=c.length;d--;)if(c[d].name==a&&c[d].f==b)return c[d].unbind(),c.splice(d,1),!c.length&&delete this.events,this;return this}})(I[Ya]);Xa.data=function(a,b){var c=ia[this.id]=ia[this.id]||{};if(1==arguments.length){if(r.is(a,"object")){for(var d in a)a[x](d)&&this.data(d,a[d]);return this}return eve("raphael.data.get."+this.id,this,c[a],a),c[a]}return c[a]=b,eve("raphael.data.set."+this.id,this,b,a),this},Xa.removeData=function(a){return null==a?ia[this.id]={}:ia[this.id]&&delete ia[this.id][a],this},Xa.hover=function(a,b,c,d){return this.mouseover(a,c).mouseout(b,d||c)},Xa.unhover=function(a,b){return this.unmouseover(a).unmouseout(b)};var Za=[];Xa.drag=function(a,b,c,d,e,f){function g(g){(g.originalEvent||g).preventDefault();var h=y.doc.documentElement.scrollTop||y.doc.body.scrollTop,i=y.doc.documentElement.scrollLeft||y.doc.body.scrollLeft;this._drag.x=g.clientX+i,this._drag.y=g.clientY+h,this._drag.id=g.identifier,!Ua.length&&r.mousemove(Va).mouseup(Wa),Ua.push({el:this,move_scope:d,start_scope:e,end_scope:f}),b&&eve.on("raphael.drag.start."+this.id,b),a&&eve.on("raphael.drag.move."+this.id,a),c&&eve.on("raphael.drag.end."+this.id,c),eve("raphael.drag.start."+this.id,e||d||this,g.clientX+i,g.clientY+h,g)}return this._drag={},Za.push({el:this,start:g}),this.mousedown(g),this},Xa.onDragOver=function(a){a?eve.on("raphael.drag.over."+this.id,a):eve.unbind("raphael.drag.over."+this.id)},Xa.undrag=function(){for(var a=Za.length;a--;)Za[a].el==this&&(this.unmousedown(Za[a].start),Za.splice(a,1),eve.unbind("raphael.drag.*."+this.id));!Za.length&&r.unmousemove(Va).unmouseup(Wa)},t.circle=function(a,b,c){var d=r._engine.circle(this,a||0,b||0,c||0);return this.__set__&&this.__set__.push(d),d},t.rect=function(a,b,c,d,e){var f=r._engine.rect(this,a||0,b||0,c||0,d||0,e||0);return this.__set__&&this.__set__.push(f),f},t.ellipse=function(a,b,c,d){var e=r._engine.ellipse(this,a||0,b||0,c||0,d||0);return this.__set__&&this.__set__.push(e),e},t.path=function(a){a&&!r.is(a,S)&&!r.is(a[0],T)&&(a+=E);var b=r._engine.path(r.format[B](r,arguments),this);return this.__set__&&this.__set__.push(b),b},t.image=function(a,b,c,d,e){var f=r._engine.image(this,a||"about:blank",b||0,c||0,d||0,e||0);return this.__set__&&this.__set__.push(f),f},t.text=function(a,b,c){var d=r._engine.text(this,a||0,b||0,G(c));return this.__set__&&this.__set__.push(d),d},t.set=function(a){!r.is(a,"array")&&(a=Array.prototype.splice.call(arguments,0,arguments.length));var b=new jb(a);return this.__set__&&this.__set__.push(b),b},t.setStart=function(a){this.__set__=a||this.set()},t.setFinish=function(a){var b=this.__set__;return delete this.__set__,b},t.setSize=function(a,b){return r._engine.setSize.call(this,a,b)},t.setViewBox=function(a,b,c,d,e){return r._engine.setViewBox.call(this,a,b,c,d,e)},t.top=t.bottom=null,t.raphael=r;var $a=function(a){var b=a.getBoundingClientRect(),c=a.ownerDocument,d=c.body,e=c.documentElement,f=e.clientTop||d.clientTop||0,g=e.clientLeft||d.clientLeft||0,h=b.top+(y.win.pageYOffset||e.scrollTop||d.scrollTop)-f,i=b.left+(y.win.pageXOffset||e.scrollLeft||d.scrollLeft)-g;return{y:h,x:i}};t.getElementByPoint=function(a,b){var c=this,d=c.canvas,e=y.doc.elementFromPoint(a,b);if(y.win.opera&&"svg"==e.tagName){var f=$a(d),g=d.createSVGRect();g.x=a-f.x,g.y=b-f.y,g.width=g.height=1;var h=d.getIntersectionList(g,null);h.length&&(e=h[h.length-1])}if(!e)return null;for(;e.parentNode&&e!=d.parentNode&&!e.raphael;)e=e.parentNode;return e==c.canvas.parentNode&&(e=d),e=e&&e.raphael?c.getById(e.raphaelid):null},t.getById=function(a){for(var b=this.bottom;b;){if(b.id==a)return b;b=b.next}return null},t.forEach=function(a,b){for(var c=this.bottom;c;){if(a.call(b,c)===!1)return this;c=c.next}return this},t.getElementsByPoint=function(a,b){var c=this.set();return this.forEach(function(d){d.isPointInside(a,b)&&c.push(d)}),c},Xa.isPointInside=function(a,b){var c=this.realPath=this.realPath||oa[this.type](this);return r.isPointInsidePath(c,a,b)},Xa.getBBox=function(a){if(this.removed)return{};var b=this._;return a?((b.dirty||!b.bboxwt)&&(this.realPath=oa[this.type](this),b.bboxwt=za(this.realPath),b.bboxwt.toString=e,b.dirty=0),b.bboxwt):((b.dirty||b.dirtyT||!b.bbox)&&((b.dirty||!this.realPath)&&(b.bboxwt=0,this.realPath=oa[this.type](this)),b.bbox=za(pa(this.realPath,this.matrix)),b.bbox.toString=e,b.dirty=b.dirtyT=0),b.bbox)},Xa.clone=function(){if(this.removed)return null;var a=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(a),a},Xa.glow=function(a){if("text"==this.type)return null;a=a||{};var b={width:(a.width||10)+(+this.attr("stroke-width")||1),fill:a.fill||!1,opacity:a.opacity||.5,offsetx:a.offsetx||0,offsety:a.offsety||0,color:a.color||"#000"},c=b.width/2,d=this.paper,e=d.set(),f=this.realPath||oa[this.type](this);f=this.matrix?pa(f,this.matrix):f;for(var g=1;c+1>g;g++)e.push(d.path(f).attr({stroke:b.color,fill:b.fill?b.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(b.width/c*g).toFixed(3),opacity:+(b.opacity/c).toFixed(3)}));return e.insertBefore(this).translate(b.offsetx,b.offsety)};var _a=function(a,b,c,d,e,f,g,h,i){return null==i?k(a,b,c,d,e,f,g,h):r.findDotsAtSegment(a,b,c,d,e,f,g,h,j(a,b,c,d,e,f,g,h,i))},ab=function(a,b){return function(c,d,e){c=Ia(c);for(var f,g,h,i,j,k="",l={},m=0,n=0,o=c.length;o>n;n++){if(h=c[n],"M"==h[0])f=+h[1],g=+h[2];else{if(i=_a(f,g,h[1],h[2],h[3],h[4],h[5],h[6]),m+i>d){if(b&&!l.start){if(j=_a(f,g,h[1],h[2],h[3],h[4],h[5],h[6],d-m),k+=["C"+j.start.x,j.start.y,j.m.x,j.m.y,j.x,j.y],e)return k;l.start=k,k=["M"+j.x,j.y+"C"+j.n.x,j.n.y,j.end.x,j.end.y,h[5],h[6]].join(),m+=i,f=+h[5],g=+h[6];continue}if(!a&&!b)return j=_a(f,g,h[1],h[2],h[3],h[4],h[5],h[6],d-m),{x:j.x,y:j.y,alpha:j.alpha}}m+=i,f=+h[5],g=+h[6]}k+=h.shift()+h}return l.end=k,j=a?m:b?l:r.findDotsAtSegment(f,g,h[0],h[1],h[2],h[3],h[4],h[5],1),j.alpha&&(j={x:j.x,y:j.y,alpha:j.alpha}),j}},bb=ab(1),cb=ab(),db=ab(0,1);r.getTotalLength=bb,r.getPointAtLength=cb,r.getSubpath=function(a,b,c){if(this.getTotalLength(a)-c<1e-6)return db(a,b).end;var d=db(a,c,1);return b?db(d,b).end:d},Xa.getTotalLength=function(){return"path"==this.type?this.node.getTotalLength?this.node.getTotalLength():bb(this.attrs.path):void 0},Xa.getPointAtLength=function(a){return"path"==this.type?cb(this.attrs.path,a):void 0},Xa.getSubpath=function(a,b){return"path"==this.type?r.getSubpath(this.attrs.path,a,b):void 0};var eb=r.easing_formulas={linear:function(a){return a},"<":function(a){return P(a,1.7)},">":function(a){return P(a,.48)},"<>":function(a){var b=.48-a/1.04,c=L.sqrt(.1734+b*b),d=c-b,e=P(O(d),1/3)*(0>d?-1:1),f=-c-b,g=P(O(f),1/3)*(0>f?-1:1),h=e+g+.5;return 3*(1-h)*h*h+h*h*h},backIn:function(a){var b=1.70158;return a*a*((b+1)*a-b)},backOut:function(a){a-=1;var b=1.70158;return a*a*((b+1)*a+b)+1},elastic:function(a){return a==!!a?a:P(2,-10*a)*L.sin(2*(a-.075)*Q/.3)+1},bounce:function(a){var b,c=7.5625,d=2.75;return 1/d>a?b=c*a*a:2/d>a?(a-=1.5/d,b=c*a*a+.75):2.5/d>a?(a-=2.25/d,b=c*a*a+.9375):(a-=2.625/d,b=c*a*a+.984375),b}};eb.easeIn=eb["ease-in"]=eb["<"],eb.easeOut=eb["ease-out"]=eb[">"],eb.easeInOut=eb["ease-in-out"]=eb["<>"],eb["back-in"]=eb.backIn,eb["back-out"]=eb.backOut;var fb=[],gb=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,16)},hb=function(){for(var a=+new Date,c=0;c<fb.length;c++){var d=fb[c];if(!d.el.removed&&!d.paused){var e,f,g=a-d.start,h=d.ms,i=d.easing,j=d.from,k=d.diff,l=d.to,m=(d.t,d.el),n={},o={};if(d.initstatus?(g=(d.initstatus*d.anim.top-d.prev)/(d.percent-d.prev)*h,d.status=d.initstatus,delete d.initstatus,d.stop&&fb.splice(c--,1)):d.status=(d.prev+(d.percent-d.prev)*(g/h))/d.anim.top,!(0>g))if(h>g){var p=i(g/h);for(var q in j)if(j[x](q)){switch(ba[q]){case R:e=+j[q]+p*h*k[q];break;case"colour":e="rgb("+[ib(Y(j[q].r+p*h*k[q].r)),ib(Y(j[q].g+p*h*k[q].g)),ib(Y(j[q].b+p*h*k[q].b))].join(",")+")";break;case"path":e=[];for(var s=0,t=j[q].length;t>s;s++){e[s]=[j[q][s][0]];for(var u=1,v=j[q][s].length;v>u;u++)e[s][u]=+j[q][s][u]+p*h*k[q][s][u];e[s]=e[s].join(F)}e=e.join(F);break;case"transform":if(k[q].real)for(e=[],s=0,t=j[q].length;t>s;s++)for(e[s]=[j[q][s][0]],u=1,v=j[q][s].length;v>u;u++)e[s][u]=j[q][s][u]+p*h*k[q][s][u];else{var w=function(a){return+j[q][a]+p*h*k[q][a]};e=[["m",w(0),w(1),w(2),w(3),w(4),w(5)]]}break;case"csv":if("clip-rect"==q)for(e=[],s=4;s--;)e[s]=+j[q][s]+p*h*k[q][s];break;default:var y=[][C](j[q]);for(e=[],s=m.paper.customAttributes[q].length;s--;)e[s]=+y[s]+p*h*k[q][s]}n[q]=e}m.attr(n),function(a,b,c){setTimeout(function(){eve("raphael.anim.frame."+a,b,c)})}(m.id,m,d.anim)}else{if(function(a,b,c){setTimeout(function(){eve("raphael.anim.frame."+b.id,b,c),eve("raphael.anim.finish."+b.id,b,c),r.is(a,"function")&&a.call(b)})}(d.callback,m,d.anim),m.attr(l),fb.splice(c--,1),d.repeat>1&&!d.next){for(f in l)l[x](f)&&(o[f]=d.totalOrigin[f]);d.el.attr(o),b(d.anim,d.el,d.anim.percents[0],null,d.totalOrigin,d.repeat-1)}d.next&&!d.stop&&b(d.anim,d.el,d.next,null,d.totalOrigin,d.repeat)}}}r.svg&&m&&m.paper&&m.paper.safari(),fb.length&&gb(hb)},ib=function(a){return a>255?255:0>a?0:a};Xa.animateWith=function(a,d,e,f,g,h){var i=this;if(i.removed)return h&&h.call(i),i;var j=e instanceof c?e:r.animation(e,f,g,h);b(j,i,j.percents[0],null,i.attr());for(var k=0,l=fb.length;l>k;k++)if(fb[k].anim==d&&fb[k].el==a){fb[l-1].start=fb[k].start;break}return i},Xa.onAnimation=function(a){return a?eve.on("raphael.anim.frame."+this.id,a):eve.unbind("raphael.anim.frame."+this.id),this},c.prototype.delay=function(a){var b=new c(this.anim,this.ms);return b.times=this.times,b.del=+a||0,b},c.prototype.repeat=function(a){var b=new c(this.anim,this.ms);return b.del=this.del,b.times=L.floor(M(a,0))||1,b},r.animation=function(a,b,d,e){if(a instanceof c)return a;(r.is(d,"function")||!d)&&(e=e||d||null,d=null),a=Object(a),b=+b||0;var f,g,h={};for(g in a)a[x](g)&&Z(g)!=g&&Z(g)+"%"!=g&&(f=!0,h[g]=a[g]);return f?(d&&(h.easing=d),e&&(h.callback=e),new c({100:h},b)):new c(a,b)},Xa.animate=function(a,d,e,f){var g=this;if(g.removed)return f&&f.call(g),g;var h=a instanceof c?a:r.animation(a,d,e,f);return b(h,g,h.percents[0],null,g.attr()),g},Xa.setTime=function(a,b){return a&&null!=b&&this.status(a,N(b,a.ms)/a.ms),this},Xa.status=function(a,c){var d,e,f=[],g=0;if(null!=c)return b(a,this,-1,N(c,1)),this;for(d=fb.length;d>g;g++)if(e=fb[g],e.el.id==this.id&&(!a||e.anim==a)){if(a)return e.status;f.push({anim:e.anim,status:e.status})}return a?0:f},Xa.pause=function(a){for(var b=0;b<fb.length;b++)fb[b].el.id==this.id&&(!a||fb[b].anim==a)&&eve("raphael.anim.pause."+this.id,this,fb[b].anim)!==!1&&(fb[b].paused=!0);return this},Xa.resume=function(a){for(var b=0;b<fb.length;b++)if(fb[b].el.id==this.id&&(!a||fb[b].anim==a)){var c=fb[b];eve("raphael.anim.resume."+this.id,this,c.anim)!==!1&&(delete c.paused,this.status(c.anim,c.status))}return this},Xa.stop=function(a){for(var b=0;b<fb.length;b++)fb[b].el.id==this.id&&(!a||fb[b].anim==a)&&eve("raphael.anim.stop."+this.id,this,fb[b].anim)!==!1&&fb.splice(b--,1);return this},eve.on("raphael.remove",a),eve.on("raphael.clear",a),Xa.toString=function(){return"Raphaël’s object"};var jb=function(a){if(this.items=[],this.length=0,this.type="set",a)for(var b=0,c=a.length;c>b;b++)a[b]&&(a[b].constructor==Xa.constructor||a[b].constructor==jb)&&(this[this.items.length]=this.items[this.items.length]=a[b],this.length++)},kb=jb.prototype;kb.push=function(){for(var a,b,c=0,d=arguments.length;d>c;c++)a=arguments[c],a&&(a.constructor==Xa.constructor||a.constructor==jb)&&(b=this.items.length,this[b]=this.items[b]=a,this.length++);return this},kb.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},kb.forEach=function(a,b){for(var c=0,d=this.items.length;d>c;c++)if(a.call(b,this.items[c],c)===!1)return this;return this};for(var lb in Xa)Xa[x](lb)&&(kb[lb]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a][B](c,b)})}}(lb));kb.attr=function(a,b){if(a&&r.is(a,T)&&r.is(a[0],"object"))for(var c=0,d=a.length;d>c;c++)this.items[c].attr(a[c]);else for(var e=0,f=this.items.length;f>e;e++)this.items[e].attr(a,b);return this},kb.clear=function(){for(;this.length;)this.pop()},kb.splice=function(a,b,c){a=0>a?M(this.length+a,0):a,b=M(0,N(this.length-a,b));var d,e=[],f=[],g=[];for(d=2;d<arguments.length;d++)g.push(arguments[d]);for(d=0;b>d;d++)f.push(this[a+d]);for(;d<this.length-a;d++)e.push(this[a+d]);var h=g.length;for(d=0;d<h+e.length;d++)this.items[a+d]=this[a+d]=h>d?g[d]:e[d-h];for(d=this.items.length=this.length-=b-h;this[d];)delete this[d++];return new jb(f)},kb.exclude=function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]==a)return this.splice(b,1),!0},kb.animate=function(a,b,c,d){(r.is(c,"function")||!c)&&(d=c||null);var e,f,g=this.items.length,h=g,i=this;if(!g)return this;d&&(f=function(){!--g&&d.call(i)}),c=r.is(c,S)?c:f;var j=r.animation(a,b,c,f);for(e=this.items[--h].animate(j);h--;)this.items[h]&&!this.items[h].removed&&this.items[h].animateWith(e,j,j);return this},kb.insertAfter=function(a){for(var b=this.items.length;b--;)this.items[b].insertAfter(a);return this},kb.getBBox=function(){for(var a=[],b=[],c=[],d=[],e=this.items.length;e--;)if(!this.items[e].removed){var f=this.items[e].getBBox();a.push(f.x),b.push(f.y),c.push(f.x+f.width),d.push(f.y+f.height)}return a=N[B](0,a),b=N[B](0,b),c=M[B](0,c),d=M[B](0,d),{x:a,y:b,x2:c,y2:d,width:c-a,height:d-b}},kb.clone=function(a){a=new jb;for(var b=0,c=this.items.length;c>b;b++)a.push(this.items[b].clone());return a},kb.toString=function(){return"Raphaël‘s set"},r.registerFont=function(a){if(!a.face)return a;this.fonts=this.fonts||{};var b={w:a.w,face:{},glyphs:{}},c=a.face["font-family"];for(var d in a.face)a.face[x](d)&&(b.face[d]=a.face[d]);if(this.fonts[c]?this.fonts[c].push(b):this.fonts[c]=[b],!a.svg){b.face["units-per-em"]=$(a.face["units-per-em"],10);for(var e in a.glyphs)if(a.glyphs[x](e)){var f=a.glyphs[e];if(b.glyphs[e]={w:f.w,k:{},d:f.d&&"M"+f.d.replace(/[mlcxtrv]/g,function(a){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[a]||"M"})+"z"},f.k)for(var g in f.k)f[x](g)&&(b.glyphs[e].k[g]=f.k[g])}}return a},t.getFont=function(a,b,c,d){if(d=d||"normal",c=c||"normal",b=+b||{normal:400,bold:700,lighter:300,bolder:800}[b]||400,r.fonts){var e=r.fonts[a];if(!e){var f=new RegExp("(^|\\s)"+a.replace(/[^\w\d\s+!~.:_-]/g,E)+"(\\s|$)","i");for(var g in r.fonts)if(r.fonts[x](g)&&f.test(g)){e=r.fonts[g];break}}var h;if(e)for(var i=0,j=e.length;j>i&&(h=e[i],h.face["font-weight"]!=b||h.face["font-style"]!=c&&h.face["font-style"]||h.face["font-stretch"]!=d);i++);return h}},t.print=function(a,b,c,d,e,f,g){f=f||"middle",g=M(N(g||0,1),-1);var h,i=G(c)[H](E),j=0,k=0,l=E;if(r.is(d,c)&&(d=this.getFont(d)),d){h=(e||16)/d.face["units-per-em"];for(var m=d.face.bbox[H](u),n=+m[0],o=m[3]-m[1],p=0,q=+m[1]+("baseline"==f?o+ +d.face.descent:o/2),s=0,t=i.length;t>s;s++){if("\n"==i[s])j=0,w=0,k=0,p+=o;else{var v=k&&d.glyphs[i[s-1]]||{},w=d.glyphs[i[s]];j+=k?(v.w||d.w)+(v.k&&v.k[i[s]]||0)+d.w*g:0,k=1}w&&w.d&&(l+=r.transformPath(w.d,["t",j*h,p*h,"s",h,h,n,q,"t",(a-n)/h,(b-q)/h]))}}return this.path(l).attr({fill:"#000",stroke:"none"})},t.add=function(a){if(r.is(a,"array"))for(var b,c=this.set(),d=0,e=a.length;e>d;d++)b=a[d]||{},v[x](b.type)&&c.push(this[b.type]().attr(b));return c},r.format=function(a,b){var c=r.is(b,T)?[0][C](b):arguments;return a&&r.is(a,S)&&c.length-1&&(a=a.replace(w,function(a,b){return null==c[++b]?E:c[b]})),a||E},r.fullfill=function(){var a=/\{([^\}]+)\}/g,b=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,c=function(a,c,d){var e=d;return c.replace(b,function(a,b,c,d,f){b=b||d,e&&(b in e&&(e=e[b]),"function"==typeof e&&f&&(e=e()))}),e=(null==e||e==d?a:e)+""};return function(b,d){return String(b).replace(a,function(a,b){return c(a,b,d)})}}(),r.ninja=function(){return z.was?y.win.Raphael=z.is:delete Raphael,r},r.st=kb,function(a,b,c){function d(){/in/.test(a.readyState)?setTimeout(d,9):r.eve("raphael.DOMload")}null==a.readyState&&a.addEventListener&&(a.addEventListener(b,c=function(){a.removeEventListener(b,c,!1),a.readyState="complete"},!1),a.readyState="loading"),d()}(document,"DOMContentLoaded"),z.was?y.win.Raphael=r:Raphael=r,eve.on("raphael.DOMload",function(){s=!0})}(),window.Raphael.svg&&function(a){var b="hasOwnProperty",c=String,d=parseFloat,e=parseInt,f=Math,g=f.max,h=f.abs,i=f.pow,j=/[, ]+/,k=a.eve,l="",m=" ",n="http://www.w3.org/1999/xlink",o={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},p={};a.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var q=function(d,e){if(e){"string"==typeof d&&(d=q(d));for(var f in e)e[b](f)&&("xlink:"==f.substring(0,6)?d.setAttributeNS(n,f.substring(6),c(e[f])):d.setAttribute(f,c(e[f])))}else d=a._g.doc.createElementNS("http://www.w3.org/2000/svg",d),d.style&&(d.style.webkitTapHighlightColor="rgba(0,0,0,0)");return d},r=function(b,e){var j="linear",k=b.id+e,m=.5,n=.5,o=b.node,p=b.paper,r=o.style,s=a._g.doc.getElementById(k);if(!s){if(e=c(e).replace(a._radial_gradient,function(a,b,c){if(j="radial",b&&c){m=d(b),n=d(c);var e=2*(n>.5)-1;i(m-.5,2)+i(n-.5,2)>.25&&(n=f.sqrt(.25-i(m-.5,2))*e+.5)&&.5!=n&&(n=n.toFixed(5)-1e-5*e)}return l}),e=e.split(/\s*\-\s*/),"linear"==j){var t=e.shift();if(t=-d(t),isNaN(t))return null;var u=[0,0,f.cos(a.rad(t)),f.sin(a.rad(t))],v=1/(g(h(u[2]),h(u[3]))||1);u[2]*=v,u[3]*=v,u[2]<0&&(u[0]=-u[2],u[2]=0),u[3]<0&&(u[1]=-u[3],u[3]=0)}var w=a._parseDots(e);if(!w)return null;if(k=k.replace(/[\(\)\s,\xb0#]/g,"_"),b.gradient&&k!=b.gradient.id&&(p.defs.removeChild(b.gradient),delete b.gradient),!b.gradient){s=q(j+"Gradient",{id:k}),b.gradient=s,q(s,"radial"==j?{fx:m,fy:n}:{x1:u[0],y1:u[1],x2:u[2],y2:u[3],gradientTransform:b.matrix.invert()}),p.defs.appendChild(s);for(var x=0,y=w.length;y>x;x++)s.appendChild(q("stop",{offset:w[x].offset?w[x].offset:x?"100%":"0%","stop-color":w[x].color||"#fff"}))}}return q(o,{fill:"url(#"+k+")",opacity:1,"fill-opacity":1}),r.fill=l,r.opacity=1,r.fillOpacity=1,1},s=function(a){var b=a.getBBox(1);q(a.pattern,{patternTransform:a.matrix.invert()+" translate("+b.x+","+b.y+")"})},t=function(d,e,f){if("path"==d.type){for(var g,h,i,j,k,m=c(e).toLowerCase().split("-"),n=d.paper,r=f?"end":"start",s=d.node,t=d.attrs,u=t["stroke-width"],v=m.length,w="classic",x=3,y=3,z=5;v--;)switch(m[v]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":w=m[v];break;case"wide":y=5;break;case"narrow":y=2;break;case"long":x=5;break;case"short":x=2}if("open"==w?(x+=2,y+=2,z+=2,i=1,j=f?4:1,k={fill:"none",stroke:t.stroke}):(j=i=x/2,k={fill:t.stroke,stroke:"none"}),d._.arrows?f?(d._.arrows.endPath&&p[d._.arrows.endPath]--,d._.arrows.endMarker&&p[d._.arrows.endMarker]--):(d._.arrows.startPath&&p[d._.arrows.startPath]--,d._.arrows.startMarker&&p[d._.arrows.startMarker]--):d._.arrows={},"none"!=w){var A="raphael-marker-"+w,B="raphael-marker-"+r+w+x+y;a._g.doc.getElementById(A)?p[A]++:(n.defs.appendChild(q(q("path"),{"stroke-linecap":"round",d:o[w],id:A})),p[A]=1);var C,D=a._g.doc.getElementById(B);D?(p[B]++,C=D.getElementsByTagName("use")[0]):(D=q(q("marker"),{id:B,markerHeight:y,markerWidth:x,orient:"auto",refX:j,refY:y/2}),C=q(q("use"),{"xlink:href":"#"+A,transform:(f?"rotate(180 "+x/2+" "+y/2+") ":l)+"scale("+x/z+","+y/z+")","stroke-width":(1/((x/z+y/z)/2)).toFixed(4)}),D.appendChild(C),n.defs.appendChild(D),p[B]=1),q(C,k);var E=i*("diamond"!=w&&"oval"!=w);f?(g=d._.arrows.startdx*u||0,h=a.getTotalLength(t.path)-E*u):(g=E*u,h=a.getTotalLength(t.path)-(d._.arrows.enddx*u||0)),k={},k["marker-"+r]="url(#"+B+")",(h||g)&&(k.d=Raphael.getSubpath(t.path,g,h)),q(s,k),d._.arrows[r+"Path"]=A,d._.arrows[r+"Marker"]=B,d._.arrows[r+"dx"]=E,d._.arrows[r+"Type"]=w,d._.arrows[r+"String"]=e}else f?(g=d._.arrows.startdx*u||0,h=a.getTotalLength(t.path)-g):(g=0,h=a.getTotalLength(t.path)-(d._.arrows.enddx*u||0)),d._.arrows[r+"Path"]&&q(s,{d:Raphael.getSubpath(t.path,g,h)}),delete d._.arrows[r+"Path"],delete d._.arrows[r+"Marker"],delete d._.arrows[r+"dx"],delete d._.arrows[r+"Type"],delete d._.arrows[r+"String"];for(k in p)if(p[b](k)&&!p[k]){var F=a._g.doc.getElementById(k);F&&F.parentNode.removeChild(F)}}},u={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},v=function(a,b,d){if(b=u[c(b).toLowerCase()]){for(var e=a.attrs["stroke-width"]||"1",f={round:e,square:e,butt:0}[a.attrs["stroke-linecap"]||d["stroke-linecap"]]||0,g=[],h=b.length;h--;)g[h]=b[h]*e+(h%2?1:-1)*f;q(a.node,{"stroke-dasharray":g.join(",")})}},w=function(d,f){var i=d.node,k=d.attrs,m=i.style.visibility;i.style.visibility="hidden";for(var o in f)if(f[b](o)){if(!a._availableAttrs[b](o))continue;var p=f[o];switch(k[o]=p,o){case"blur":d.blur(p);break;case"href":case"title":case"target":var u=i.parentNode;if("a"!=u.tagName.toLowerCase()){var w=q("a");u.insertBefore(w,i),w.appendChild(i),u=w}"target"==o?u.setAttributeNS(n,"show","blank"==p?"new":p):u.setAttributeNS(n,o,p);break;case"cursor":i.style.cursor=p;break;case"transform":d.transform(p);break;case"arrow-start":t(d,p);break;case"arrow-end":t(d,p,1);break;case"clip-rect":var x=c(p).split(j);if(4==x.length){d.clip&&d.clip.parentNode.parentNode.removeChild(d.clip.parentNode);var z=q("clipPath"),A=q("rect");z.id=a.createUUID(),q(A,{x:x[0],y:x[1],width:x[2],height:x[3]}),z.appendChild(A),d.paper.defs.appendChild(z),q(i,{"clip-path":"url(#"+z.id+")"}),d.clip=A}if(!p){var B=i.getAttribute("clip-path");if(B){var C=a._g.doc.getElementById(B.replace(/(^url\(#|\)$)/g,l));C&&C.parentNode.removeChild(C),q(i,{"clip-path":l}),delete d.clip}}break;case"path":"path"==d.type&&(q(i,{d:p?k.path=a._pathToAbsolute(p):"M0,0"}),d._.dirty=1,d._.arrows&&("startString"in d._.arrows&&t(d,d._.arrows.startString),"endString"in d._.arrows&&t(d,d._.arrows.endString,1)));break;case"width":if(i.setAttribute(o,p),d._.dirty=1,!k.fx)break;o="x",p=k.x;case"x":k.fx&&(p=-k.x-(k.width||0));case"rx":if("rx"==o&&"rect"==d.type)break;case"cx":i.setAttribute(o,p),d.pattern&&s(d),d._.dirty=1;break;case"height":if(i.setAttribute(o,p),d._.dirty=1,!k.fy)break;o="y",p=k.y;case"y":k.fy&&(p=-k.y-(k.height||0));case"ry":if("ry"==o&&"rect"==d.type)break;case"cy":i.setAttribute(o,p),d.pattern&&s(d),d._.dirty=1;break;case"r":"rect"==d.type?q(i,{rx:p,ry:p}):i.setAttribute(o,p),d._.dirty=1;break;case"src":"image"==d.type&&i.setAttributeNS(n,"href",p);break;case"stroke-width":(1!=d._.sx||1!=d._.sy)&&(p/=g(h(d._.sx),h(d._.sy))||1),d.paper._vbSize&&(p*=d.paper._vbSize),i.setAttribute(o,p),k["stroke-dasharray"]&&v(d,k["stroke-dasharray"],f),d._.arrows&&("startString"in d._.arrows&&t(d,d._.arrows.startString),"endString"in d._.arrows&&t(d,d._.arrows.endString,1));break;case"stroke-dasharray":v(d,p,f);break;case"fill":var D=c(p).match(a._ISURL);if(D){z=q("pattern");var E=q("image");z.id=a.createUUID(),q(z,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),q(E,{x:0,y:0,"xlink:href":D[1]}),z.appendChild(E),function(b){a._preload(D[1],function(){var a=this.offsetWidth,c=this.offsetHeight;q(b,{width:a,height:c}),q(E,{width:a,height:c}),d.paper.safari()})}(z),d.paper.defs.appendChild(z),q(i,{fill:"url(#"+z.id+")"}),d.pattern=z,d.pattern&&s(d);break}var F=a.getRGB(p);if(F.error){if(("circle"==d.type||"ellipse"==d.type||"r"!=c(p).charAt())&&r(d,p)){if("opacity"in k||"fill-opacity"in k){var G=a._g.doc.getElementById(i.getAttribute("fill").replace(/^url\(#|\)$/g,l));if(G){var H=G.getElementsByTagName("stop");q(H[H.length-1],{"stop-opacity":("opacity"in k?k.opacity:1)*("fill-opacity"in k?k["fill-opacity"]:1)})}}k.gradient=p,k.fill="none";break}}else delete f.gradient,delete k.gradient,!a.is(k.opacity,"undefined")&&a.is(f.opacity,"undefined")&&q(i,{opacity:k.opacity}),!a.is(k["fill-opacity"],"undefined")&&a.is(f["fill-opacity"],"undefined")&&q(i,{"fill-opacity":k["fill-opacity"]});F[b]("opacity")&&q(i,{"fill-opacity":F.opacity>1?F.opacity/100:F.opacity});case"stroke":F=a.getRGB(p),i.setAttribute(o,F.hex),"stroke"==o&&F[b]("opacity")&&q(i,{"stroke-opacity":F.opacity>1?F.opacity/100:F.opacity}),"stroke"==o&&d._.arrows&&("startString"in d._.arrows&&t(d,d._.arrows.startString),"endString"in d._.arrows&&t(d,d._.arrows.endString,1));break;case"gradient":("circle"==d.type||"ellipse"==d.type||"r"!=c(p).charAt())&&r(d,p);break;case"opacity":k.gradient&&!k[b]("stroke-opacity")&&q(i,{"stroke-opacity":p>1?p/100:p});case"fill-opacity":if(k.gradient){G=a._g.doc.getElementById(i.getAttribute("fill").replace(/^url\(#|\)$/g,l)),G&&(H=G.getElementsByTagName("stop"),q(H[H.length-1],{"stop-opacity":p}));break}default:"font-size"==o&&(p=e(p,10)+"px");var I=o.replace(/(\-.)/g,function(a){return a.substring(1).toUpperCase()});i.style[I]=p,d._.dirty=1,i.setAttribute(o,p)}}y(d,f),i.style.visibility=m},x=1.2,y=function(d,f){if("text"==d.type&&(f[b]("text")||f[b]("font")||f[b]("font-size")||f[b]("x")||f[b]("y"))){var g=d.attrs,h=d.node,i=h.firstChild?e(a._g.doc.defaultView.getComputedStyle(h.firstChild,l).getPropertyValue("font-size"),10):10;if(f[b]("text")){for(g.text=f.text;h.firstChild;)h.removeChild(h.firstChild);for(var j,k=c(f.text).split("\n"),m=[],n=0,o=k.length;o>n;n++)j=q("tspan"),n&&q(j,{dy:i*x,x:g.x}),j.appendChild(a._g.doc.createTextNode(k[n])),h.appendChild(j),m[n]=j}else for(m=h.getElementsByTagName("tspan"),n=0,o=m.length;o>n;n++)n?q(m[n],{dy:i*x,x:g.x}):q(m[0],{dy:0});q(h,{x:g.x,y:g.y}),d._.dirty=1;var p=d._getBBox(),r=g.y-(p.y+p.height/2);r&&a.is(r,"finite")&&q(m[0],{dy:r})}},z=function(b,c){this[0]=this.node=b,b.raphael=!0,this.id=a._oid++,b.raphaelid=this.id,this.matrix=a.matrix(),this.realPath=null,this.paper=c,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!c.bottom&&(c.bottom=this),this.prev=c.top,c.top&&(c.top.next=this),c.top=this,this.next=null},A=a.el;z.prototype=A,A.constructor=z,a._engine.path=function(a,b){var c=q("path");b.canvas&&b.canvas.appendChild(c);var d=new z(c,b);return d.type="path",w(d,{fill:"none",stroke:"#000",path:a}),d},A.rotate=function(a,b,e){if(this.removed)return this;if(a=c(a).split(j),a.length-1&&(b=d(a[1]),e=d(a[2])),a=d(a[0]),null==e&&(b=e),null==b||null==e){var f=this.getBBox(1);b=f.x+f.width/2,e=f.y+f.height/2}return this.transform(this._.transform.concat([["r",a,b,e]])),this},A.scale=function(a,b,e,f){if(this.removed)return this;if(a=c(a).split(j),a.length-1&&(b=d(a[1]),e=d(a[2]),f=d(a[3])),a=d(a[0]),null==b&&(b=a),null==f&&(e=f),null==e||null==f)var g=this.getBBox(1);return e=null==e?g.x+g.width/2:e,f=null==f?g.y+g.height/2:f,this.transform(this._.transform.concat([["s",a,b,e,f]])),this},A.translate=function(a,b){return this.removed?this:(a=c(a).split(j),a.length-1&&(b=d(a[1])),a=d(a[0])||0,b=+b||0,this.transform(this._.transform.concat([["t",a,b]])),this)},A.transform=function(c){var d=this._;if(null==c)return d.transform;if(a._extractTransform(this,c),this.clip&&q(this.clip,{transform:this.matrix.invert()}),this.pattern&&s(this),this.node&&q(this.node,{transform:this.matrix}),1!=d.sx||1!=d.sy){var e=this.attrs[b]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":e})}return this},A.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},A.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},A.remove=function(){if(!this.removed&&this.node.parentNode){var b=this.paper;b.__set__&&b.__set__.exclude(this),k.unbind("raphael.*.*."+this.id),this.gradient&&b.defs.removeChild(this.gradient),a._tear(this,b),"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node);for(var c in this)this[c]="function"==typeof this[c]?a._removedFactory(c):null;this.removed=!0}},A._getBBox=function(){if("none"==this.node.style.display){this.show();var a=!0}var b={};try{b=this.node.getBBox()}catch(c){}finally{b=b||{}}return a&&this.hide(),b},A.attr=function(c,d){if(this.removed)return this;if(null==c){var e={};for(var f in this.attrs)this.attrs[b](f)&&(e[f]=this.attrs[f]);return e.gradient&&"none"==e.fill&&(e.fill=e.gradient)&&delete e.gradient,e.transform=this._.transform,e}if(null==d&&a.is(c,"string")){if("fill"==c&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==c)return this._.transform;for(var g=c.split(j),h={},i=0,l=g.length;l>i;i++)c=g[i],c in this.attrs?h[c]=this.attrs[c]:a.is(this.paper.customAttributes[c],"function")?h[c]=this.paper.customAttributes[c].def:h[c]=a._availableAttrs[c];return l-1?h:h[g[0]]}if(null==d&&a.is(c,"array")){for(h={},i=0,l=c.length;l>i;i++)h[c[i]]=this.attr(c[i]);return h}if(null!=d){var m={};m[c]=d}else null!=c&&a.is(c,"object")&&(m=c);for(var n in m)k("raphael.attr."+n+"."+this.id,this,m[n]);for(n in this.paper.customAttributes)if(this.paper.customAttributes[b](n)&&m[b](n)&&a.is(this.paper.customAttributes[n],"function")){var o=this.paper.customAttributes[n].apply(this,[].concat(m[n]));this.attrs[n]=m[n];for(var p in o)o[b](p)&&(m[p]=o[p])}return w(this,m),this},A.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var b=this.paper;return b.top!=this&&a._tofront(this,b),this},A.toBack=function(){if(this.removed)return this;var b=this.node.parentNode;"a"==b.tagName.toLowerCase()?b.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):b.firstChild!=this.node&&b.insertBefore(this.node,this.node.parentNode.firstChild),a._toback(this,this.paper);this.paper;return this},A.insertAfter=function(b){if(this.removed)return this;var c=b.node||b[b.length-1].node;return c.nextSibling?c.parentNode.insertBefore(this.node,c.nextSibling):c.parentNode.appendChild(this.node),a._insertafter(this,b,this.paper),this},A.insertBefore=function(b){if(this.removed)return this;var c=b.node||b[0].node;return c.parentNode.insertBefore(this.node,c),a._insertbefore(this,b,this.paper),this},A.blur=function(b){var c=this;if(0!==+b){var d=q("filter"),e=q("feGaussianBlur");c.attrs.blur=b,d.id=a.createUUID(),q(e,{stdDeviation:+b||1.5}),d.appendChild(e),c.paper.defs.appendChild(d),c._blur=d,q(c.node,{filter:"url(#"+d.id+")"})}else c._blur&&(c._blur.parentNode.removeChild(c._blur),delete c._blur,delete c.attrs.blur),c.node.removeAttribute("filter")},a._engine.circle=function(a,b,c,d){var e=q("circle");a.canvas&&a.canvas.appendChild(e);var f=new z(e,a);return f.attrs={cx:b,cy:c,r:d,fill:"none",stroke:"#000"},f.type="circle",q(e,f.attrs),f},a._engine.rect=function(a,b,c,d,e,f){var g=q("rect");a.canvas&&a.canvas.appendChild(g);var h=new z(g,a);return h.attrs={x:b,y:c,width:d,height:e,r:f||0,rx:f||0,ry:f||0,fill:"none",stroke:"#000"},h.type="rect",q(g,h.attrs),h},a._engine.ellipse=function(a,b,c,d,e){var f=q("ellipse");a.canvas&&a.canvas.appendChild(f);var g=new z(f,a);return g.attrs={cx:b,cy:c,rx:d,ry:e,fill:"none",stroke:"#000"},g.type="ellipse",q(f,g.attrs),g},a._engine.image=function(a,b,c,d,e,f){var g=q("image");q(g,{x:c,y:d,width:e,height:f,preserveAspectRatio:"none"}),g.setAttributeNS(n,"href",b),a.canvas&&a.canvas.appendChild(g);var h=new z(g,a);return h.attrs={x:c,y:d,width:e,height:f,src:b},h.type="image",h},a._engine.text=function(b,c,d,e){var f=q("text");b.canvas&&b.canvas.appendChild(f);
var g=new z(f,b);return g.attrs={x:c,y:d,"text-anchor":"middle",text:e,font:a._availableAttrs.font,stroke:"none",fill:"#000"},g.type="text",w(g,g.attrs),g},a._engine.setSize=function(a,b){return this.width=a||this.width,this.height=b||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},a._engine.create=function(){var b=a._getContainer.apply(0,arguments),c=b&&b.container,d=b.x,e=b.y,f=b.width,g=b.height;if(!c)throw new Error("SVG container not found.");var h,i=q("svg"),j="overflow:hidden;";return d=d||0,e=e||0,f=f||512,g=g||342,q(i,{height:g,version:1.1,width:f,xmlns:"http://www.w3.org/2000/svg"}),1==c?(i.style.cssText=j+"position:absolute;left:"+d+"px;top:"+e+"px",a._g.doc.body.appendChild(i),h=1):(i.style.cssText=j+"position:relative",c.firstChild?c.insertBefore(i,c.firstChild):c.appendChild(i)),c=new a._Paper,c.width=f,c.height=g,c.canvas=i,c.clear(),c._left=c._top=0,h&&(c.renderfix=function(){}),c.renderfix(),c},a._engine.setViewBox=function(a,b,c,d,e){k("raphael.setViewBox",this,this._viewBox,[a,b,c,d,e]);var f,h,i=g(c/this.width,d/this.height),j=this.top,l=e?"meet":"xMinYMin";for(null==a?(this._vbSize&&(i=1),delete this._vbSize,f="0 0 "+this.width+m+this.height):(this._vbSize=i,f=a+m+b+m+c+m+d),q(this.canvas,{viewBox:f,preserveAspectRatio:l});i&&j;)h="stroke-width"in j.attrs?j.attrs["stroke-width"]:1,j.attr({"stroke-width":h}),j._.dirty=1,j._.dirtyT=1,j=j.prev;return this._viewBox=[a,b,c,d,!!e],this},a.prototype.renderfix=function(){var a,b=this.canvas,c=b.style;try{a=b.getScreenCTM()||b.createSVGMatrix()}catch(d){a=b.createSVGMatrix()}var e=-a.e%1,f=-a.f%1;(e||f)&&(e&&(this._left=(this._left+e)%1,c.left=this._left+"px"),f&&(this._top=(this._top+f)%1,c.top=this._top+"px"))},a.prototype.clear=function(){a.eve("raphael.clear",this);for(var b=this.canvas;b.firstChild;)b.removeChild(b.firstChild);this.bottom=this.top=null,(this.desc=q("desc")).appendChild(a._g.doc.createTextNode("Created with Raphaël "+a.version)),b.appendChild(this.desc),b.appendChild(this.defs=q("defs"))},a.prototype.remove=function(){k("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var b in this)this[b]="function"==typeof this[b]?a._removedFactory(b):null};var B=a.st;for(var C in A)A[b](C)&&!B[b](C)&&(B[C]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a].apply(c,b)})}}(C))}(window.Raphael),window.Raphael.vml&&function(a){var b="hasOwnProperty",c=String,d=parseFloat,e=Math,f=e.round,g=e.max,h=e.min,i=e.abs,j="fill",k=/[, ]+/,l=a.eve,m=" progid:DXImageTransform.Microsoft",n=" ",o="",p={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},q=/([clmz]),?([^clmz]*)/gi,r=/ progid:\S+Blur\([^\)]+\)/g,s=/-?[^,\s-]+/g,t="position:absolute;left:0;top:0;width:1px;height:1px",u=21600,v={path:1,rect:1,image:1},w={circle:1,ellipse:1},x=function(b){var d=/[ahqstv]/gi,e=a._pathToAbsolute;if(c(b).match(d)&&(e=a._path2curve),d=/[clmz]/g,e==a._pathToAbsolute&&!c(b).match(d)){var g=c(b).replace(q,function(a,b,c){var d=[],e="m"==b.toLowerCase(),g=p[b];return c.replace(s,function(a){e&&2==d.length&&(g+=d+p["m"==b?"l":"L"],d=[]),d.push(f(a*u))}),g+d});return g}var h,i,j=e(b);g=[];for(var k=0,l=j.length;l>k;k++){h=j[k],i=j[k][0].toLowerCase(),"z"==i&&(i="x");for(var m=1,r=h.length;r>m;m++)i+=f(h[m]*u)+(m!=r-1?",":o);g.push(i)}return g.join(n)},y=function(b,c,d){var e=a.matrix();return e.rotate(-b,.5,.5),{dx:e.x(c,d),dy:e.y(c,d)}},z=function(a,b,c,d,e,f){var g=a._,h=a.matrix,k=g.fillpos,l=a.node,m=l.style,o=1,p="",q=u/b,r=u/c;if(m.visibility="hidden",b&&c){if(l.coordsize=i(q)+n+i(r),m.rotation=f*(0>b*c?-1:1),f){var s=y(f,d,e);d=s.dx,e=s.dy}if(0>b&&(p+="x"),0>c&&(p+=" y")&&(o=-1),m.flip=p,l.coordorigin=d*-q+n+e*-r,k||g.fillsize){var t=l.getElementsByTagName(j);t=t&&t[0],l.removeChild(t),k&&(s=y(f,h.x(k[0],k[1]),h.y(k[0],k[1])),t.position=s.dx*o+n+s.dy*o),g.fillsize&&(t.size=g.fillsize[0]*i(b)+n+g.fillsize[1]*i(c)),l.appendChild(t)}m.visibility="visible"}};a.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var A=function(a,b,d){for(var e=c(b).toLowerCase().split("-"),f=d?"end":"start",g=e.length,h="classic",i="medium",j="medium";g--;)switch(e[g]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":h=e[g];break;case"wide":case"narrow":j=e[g];break;case"long":case"short":i=e[g]}var k=a.node.getElementsByTagName("stroke")[0];k[f+"arrow"]=h,k[f+"arrowlength"]=i,k[f+"arrowwidth"]=j},B=function(e,i){e.attrs=e.attrs||{};var l=e.node,m=e.attrs,p=l.style,q=v[e.type]&&(i.x!=m.x||i.y!=m.y||i.width!=m.width||i.height!=m.height||i.cx!=m.cx||i.cy!=m.cy||i.rx!=m.rx||i.ry!=m.ry||i.r!=m.r),r=w[e.type]&&(m.cx!=i.cx||m.cy!=i.cy||m.r!=i.r||m.rx!=i.rx||m.ry!=i.ry),s=e;for(var t in i)i[b](t)&&(m[t]=i[t]);if(q&&(m.path=a._getPath[e.type](e),e._.dirty=1),i.href&&(l.href=i.href),i.title&&(l.title=i.title),i.target&&(l.target=i.target),i.cursor&&(p.cursor=i.cursor),"blur"in i&&e.blur(i.blur),(i.path&&"path"==e.type||q)&&(l.path=x(~c(m.path).toLowerCase().indexOf("r")?a._pathToAbsolute(m.path):m.path),"image"==e.type&&(e._.fillpos=[m.x,m.y],e._.fillsize=[m.width,m.height],z(e,1,1,0,0,0))),"transform"in i&&e.transform(i.transform),r){var y=+m.cx,B=+m.cy,D=+m.rx||+m.r||0,E=+m.ry||+m.r||0;l.path=a.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",f((y-D)*u),f((B-E)*u),f((y+D)*u),f((B+E)*u),f(y*u))}if("clip-rect"in i){var G=c(i["clip-rect"]).split(k);if(4==G.length){G[2]=+G[2]+ +G[0],G[3]=+G[3]+ +G[1];var H=l.clipRect||a._g.doc.createElement("div"),I=H.style;I.clip=a.format("rect({1}px {2}px {3}px {0}px)",G),l.clipRect||(I.position="absolute",I.top=0,I.left=0,I.width=e.paper.width+"px",I.height=e.paper.height+"px",l.parentNode.insertBefore(H,l),H.appendChild(l),l.clipRect=H)}i["clip-rect"]||l.clipRect&&(l.clipRect.style.clip="auto")}if(e.textpath){var J=e.textpath.style;i.font&&(J.font=i.font),i["font-family"]&&(J.fontFamily='"'+i["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,o)+'"'),i["font-size"]&&(J.fontSize=i["font-size"]),i["font-weight"]&&(J.fontWeight=i["font-weight"]),i["font-style"]&&(J.fontStyle=i["font-style"])}if("arrow-start"in i&&A(s,i["arrow-start"]),"arrow-end"in i&&A(s,i["arrow-end"],1),null!=i.opacity||null!=i["stroke-width"]||null!=i.fill||null!=i.src||null!=i.stroke||null!=i["stroke-width"]||null!=i["stroke-opacity"]||null!=i["fill-opacity"]||null!=i["stroke-dasharray"]||null!=i["stroke-miterlimit"]||null!=i["stroke-linejoin"]||null!=i["stroke-linecap"]){var K=l.getElementsByTagName(j),L=!1;if(K=K&&K[0],!K&&(L=K=F(j)),"image"==e.type&&i.src&&(K.src=i.src),i.fill&&(K.on=!0),(null==K.on||"none"==i.fill||null===i.fill)&&(K.on=!1),K.on&&i.fill){var M=c(i.fill).match(a._ISURL);if(M){K.parentNode==l&&l.removeChild(K),K.rotate=!0,K.src=M[1],K.type="tile";var N=e.getBBox(1);K.position=N.x+n+N.y,e._.fillpos=[N.x,N.y],a._preload(M[1],function(){e._.fillsize=[this.offsetWidth,this.offsetHeight]})}else K.color=a.getRGB(i.fill).hex,K.src=o,K.type="solid",a.getRGB(i.fill).error&&(s.type in{circle:1,ellipse:1}||"r"!=c(i.fill).charAt())&&C(s,i.fill,K)&&(m.fill="none",m.gradient=i.fill,K.rotate=!1)}if("fill-opacity"in i||"opacity"in i){var O=((+m["fill-opacity"]+1||2)-1)*((+m.opacity+1||2)-1)*((+a.getRGB(i.fill).o+1||2)-1);O=h(g(O,0),1),K.opacity=O,K.src&&(K.color="none")}l.appendChild(K);var P=l.getElementsByTagName("stroke")&&l.getElementsByTagName("stroke")[0],Q=!1;!P&&(Q=P=F("stroke")),(i.stroke&&"none"!=i.stroke||i["stroke-width"]||null!=i["stroke-opacity"]||i["stroke-dasharray"]||i["stroke-miterlimit"]||i["stroke-linejoin"]||i["stroke-linecap"])&&(P.on=!0),("none"==i.stroke||null===i.stroke||null==P.on||0==i.stroke||0==i["stroke-width"])&&(P.on=!1);var R=a.getRGB(i.stroke);P.on&&i.stroke&&(P.color=R.hex),O=((+m["stroke-opacity"]+1||2)-1)*((+m.opacity+1||2)-1)*((+R.o+1||2)-1);var S=.75*(d(i["stroke-width"])||1);if(O=h(g(O,0),1),null==i["stroke-width"]&&(S=m["stroke-width"]),i["stroke-width"]&&(P.weight=S),S&&1>S&&(O*=S)&&(P.weight=1),P.opacity=O,i["stroke-linejoin"]&&(P.joinstyle=i["stroke-linejoin"]||"miter"),P.miterlimit=i["stroke-miterlimit"]||8,i["stroke-linecap"]&&(P.endcap="butt"==i["stroke-linecap"]?"flat":"square"==i["stroke-linecap"]?"square":"round"),i["stroke-dasharray"]){var T={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};P.dashstyle=T[b](i["stroke-dasharray"])?T[i["stroke-dasharray"]]:o}Q&&l.appendChild(P)}if("text"==s.type){s.paper.canvas.style.display=o;var U=s.paper.span,V=100,W=m.font&&m.font.match(/\d+(?:\.\d*)?(?=px)/);p=U.style,m.font&&(p.font=m.font),m["font-family"]&&(p.fontFamily=m["font-family"]),m["font-weight"]&&(p.fontWeight=m["font-weight"]),m["font-style"]&&(p.fontStyle=m["font-style"]),W=d(m["font-size"]||W&&W[0])||10,p.fontSize=W*V+"px",s.textpath.string&&(U.innerHTML=c(s.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var X=U.getBoundingClientRect();s.W=m.w=(X.right-X.left)/V,s.H=m.h=(X.bottom-X.top)/V,s.X=m.x,s.Y=m.y+s.H/2,("x"in i||"y"in i)&&(s.path.v=a.format("m{0},{1}l{2},{1}",f(m.x*u),f(m.y*u),f(m.x*u)+1));for(var Y=["x","y","text","font","font-family","font-weight","font-style","font-size"],Z=0,$=Y.length;$>Z;Z++)if(Y[Z]in i){s._.dirty=1;break}switch(m["text-anchor"]){case"start":s.textpath.style["v-text-align"]="left",s.bbx=s.W/2;break;case"end":s.textpath.style["v-text-align"]="right",s.bbx=-s.W/2;break;default:s.textpath.style["v-text-align"]="center",s.bbx=0}s.textpath.style["v-text-kern"]=!0}},C=function(b,f,g){b.attrs=b.attrs||{};var h=(b.attrs,Math.pow),i="linear",j=".5 .5";if(b.attrs.gradient=f,f=c(f).replace(a._radial_gradient,function(a,b,c){return i="radial",b&&c&&(b=d(b),c=d(c),h(b-.5,2)+h(c-.5,2)>.25&&(c=e.sqrt(.25-h(b-.5,2))*(2*(c>.5)-1)+.5),j=b+n+c),o}),f=f.split(/\s*\-\s*/),"linear"==i){var k=f.shift();if(k=-d(k),isNaN(k))return null}var l=a._parseDots(f);if(!l)return null;if(b=b.shape||b.node,l.length){b.removeChild(g),g.on=!0,g.method="none",g.color=l[0].color,g.color2=l[l.length-1].color;for(var m=[],p=0,q=l.length;q>p;p++)l[p].offset&&m.push(l[p].offset+n+l[p].color);g.colors=m.length?m.join():"0% "+g.color,"radial"==i?(g.type="gradientTitle",g.focus="100%",g.focussize="0 0",g.focusposition=j,g.angle=0):(g.type="gradient",g.angle=(270-k)%360),b.appendChild(g)}return 1},D=function(b,c){this[0]=this.node=b,b.raphael=!0,this.id=a._oid++,b.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=c,this.matrix=a.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!c.bottom&&(c.bottom=this),this.prev=c.top,c.top&&(c.top.next=this),c.top=this,this.next=null},E=a.el;D.prototype=E,E.constructor=D,E.transform=function(b){if(null==b)return this._.transform;var d,e=this.paper._viewBoxShift,f=e?"s"+[e.scale,e.scale]+"-1-1t"+[e.dx,e.dy]:o;e&&(d=b=c(b).replace(/\.{3}|\u2026/g,this._.transform||o)),a._extractTransform(this,f+b);var g,h=this.matrix.clone(),i=this.skew,j=this.node,k=~c(this.attrs.fill).indexOf("-"),l=!c(this.attrs.fill).indexOf("url(");if(h.translate(-.5,-.5),l||k||"image"==this.type)if(i.matrix="1 0 0 1",i.offset="0 0",g=h.split(),k&&g.noRotation||!g.isSimple){j.style.filter=h.toFilter();var m=this.getBBox(),p=this.getBBox(1),q=m.x-p.x,r=m.y-p.y;j.coordorigin=q*-u+n+r*-u,z(this,1,1,q,r,0)}else j.style.filter=o,z(this,g.scalex,g.scaley,g.dx,g.dy,g.rotate);else j.style.filter=o,i.matrix=c(h),i.offset=h.offset();return d&&(this._.transform=d),this},E.rotate=function(a,b,e){if(this.removed)return this;if(null!=a){if(a=c(a).split(k),a.length-1&&(b=d(a[1]),e=d(a[2])),a=d(a[0]),null==e&&(b=e),null==b||null==e){var f=this.getBBox(1);b=f.x+f.width/2,e=f.y+f.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",a,b,e]])),this}},E.translate=function(a,b){return this.removed?this:(a=c(a).split(k),a.length-1&&(b=d(a[1])),a=d(a[0])||0,b=+b||0,this._.bbox&&(this._.bbox.x+=a,this._.bbox.y+=b),this.transform(this._.transform.concat([["t",a,b]])),this)},E.scale=function(a,b,e,f){if(this.removed)return this;if(a=c(a).split(k),a.length-1&&(b=d(a[1]),e=d(a[2]),f=d(a[3]),isNaN(e)&&(e=null),isNaN(f)&&(f=null)),a=d(a[0]),null==b&&(b=a),null==f&&(e=f),null==e||null==f)var g=this.getBBox(1);return e=null==e?g.x+g.width/2:e,f=null==f?g.y+g.height/2:f,this.transform(this._.transform.concat([["s",a,b,e,f]])),this._.dirtyT=1,this},E.hide=function(){return!this.removed&&(this.node.style.display="none"),this},E.show=function(){return!this.removed&&(this.node.style.display=o),this},E._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},E.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),a.eve.unbind("raphael.*.*."+this.id),a._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var b in this)this[b]="function"==typeof this[b]?a._removedFactory(b):null;this.removed=!0}},E.attr=function(c,d){if(this.removed)return this;if(null==c){var e={};for(var f in this.attrs)this.attrs[b](f)&&(e[f]=this.attrs[f]);return e.gradient&&"none"==e.fill&&(e.fill=e.gradient)&&delete e.gradient,e.transform=this._.transform,e}if(null==d&&a.is(c,"string")){if(c==j&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var g=c.split(k),h={},i=0,m=g.length;m>i;i++)c=g[i],c in this.attrs?h[c]=this.attrs[c]:a.is(this.paper.customAttributes[c],"function")?h[c]=this.paper.customAttributes[c].def:h[c]=a._availableAttrs[c];return m-1?h:h[g[0]]}if(this.attrs&&null==d&&a.is(c,"array")){for(h={},i=0,m=c.length;m>i;i++)h[c[i]]=this.attr(c[i]);return h}var n;null!=d&&(n={},n[c]=d),null==d&&a.is(c,"object")&&(n=c);for(var o in n)l("raphael.attr."+o+"."+this.id,this,n[o]);if(n){for(o in this.paper.customAttributes)if(this.paper.customAttributes[b](o)&&n[b](o)&&a.is(this.paper.customAttributes[o],"function")){var p=this.paper.customAttributes[o].apply(this,[].concat(n[o]));this.attrs[o]=n[o];for(var q in p)p[b](q)&&(n[q]=p[q])}n.text&&"text"==this.type&&(this.textpath.string=n.text),B(this,n)}return this},E.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&a._tofront(this,this.paper),this},E.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),a._toback(this,this.paper)),this)},E.insertAfter=function(b){return this.removed?this:(b.constructor==a.st.constructor&&(b=b[b.length-1]),b.node.nextSibling?b.node.parentNode.insertBefore(this.node,b.node.nextSibling):b.node.parentNode.appendChild(this.node),a._insertafter(this,b,this.paper),this)},E.insertBefore=function(b){return this.removed?this:(b.constructor==a.st.constructor&&(b=b[0]),b.node.parentNode.insertBefore(this.node,b.node),a._insertbefore(this,b,this.paper),this)},E.blur=function(b){var c=this.node.runtimeStyle,d=c.filter;d=d.replace(r,o),0!==+b?(this.attrs.blur=b,c.filter=d+n+m+".Blur(pixelradius="+(+b||1.5)+")",c.margin=a.format("-{0}px 0 0 -{0}px",f(+b||1.5))):(c.filter=d,c.margin=0,delete this.attrs.blur)},a._engine.path=function(a,b){var c=F("shape");c.style.cssText=t,c.coordsize=u+n+u,c.coordorigin=b.coordorigin;var d=new D(c,b),e={fill:"none",stroke:"#000"};a&&(e.path=a),d.type="path",d.path=[],d.Path=o,B(d,e),b.canvas.appendChild(c);var f=F("skew");return f.on=!0,c.appendChild(f),d.skew=f,d.transform(o),d},a._engine.rect=function(b,c,d,e,f,g){var h=a._rectPath(c,d,e,f,g),i=b.path(h),j=i.attrs;return i.X=j.x=c,i.Y=j.y=d,i.W=j.width=e,i.H=j.height=f,j.r=g,j.path=h,i.type="rect",i},a._engine.ellipse=function(a,b,c,d,e){var f=a.path();f.attrs;return f.X=b-d,f.Y=c-e,f.W=2*d,f.H=2*e,f.type="ellipse",B(f,{cx:b,cy:c,rx:d,ry:e}),f},a._engine.circle=function(a,b,c,d){var e=a.path();e.attrs;return e.X=b-d,e.Y=c-d,e.W=e.H=2*d,e.type="circle",B(e,{cx:b,cy:c,r:d}),e},a._engine.image=function(b,c,d,e,f,g){var h=a._rectPath(d,e,f,g),i=b.path(h).attr({stroke:"none"}),k=i.attrs,l=i.node,m=l.getElementsByTagName(j)[0];return k.src=c,i.X=k.x=d,i.Y=k.y=e,i.W=k.width=f,i.H=k.height=g,k.path=h,i.type="image",m.parentNode==l&&l.removeChild(m),m.rotate=!0,m.src=c,m.type="tile",i._.fillpos=[d,e],i._.fillsize=[f,g],l.appendChild(m),z(i,1,1,0,0,0),i},a._engine.text=function(b,d,e,g){var h=F("shape"),i=F("path"),j=F("textpath");d=d||0,e=e||0,g=g||"",i.v=a.format("m{0},{1}l{2},{1}",f(d*u),f(e*u),f(d*u)+1),i.textpathok=!0,j.string=c(g),j.on=!0,h.style.cssText=t,h.coordsize=u+n+u,h.coordorigin="0 0";var k=new D(h,b),l={fill:"#000",stroke:"none",font:a._availableAttrs.font,text:g};k.shape=h,k.path=i,k.textpath=j,k.type="text",k.attrs.text=c(g),k.attrs.x=d,k.attrs.y=e,k.attrs.w=1,k.attrs.h=1,B(k,l),h.appendChild(j),h.appendChild(i),b.canvas.appendChild(h);var m=F("skew");return m.on=!0,h.appendChild(m),k.skew=m,k.transform(o),k},a._engine.setSize=function(b,c){var d=this.canvas.style;return this.width=b,this.height=c,b==+b&&(b+="px"),c==+c&&(c+="px"),d.width=b,d.height=c,d.clip="rect(0 "+b+" "+c+" 0)",this._viewBox&&a._engine.setViewBox.apply(this,this._viewBox),this},a._engine.setViewBox=function(b,c,d,e,f){a.eve("raphael.setViewBox",this,this._viewBox,[b,c,d,e,f]);var h,i,j=this.width,k=this.height,l=1/g(d/j,e/k);return f&&(h=k/e,i=j/d,j>d*h&&(b-=(j-d*h)/2/h),k>e*i&&(c-=(k-e*i)/2/i)),this._viewBox=[b,c,d,e,!!f],this._viewBoxShift={dx:-b,dy:-c,scale:l},this.forEach(function(a){a.transform("...")}),this};var F;a._engine.initWin=function(a){var b=a.document;b.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!b.namespaces.rvml&&b.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),F=function(a){return b.createElement("<rvml:"+a+' class="rvml">')}}catch(c){F=function(a){return b.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},a._engine.initWin(a._g.win),a._engine.create=function(){var b=a._getContainer.apply(0,arguments),c=b.container,d=b.height,e=b.width,f=b.x,g=b.y;if(!c)throw new Error("VML container not found.");var h=new a._Paper,i=h.canvas=a._g.doc.createElement("div"),j=i.style;return f=f||0,g=g||0,e=e||512,d=d||342,h.width=e,h.height=d,e==+e&&(e+="px"),d==+d&&(d+="px"),h.coordsize=1e3*u+n+1e3*u,h.coordorigin="0 0",h.span=a._g.doc.createElement("span"),h.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",i.appendChild(h.span),j.cssText=a.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",e,d),1==c?(a._g.doc.body.appendChild(i),j.left=f+"px",j.top=g+"px",j.position="absolute"):c.firstChild?c.insertBefore(i,c.firstChild):c.appendChild(i),h.renderfix=function(){},h},a.prototype.clear=function(){a.eve("raphael.clear",this),this.canvas.innerHTML=o,this.span=a._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},a.prototype.remove=function(){a.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var b in this)this[b]="function"==typeof this[b]?a._removedFactory(b):null;return!0};var G=a.st;for(var H in E)E[b](H)&&!G[b](H)&&(G[H]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a].apply(c,b)})}}(H))}(window.Raphael),!function(){function a(a){return a.replace(t,"").replace(u,",").replace(v,"").replace(w,"").replace(x,"").split(/^$|,+/)}function b(a){return"'"+a.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function c(c,d){function e(a){return m+=a.split(/\n/).length-1,k&&(a=a.replace(/[\n\r\t\s]+/g," ").replace(/<!--.*?-->/g,"")),a&&(a=s[1]+b(a)+s[2]+"\n"),a}function f(b){var c=m;if(j?b=j(b,d):g&&(b=b.replace(/\n/g,function(){return m++,"$line="+m+";"})),0===b.indexOf("=")){var e=l&&!/^=[=#]/.test(b);if(b=b.replace(/^=[=#]?|[\s;]*$/g,""),e){var f=b.replace(/\s*\([^\)]+\)/,"");n[f]||/^(include|print)$/.test(f)||(b="$escape("+b+")")}else b="$string("+b+")";b=s[1]+b+s[2]}return g&&(b="$line="+c+";"+b),r(a(b),function(a){if(a&&!p[a]){var b;b="print"===a?u:"include"===a?v:n[a]?"$utils."+a:o[a]?"$helpers."+a:"$data."+a,w+=a+"="+b+",",p[a]=!0}}),b+"\n"}var g=d.debug,h=d.openTag,i=d.closeTag,j=d.parser,k=d.compress,l=d.escape,m=1,p={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},q="".trim,s=q?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],t=q?"$out+=text;return $out;":"$out.push(text);",u="function(){var text=''.concat.apply('',arguments);"+t+"}",v="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+t+"}",w="'use strict';var $utils=this,$helpers=$utils.$helpers,"+(g?"$line=0,":""),x=s[0],y="return new String("+s[3]+");";r(c.split(h),function(a){a=a.split(i);var b=a[0],c=a[1];1===a.length?x+=e(b):(x+=f(b),c&&(x+=e(c)))});var z=w+x+y;g&&(z="try{"+z+"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:"+b(c)+".split(/\\n/)[$line-1].replace(/^[\\s\\t]+/,'')};}");try{var A=new Function("$data","$filename",z);return A.prototype=n,A}catch(B){throw B.temp="function anonymous($data,$filename) {"+z+"}",B}}var d=function(a,b){return"string"==typeof b?q(b,{filename:a}):g(a,b)};d.version="3.0.0",d.config=function(a,b){e[a]=b};var e=d.defaults={openTag:"<%",closeTag:"%>",escape:!0,cache:!0,compress:!1,parser:null},f=d.cache={};d.render=function(a,b){return q(a,b)};var g=d.renderFile=function(a,b){var c=d.get(a)||p({filename:a,name:"Render Error",message:"Template not found"});return b?c(b):c};d.get=function(a){var b;if(f[a])b=f[a];else if("object"==typeof document){var c=document.getElementById(a);if(c){var d=(c.value||c.innerHTML).replace(/^\s*|\s*$/g,"");b=q(d,{filename:a})}}return b};var h=function(a,b){return"string"!=typeof a&&(b=typeof a,"number"===b?a+="":a="function"===b?h(a.call(a)):""),a},i={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},j=function(a){return i[a]},k=function(a){return h(a).replace(/&(?![\w#]+;)|[<>"']/g,j)},l=Array.isArray||function(a){return"[object Array]"==={}.toString.call(a)},m=function(a,b){var c,d;if(l(a))for(c=0,d=a.length;d>c;c++)b.call(a,a[c],c,a);else for(c in a)b.call(a,a[c],c)},n=d.utils={$helpers:{},$include:g,$string:h,$escape:k,$each:m};d.helper=function(a,b){o[a]=b};var o=d.helpers=n.$helpers;d.onerror=function(a){var b="Template Error\n\n";for(var c in a)b+="<"+c+">\n"+a[c]+"\n\n";"object"==typeof console&&console.error(b)};var p=function(a){return d.onerror(a),function(){return"{Template Error}"}},q=d.compile=function(a,b){function d(c){try{return new i(c,h)+""}catch(d){return b.debug?p(d)():(b.debug=!0,q(a,b)(c))}}b=b||{};for(var g in e)void 0===b[g]&&(b[g]=e[g]);var h=b.filename;try{var i=c(a,b)}catch(j){return j.filename=h||"anonymous",j.name="Syntax Error",p(j)}return d.prototype=i.prototype,d.toString=function(){return i.toString()},h&&b.cache&&(f[h]=d),d},r=n.$each,s="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",t=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|[\s\t\n]*\.[\s\t\n]*[$\w\.]+/g,u=/[^\w$]+/g,v=new RegExp(["\\b"+s.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),w=/^\d[^,]*|,\d[^,]*/g,x=/^,+|,+$/g;e.openTag="{{",e.closeTag="}}";var y=function(a,b){var c=b.split(":"),d=c.shift(),e=c.join(":")||"";return e&&(e=", "+e),"$helpers."+d+"("+a+e+")"};e.parser=function(a,b){a=a.replace(/^\s/,"");var c=a.split(" "),e=c.shift(),f=c.join(" ");switch(e){case"if":a="if("+f+"){";break;case"else":c="if"===c.shift()?" if("+c.join(" ")+")":"",a="}else"+c+"{";break;case"/if":a="}";break;case"each":var g=c[0]||"$data",h=c[1]||"as",i=c[2]||"$value",j=c[3]||"$index",k=i+","+j;"as"!==h&&(g="[]"),a="$each("+g+",function("+k+"){";break;case"/each":a="});";break;case"echo":a="print("+f+");";break;case"print":case"include":a=e+"("+c.join(",")+");";break;default:if(-1!==f.indexOf("|")){var l=b.escape;0===a.indexOf("#")&&(a=a.substr(1),l=!1);for(var m=0,n=a.split("|"),o=n.length,p=l?"$escape":"$string",q=p+"("+n[m++]+")";o>m;m++)q=y(q,n[m]);a="=#"+q}else a=d.helpers[e]?"=#"+e+"("+c.join(",")+");":"="+a}return a},"function"==typeof define?define(function(){return d}):"undefined"!=typeof exports?module.exports=d:this.template=d}();